<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#635BFF">
    <meta name="description" content="MPI Compliance Record Keeping System">

    <title>Taquero - Hot Like A Mexican</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icons/icon-512.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Google Sign-In -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="screen active">
        <div class="login-container">
            <div class="logo">
                <h1>üå∂Ô∏è Hot Like A Mexican</h1>
                <h2>MPI Compliance Records</h2>
            </div>

            <div id="g_id_onload"
                 data-client_id="YOUR_GOOGLE_CLIENT_ID"
                 data-callback="handleCredentialResponse"
                 data-auto_prompt="false">
            </div>

            <div class="g_id_signin"
                 data-type="standard"
                 data-size="large"
                 data-theme="outline"
                 data-text="sign_in_with"
                 data-shape="rectangular"
                 data-logo_alignment="left">
            </div>

            <p class="login-info">Sign in with your work Google account</p>

            <!-- Test Login (REMOVE IN PRODUCTION) -->
            <div class="test-login-divider">
                <span>OR FOR TESTING</span>
            </div>

            <form id="test-login-form" class="test-login-form">
                <input type="password"
                       id="test-password"
                       placeholder="Enter test password"
                       required
                       autocomplete="off">
                <button type="submit" class="btn-test-login">Test Login</button>
            </form>
            <p class="test-login-info">Password: 123456 (for preview only)</p>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="app-screen" class="screen">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <button id="home-btn" class="btn-home" style="display: none;">‚Üê Home</button>
                    <h1 id="header-title">Taquero</h1>
                </div>
                <div class="user-info">
                    <span id="user-name"></span>
                    <button id="logout-btn" class="btn-logout">Logout</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Selection View -->
            <div id="dashboard-selection-view" class="view active">
                <div class="dashboard-header">
                    <h2>Select Dashboard</h2>
                    <p>Choose which system you want to access</p>
                </div>
                <div class="dashboard-grid">
                    <div class="record-card dashboard-selector" data-dashboard="restaurant">
                        <div class="card-icon">üåÆ</div>
                        <h3>Restaurant</h3>
                        <p>FCP Records, Inventory, Events & Financial Data</p>
                    </div>

                    <div class="record-card dashboard-selector" data-dashboard="manufacturing">
                        <div class="card-icon">üè≠</div>
                        <h3>Food Manufacturing</h3>
                        <p>FCP Records, Traceability & B2B Sales</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant Dashboard -->
            <div id="restaurant-dashboard-view" class="view">
                <div class="dashboard-header">
                    <h2>Restaurant Dashboard</h2>
                    <p>Hot Like A Mexican - Wellington, NZ</p>
                </div>
                <div class="dashboard-grid">
                    <!-- FCP Recordkeeping -->
                    <div class="record-card" data-type="restaurant-fcp">
                        <div class="card-icon">üìã</div>
                        <h3>FCP Recordkeeping</h3>
                        <p>All 13 food control plan sections</p>
                    </div>

                    <!-- Inventory Management -->
                    <div class="record-card" data-type="inventory">
                        <div class="card-icon">üì¶</div>
                        <h3>Inventory Management</h3>
                        <p>Stocktaking & shopping lists</p>
                    </div>

                    <!-- Financial Data -->
                    <div class="record-card" data-type="financial">
                        <div class="card-icon">üí∞</div>
                        <h3>Financial Data</h3>
                        <p>CSV intake & data visualization</p>
                    </div>

                    <!-- Caravan Events -->
                    <div class="record-card" data-type="events">
                        <div class="card-icon">üöê</div>
                        <h3>Caravan Events</h3>
                        <p>Event management & scheduling</p>
                    </div>
                </div>
            </div>

            <!-- Manufacturing Dashboard -->
            <div id="manufacturing-dashboard-view" class="view">
                <div class="dashboard-header">
                    <h2>Food Manufacturing Dashboard</h2>
                    <p>Hot Like A Mexican - Wellington, NZ</p>
                </div>
                <div class="dashboard-grid">
                    <!-- FCP Recordkeeping -->
                    <div class="record-card" data-type="manufacturing-fcp">
                        <div class="card-icon">üìã</div>
                        <h3>FCP Recordkeeping</h3>
                        <p>All 13 food control plan sections</p>
                    </div>

                    <!-- Traceability System -->
                    <div class="record-card" data-type="traceability">
                        <div class="card-icon">üîç</div>
                        <h3>Traceability System</h3>
                        <p>Track ingredients & products</p>
                    </div>

                    <!-- B2B Sales Tracking -->
                    <div class="record-card" data-type="b2b-sales">
                        <div class="card-icon">üìä</div>
                        <h3>B2B Sales Tracking</h3>
                        <p>Business-to-business orders</p>
                    </div>
                </div>
            </div>

            <!-- Restaurant FCP Modules View -->
            <div id="restaurant-fcp-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="restaurant-dashboard">‚Üê Back to Restaurant</button>
                    <h2>Restaurant FCP Records</h2>
                </div>
                <div class="modules-container">
                    <!-- Shared Modules (5) -->
                    <div class="module-section">
                        <h3 class="section-title">Shared Records</h3>
                        <div class="dashboard-grid">
                            <div class="record-card" data-type="staff-training">
                                <div class="card-icon">üë•</div>
                                <h3>Staff Training Records</h3>
                                <p>Training logs & certifications</p>
                            </div>

                            <div class="record-card" data-type="personal-hygiene">
                                <div class="card-icon">üßº</div>
                                <h3>Personal Hygiene</h3>
                                <p>Hygiene management & records</p>
                            </div>

                            <div class="record-card" data-type="fridge-temps">
                                <div class="card-icon">üå°Ô∏è</div>
                                <h3>Fridge/Chiller Temps</h3>
                                <p>Temperature monitoring logs</p>
                            </div>

                            <div class="record-card" data-type="cleaning-closing">
                                <div class="card-icon">üßπ</div>
                                <h3>Cleaning & Closing</h3>
                                <p>Daily cleaning schedules</p>
                            </div>

                            <div class="record-card" data-type="equipment-maintenance">
                                <div class="card-icon">üîß</div>
                                <h3>Equipment Maintenance</h3>
                                <p>Facilities & water supply records</p>
                            </div>
                        </div>
                    </div>

                    <!-- Restaurant-Only Modules (8) -->
                    <div class="module-section">
                        <h3 class="section-title">Restaurant-Specific Records</h3>
                        <div class="dashboard-grid">
                            <div class="record-card" data-type="cooking-poultry-batch">
                                <div class="card-icon">üçó</div>
                                <h3>Cooking Poultry - Batch Checks</h3>
                                <p>Batch checks for poultry, minced meat, liver</p>
                            </div>

                            <div class="record-card" data-type="proving-method">
                                <div class="card-icon">‚úÖ</div>
                                <h3>Proving the Method</h3>
                                <p>Method validation records</p>
                            </div>

                            <div class="record-card" data-type="proving-reheating">
                                <div class="card-icon">‚ô®Ô∏è</div>
                                <h3>Proving Reheating Method</h3>
                                <p>Reheating validation</p>
                            </div>

                            <div class="record-card" data-type="proving-time-temp">
                                <div class="card-icon">‚è±Ô∏è</div>
                                <h3>Proving Time/Temp Cooking</h3>
                                <p>Time/temperature validation</p>
                            </div>

                            <div class="record-card" data-type="proving-cooling">
                                <div class="card-icon">‚ùÑÔ∏è</div>
                                <h3>Proving Cooling Method</h3>
                                <p>Cooling method validation</p>
                            </div>

                            <div class="record-card" data-type="cooling-batch">
                                <div class="card-icon">üßä</div>
                                <h3>Cooling Food - Batch Checks</h3>
                                <p>Freshly cooked food cooling logs</p>
                            </div>

                            <div class="record-card" data-type="something-wrong">
                                <div class="card-icon">‚ö†Ô∏è</div>
                                <h3>When Something Goes Wrong</h3>
                                <p>Incident reports & corrective actions</p>
                            </div>

                            <div class="record-card" data-type="customer-complaints">
                                <div class="card-icon">üí¨</div>
                                <h3>Customer Complaints</h3>
                                <p>Complaint tracking & resolution</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manufacturing FCP Modules View -->
            <div id="manufacturing-fcp-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="manufacturing-dashboard">‚Üê Back to Manufacturing</button>
                    <h2>Manufacturing FCP Records</h2>
                </div>
                <div class="modules-container">
                    <!-- Shared Modules (5) -->
                    <div class="module-section">
                        <h3 class="section-title">Shared Records</h3>
                        <div class="dashboard-grid">
                            <div class="record-card" data-type="staff-training">
                                <div class="card-icon">üë•</div>
                                <h3>Staff Training Records</h3>
                                <p>Training logs & certifications</p>
                            </div>

                            <div class="record-card" data-type="personal-hygiene">
                                <div class="card-icon">üßº</div>
                                <h3>Personal Hygiene</h3>
                                <p>Hygiene management & records</p>
                            </div>

                            <div class="record-card" data-type="fridge-temps">
                                <div class="card-icon">üå°Ô∏è</div>
                                <h3>Fridge/Chiller Temps</h3>
                                <p>Temperature monitoring logs</p>
                            </div>

                            <div class="record-card" data-type="cleaning-closing">
                                <div class="card-icon">üßπ</div>
                                <h3>Cleaning & Closing</h3>
                                <p>Daily cleaning schedules</p>
                            </div>

                            <div class="record-card" data-type="equipment-maintenance">
                                <div class="card-icon">üîß</div>
                                <h3>Equipment Maintenance</h3>
                                <p>Facilities & water supply records</p>
                            </div>
                        </div>
                    </div>

                    <!-- Manufacturing-Only Modules (8) -->
                    <div class="module-section">
                        <h3 class="section-title">Manufacturing-Specific Records</h3>
                        <div class="dashboard-grid">
                            <div class="record-card" data-type="cooking-poultry-batch">
                                <div class="card-icon">üçó</div>
                                <h3>Cooking Poultry - Batch Checks</h3>
                                <p>Batch checks for poultry, minced meat, liver</p>
                            </div>

                            <div class="record-card" data-type="proving-method">
                                <div class="card-icon">‚úÖ</div>
                                <h3>Proving the Method</h3>
                                <p>Method validation records</p>
                            </div>

                            <div class="record-card" data-type="proving-reheating">
                                <div class="card-icon">‚ô®Ô∏è</div>
                                <h3>Proving Reheating Method</h3>
                                <p>Reheating validation</p>
                            </div>

                            <div class="record-card" data-type="proving-time-temp">
                                <div class="card-icon">‚è±Ô∏è</div>
                                <h3>Proving Time/Temp Cooking</h3>
                                <p>Time/temperature validation</p>
                            </div>

                            <div class="record-card" data-type="proving-cooling">
                                <div class="card-icon">‚ùÑÔ∏è</div>
                                <h3>Proving Cooling Method</h3>
                                <p>Cooling method validation</p>
                            </div>

                            <div class="record-card" data-type="cooling-batch">
                                <div class="card-icon">üßä</div>
                                <h3>Cooling Food - Batch Checks</h3>
                                <p>Freshly cooked food cooling logs</p>
                            </div>

                            <div class="record-card" data-type="processes-controls">
                                <div class="card-icon">‚öôÔ∏è</div>
                                <h3>Processes & Controls</h3>
                                <p>Knowing your processes and controls</p>
                            </div>

                            <div class="record-card" data-type="selling-to-businesses">
                                <div class="card-icon">üè¢</div>
                                <h3>Selling to Businesses</h3>
                                <p>B2B sales documentation</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Placeholder Views for Other Modules -->
            <div id="inventory-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="restaurant-dashboard">‚Üê Back to Restaurant</button>
                    <h2>Inventory Management</h2>
                </div>
                <p class="coming-soon">Inventory management module coming soon...</p>
            </div>

            <div id="financial-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="restaurant-dashboard">‚Üê Back to Restaurant</button>
                    <h2>Financial Data</h2>
                </div>
                <p class="coming-soon">Financial data module coming soon...</p>
            </div>

            <div id="events-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="restaurant-dashboard">‚Üê Back to Restaurant</button>
                    <h2>Caravan Events</h2>
                </div>
                <p class="coming-soon">Caravan events module coming soon...</p>
            </div>

            <div id="traceability-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="manufacturing-dashboard">‚Üê Back to Manufacturing</button>
                    <h2>Traceability System</h2>
                </div>
                <p class="coming-soon">Traceability system coming soon...</p>
            </div>

            <div id="b2b-sales-view" class="view">
                <div class="form-header">
                    <button class="btn-back" data-back="manufacturing-dashboard">‚Üê Back to Manufacturing</button>
                    <h2>B2B Sales Tracking</h2>
                </div>
                <p class="coming-soon">B2B sales tracking module coming soon...</p>
            </div>

            <!-- Placeholder Views for All FCP Modules -->
            <div id="staff-training-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Staff Training Records</h2>
                </div>
                <p class="coming-soon">Staff training records coming soon...</p>
            </div>

            <div id="personal-hygiene-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Personal Hygiene Records</h2>
                </div>
                <p class="coming-soon">Personal hygiene management coming soon...</p>
            </div>

            <div id="fridge-temps-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Fridge/Chiller Temperature Checks</h2>
                </div>
                <p class="coming-soon">Temperature monitoring coming soon...</p>
            </div>

            <div id="cleaning-closing-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Cleaning & Closing</h2>
                </div>
                <p class="coming-soon">Cleaning schedules coming soon...</p>
            </div>

            <div id="equipment-maintenance-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Equipment Maintenance</h2>
                </div>
                <p class="coming-soon">Equipment maintenance records coming soon...</p>
            </div>

            <div id="cooking-poultry-batch-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Cooking Poultry - Batch Checks</h2>
                </div>
                <p class="coming-soon">Batch check records coming soon...</p>
            </div>

            <div id="proving-method-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Proving the Method</h2>
                </div>
                <p class="coming-soon">Method validation coming soon...</p>
            </div>

            <div id="proving-reheating-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Proving Reheating Method</h2>
                </div>
                <p class="coming-soon">Reheating validation coming soon...</p>
            </div>

            <div id="proving-time-temp-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Proving Time/Temperature Cooking</h2>
                </div>
                <p class="coming-soon">Time/temperature validation coming soon...</p>
            </div>

            <div id="proving-cooling-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Proving Cooling Method</h2>
                </div>
                <p class="coming-soon">Cooling method validation coming soon...</p>
            </div>

            <div id="cooling-batch-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Cooling Food - Batch Checks</h2>
                </div>
                <p class="coming-soon">Cooling batch checks coming soon...</p>
            </div>

            <div id="something-wrong-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>When Something Goes Wrong</h2>
                </div>
                <p class="coming-soon">Incident reporting coming soon...</p>
            </div>

            <div id="customer-complaints-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Customer Complaints</h2>
                </div>
                <p class="coming-soon">Complaint tracking coming soon...</p>
            </div>

            <div id="processes-controls-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Processes & Controls</h2>
                </div>
                <p class="coming-soon">Process documentation coming soon...</p>
            </div>

            <div id="selling-to-businesses-view" class="view">
                <div class="form-header">
                    <button class="btn-back-dynamic">‚Üê Back</button>
                    <h2>Selling to Businesses</h2>
                </div>
                <p class="coming-soon">B2B documentation coming soon...</p>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="spinner"></div>
            <p>Saving...</p>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script src="js/sheets.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
