function Lj(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ef={exports:{}},Mi={},Tf={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),Bj=Symbol.for("react.portal"),zj=Symbol.for("react.fragment"),$j=Symbol.for("react.strict_mode"),Wj=Symbol.for("react.profiler"),Uj=Symbol.for("react.provider"),Gj=Symbol.for("react.context"),Hj=Symbol.for("react.forward_ref"),Vj=Symbol.for("react.suspense"),Yj=Symbol.for("react.memo"),qj=Symbol.for("react.lazy"),am=Symbol.iterator;function Kj(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var Df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rf=Object.assign,Mf={};function Ps(e,t,r){this.props=e,this.context=t,this.refs=Mf,this.updater=r||Df}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pf(){}Pf.prototype=Ps.prototype;function ld(e,t,r){this.props=e,this.context=t,this.refs=Mf,this.updater=r||Df}var cd=ld.prototype=new Pf;cd.constructor=ld;Rf(cd,Ps.prototype);cd.isPureReactComponent=!0;var om=Array.isArray,Af=Object.prototype.hasOwnProperty,dd={current:null},Of={key:!0,ref:!0,__self:!0,__source:!0};function If(e,t,r){var s,a={},o=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Af.call(t,s)&&!Of.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Ga,type:e,key:o,ref:i,props:a,_owner:dd.current}}function Qj(e,t){return{$$typeof:Ga,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ga}function Zj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var im=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zj(""+e.key):t.toString(36)}function Ao(e,t,r,s,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ga:case Bj:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+dl(i,0):s,om(a)?(r="",e!=null&&(r=e.replace(im,"$&/")+"/"),Ao(a,t,r,"",function(u){return u})):a!=null&&(ud(a)&&(a=Qj(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(im,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",om(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+dl(o,l);i+=Ao(o,t,r,c,a)}else if(c=Kj(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+dl(o,l++),i+=Ao(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function io(e,t,r){if(e==null)return e;var s=[],a=0;return Ao(e,s,"","",function(o){return t.call(r,o,a++)}),s}function Xj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Oo={transition:null},Jj={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:dd};function Ff(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:io,forEach:function(e,t,r){io(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Ps;se.Fragment=zj;se.Profiler=Wj;se.PureComponent=ld;se.StrictMode=$j;se.Suspense=Vj;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;se.act=Ff;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Rf({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=dd.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Af.call(t,c)&&!Of.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ga,type:e.type,key:a,ref:o,props:s,_owner:i}};se.createContext=function(e){return e={$$typeof:Gj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Uj,_context:e},e.Consumer=e};se.createElement=If;se.createFactory=function(e){var t=If.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Hj,render:e}};se.isValidElement=ud;se.lazy=function(e){return{$$typeof:qj,_payload:{_status:-1,_result:e},_init:Xj}};se.memo=function(e,t){return{$$typeof:Yj,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=t}};se.unstable_act=Ff;se.useCallback=function(e,t){return rt.current.useCallback(e,t)};se.useContext=function(e){return rt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};se.useEffect=function(e,t){return rt.current.useEffect(e,t)};se.useId=function(){return rt.current.useId()};se.useImperativeHandle=function(e,t,r){return rt.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return rt.current.useMemo(e,t)};se.useReducer=function(e,t,r){return rt.current.useReducer(e,t,r)};se.useRef=function(e){return rt.current.useRef(e)};se.useState=function(e){return rt.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return rt.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return rt.current.useTransition()};se.version="18.3.1";Tf.exports=se;var d=Tf.exports;const en=id(d),Ha=Lj({__proto__:null,default:en},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=d,tN=Symbol.for("react.element"),nN=Symbol.for("react.fragment"),rN=Object.prototype.hasOwnProperty,sN=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aN={key:!0,ref:!0,__self:!0,__source:!0};function _f(e,t,r){var s,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)rN.call(t,s)&&!aN.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:tN,type:e,key:o,ref:i,props:a,_owner:sN.current}}Mi.Fragment=nN;Mi.jsx=_f;Mi.jsxs=_f;Ef.exports=Mi;var n=Ef.exports,tc={},Lf={exports:{}},Ct={},Bf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,_){var L=A.length;A.push(_);e:for(;0<L;){var P=L-1>>>1,$=A[P];if(0<a($,_))A[P]=_,A[L]=$,L=P;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var _=A[0],L=A.pop();if(L!==_){A[0]=L;e:for(var P=0,$=A.length,oe=$>>>1;P<oe;){var ce=2*(P+1)-1,ot=A[ce],ke=ce+1,Q=A[ke];if(0>a(ot,L))ke<$&&0>a(Q,ot)?(A[P]=Q,A[ke]=L,P=ke):(A[P]=ot,A[ce]=L,P=ce);else if(ke<$&&0>a(Q,L))A[P]=Q,A[ke]=L,P=ke;else break e}}return _}function a(A,_){var L=A.sortIndex-_.sortIndex;return L!==0?L:A.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,m=null,p=3,g=!1,j=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var _=r(u);_!==null;){if(_.callback===null)s(u);else if(_.startTime<=A)s(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(u)}}function w(A){if(v=!1,y(A),!j)if(r(c)!==null)j=!0,B(C);else{var _=r(u);_!==null&&G(w,_.startTime-A)}}function C(A,_){j=!1,v&&(v=!1,f(D),D=-1),g=!0;var L=p;try{for(y(_),m=r(c);m!==null&&(!(m.expirationTime>_)||A&&!T());){var P=m.callback;if(typeof P=="function"){m.callback=null,p=m.priorityLevel;var $=P(m.expirationTime<=_);_=e.unstable_now(),typeof $=="function"?m.callback=$:m===r(c)&&s(c),y(_)}else s(c);m=r(c)}if(m!==null)var oe=!0;else{var ce=r(u);ce!==null&&G(w,ce.startTime-_),oe=!1}return oe}finally{m=null,p=L,g=!1}}var R=!1,k=null,D=-1,b=5,S=-1;function T(){return!(e.unstable_now()-S<b)}function E(){if(k!==null){var A=e.unstable_now();S=A;var _=!0;try{_=k(!0,A)}finally{_?I():(R=!1,k=null)}}else R=!1}var I;if(typeof x=="function")I=function(){x(E)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=E,I=function(){F.postMessage(null)}}else I=function(){N(E,0)};function B(A){k=A,R||(R=!0,I())}function G(A,_){D=N(function(){A(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||g||(j=!0,B(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var L=p;p=_;try{return A()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,_){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=p;p=A;try{return _()}finally{p=L}},e.unstable_scheduleCallback=function(A,_,L){var P=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?P+L:P):L=P,A){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,A={id:h++,callback:_,priorityLevel:A,startTime:L,expirationTime:$,sortIndex:-1},L>P?(A.sortIndex=L,t(u,A),r(c)===null&&A===r(u)&&(v?(f(D),D=-1):v=!0,G(w,L-P))):(A.sortIndex=$,t(c,A),j||g||(j=!0,B(C))),A},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(A){var _=p;return function(){var L=p;p=_;try{return A.apply(this,arguments)}finally{p=L}}}})(zf);Bf.exports=zf;var oN=Bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN=d,gt=oN;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $f=new Set,ga={};function $r(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(ga[e]=t,e=0;e<t.length;e++)$f.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,lN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lm={},cm={};function cN(e){return nc.call(cm,e)?!0:nc.call(lm,e)?!1:lN.test(e)?cm[e]=!0:(lm[e]=!0,!1)}function dN(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uN(e,t,r,s){if(t===null||typeof t>"u"||dN(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,r,s,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var md=/[\-:]([a-z])/g;function hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(md,hd);Ye[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(md,hd);Ye[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(md,hd);Ye[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function fd(e,t,r,s){var a=Ye.hasOwnProperty(t)?Ye[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uN(t,r,a,s)&&(r=null),s||a===null?cN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Tn=iN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),pd=Symbol.for("react.strict_mode"),rc=Symbol.for("react.profiler"),Wf=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),xd=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),dm=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=dm&&e[dm]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,ul;function ea(e){if(ul===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ul=t&&t[1]||""}return`
`+ul+e}var ml=!1;function hl(e,t){if(!e||ml)return"";ml=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=s.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{ml=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ea(e):""}function mN(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function oc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Xr:return"Portal";case rc:return"Profiler";case pd:return"StrictMode";case sc:return"Suspense";case ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uf:return(e.displayName||"Context")+".Consumer";case Wf:return(e._context.displayName||"Context")+".Provider";case xd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gd:return t=e.displayName||null,t!==null?t:oc(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return oc(e(t))}catch{}}return null}function hN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oc(t);case 8:return t===pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fN(e){var t=Hf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function co(e){e._valueTracker||(e._valueTracker=fN(e))}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Hf(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ic(e,t){var r=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function um(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yf(e,t){t=t.checked,t!=null&&fd(e,"checked",t,!1)}function lc(e,t){Yf(e,t);var r=rr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cc(e,t.type,r):t.hasOwnProperty("defaultValue")&&cc(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cc(e,t,r){(t!=="number"||qo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ta=Array.isArray;function ds(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+rr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function dc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(ta(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rr(r)}}function qf(e,t){var r=rr(t.value),s=rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function fm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,Qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function va(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pN=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(e){pN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ia[t]=ia[e]})});function Zf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ia.hasOwnProperty(e)&&ia[e]?(""+t).trim():t+"px"}function Xf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Zf(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var xN=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mc(e,t){if(t){if(xN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pc=null,us=null,ms=null;function pm(e){if(e=qa(e)){if(typeof pc!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Fi(t),pc(e.stateNode,e.type,t))}}function Jf(e){us?ms?ms.push(e):ms=[e]:us=e}function ep(){if(us){var e=us,t=ms;if(ms=us=null,pm(e),t)for(e=0;e<t.length;e++)pm(t[e])}}function tp(e,t){return e(t)}function np(){}var fl=!1;function rp(e,t,r){if(fl)return e(t,r);fl=!0;try{return tp(e,t,r)}finally{fl=!1,(us!==null||ms!==null)&&(np(),ep())}}function ya(e,t){var r=e.stateNode;if(r===null)return null;var s=Fi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var xc=!1;if(Nn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){xc=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{xc=!1}function gN(e,t,r,s,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var la=!1,Ko=null,Qo=!1,gc=null,vN={onError:function(e){la=!0,Ko=e}};function yN(e,t,r,s,a,o,i,l,c){la=!1,Ko=null,gN.apply(vN,arguments)}function jN(e,t,r,s,a,o,i,l,c){if(yN.apply(this,arguments),la){if(la){var u=Ko;la=!1,Ko=null}else throw Error(U(198));Qo||(Qo=!0,gc=u)}}function Wr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xm(e){if(Wr(e)!==e)throw Error(U(188))}function NN(e){var t=e.alternate;if(!t){if(t=Wr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return xm(a),e;if(o===s)return xm(a),t;o=o.sibling}throw Error(U(188))}if(r.return!==s.return)r=a,s=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,s=o;break}if(l===s){i=!0,s=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,s=a;break}if(l===s){i=!0,s=o,r=a;break}l=l.sibling}if(!i)throw Error(U(189))}}if(r.alternate!==s)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function ap(e){return e=NN(e),e!==null?op(e):null}function op(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=op(e);if(t!==null)return t;e=e.sibling}return null}var ip=gt.unstable_scheduleCallback,gm=gt.unstable_cancelCallback,wN=gt.unstable_shouldYield,bN=gt.unstable_requestPaint,Ee=gt.unstable_now,SN=gt.unstable_getCurrentPriorityLevel,yd=gt.unstable_ImmediatePriority,lp=gt.unstable_UserBlockingPriority,Zo=gt.unstable_NormalPriority,CN=gt.unstable_LowPriority,cp=gt.unstable_IdlePriority,Pi=null,sn=null;function kN(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:DN,EN=Math.log,TN=Math.LN2;function DN(e){return e>>>=0,e===0?32:31-(EN(e)/TN|0)|0}var mo=64,ho=4194304;function na(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?s=na(l):(o&=i,o!==0&&(s=na(o)))}else i=r&~a,i!==0?s=na(i):o!==0&&(s=na(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ut(t),a=1<<r,s|=e[r],t&=~a;return s}function RN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MN(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ut(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&s)&&(a[i]=RN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dp(){var e=mo;return mo<<=1,!(mo&4194240)&&(mo=64),e}function pl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Va(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=r}function PN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ut(r),o=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~o}}function jd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ut(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var ue=0;function up(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mp,Nd,hp,fp,pp,yc=!1,fo=[],Yn=null,qn=null,Kn=null,ja=new Map,Na=new Map,$n=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(t.pointerId)}}function Us(e,t,r,s,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[a]},t!==null&&(t=qa(t),t!==null&&Nd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ON(e,t,r,s,a){switch(t){case"focusin":return Yn=Us(Yn,e,t,r,s,a),!0;case"dragenter":return qn=Us(qn,e,t,r,s,a),!0;case"mouseover":return Kn=Us(Kn,e,t,r,s,a),!0;case"pointerover":var o=a.pointerId;return ja.set(o,Us(ja.get(o)||null,e,t,r,s,a)),!0;case"gotpointercapture":return o=a.pointerId,Na.set(o,Us(Na.get(o)||null,e,t,r,s,a)),!0}return!1}function xp(e){var t=br(e.target);if(t!==null){var r=Wr(t);if(r!==null){if(t=r.tag,t===13){if(t=sp(r),t!==null){e.blockedOn=t,pp(e.priority,function(){hp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);fc=s,r.target.dispatchEvent(s),fc=null}else return t=qa(r),t!==null&&Nd(t),e.blockedOn=r,!1;t.shift()}return!0}function ym(e,t,r){Io(e)&&r.delete(t)}function IN(){yc=!1,Yn!==null&&Io(Yn)&&(Yn=null),qn!==null&&Io(qn)&&(qn=null),Kn!==null&&Io(Kn)&&(Kn=null),ja.forEach(ym),Na.forEach(ym)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,yc||(yc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,IN)))}function wa(e){function t(a){return Gs(a,e)}if(0<fo.length){Gs(fo[0],e);for(var r=1;r<fo.length;r++){var s=fo[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Yn!==null&&Gs(Yn,e),qn!==null&&Gs(qn,e),Kn!==null&&Gs(Kn,e),ja.forEach(t),Na.forEach(t),r=0;r<$n.length;r++)s=$n[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)xp(r),r.blockedOn===null&&$n.shift()}var hs=Tn.ReactCurrentBatchConfig,Jo=!0;function FN(e,t,r,s){var a=ue,o=hs.transition;hs.transition=null;try{ue=1,wd(e,t,r,s)}finally{ue=a,hs.transition=o}}function _N(e,t,r,s){var a=ue,o=hs.transition;hs.transition=null;try{ue=4,wd(e,t,r,s)}finally{ue=a,hs.transition=o}}function wd(e,t,r,s){if(Jo){var a=jc(e,t,r,s);if(a===null)Cl(e,t,s,ei,r),vm(e,s);else if(ON(a,e,t,r,s))s.stopPropagation();else if(vm(e,s),t&4&&-1<AN.indexOf(e)){for(;a!==null;){var o=qa(a);if(o!==null&&mp(o),o=jc(e,t,r,s),o===null&&Cl(e,t,s,ei,r),o===a)break;a=o}a!==null&&s.stopPropagation()}else Cl(e,t,s,null,r)}}var ei=null;function jc(e,t,r,s){if(ei=null,e=vd(s),e=br(e),e!==null)if(t=Wr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function gp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SN()){case yd:return 1;case lp:return 4;case Zo:case CN:return 16;case cp:return 536870912;default:return 16}default:return 16}}var Un=null,bd=null,Fo=null;function vp(){if(Fo)return Fo;var e,t=bd,r=t.length,s,a="value"in Un?Un.value:Un.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[o-s];s++);return Fo=a.slice(e,1<s?1-s:void 0)}function _o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function jm(){return!1}function kt(e){function t(r,s,a,o,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?po:jm,this.isPropagationStopped=jm,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=kt(As),Ya=be({},As,{view:0,detail:0}),LN=kt(Ya),xl,gl,Hs,Ai=be({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(xl=e.screenX-Hs.screenX,gl=e.screenY-Hs.screenY):gl=xl=0,Hs=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),Nm=kt(Ai),BN=be({},Ai,{dataTransfer:0}),zN=kt(BN),$N=be({},Ya,{relatedTarget:0}),vl=kt($N),WN=be({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),UN=kt(WN),GN=be({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HN=kt(GN),VN=be({},As,{data:0}),wm=kt(VN),YN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KN[e])?!!t[e]:!1}function Cd(){return QN}var ZN=be({},Ya,{key:function(e){if(e.key){var t=YN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(e){return e.type==="keypress"?_o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XN=kt(ZN),JN=be({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=kt(JN),ew=be({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),tw=kt(ew),nw=be({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=kt(nw),sw=be({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aw=kt(sw),ow=[9,13,27,32],kd=Nn&&"CompositionEvent"in window,ca=null;Nn&&"documentMode"in document&&(ca=document.documentMode);var iw=Nn&&"TextEvent"in window&&!ca,yp=Nn&&(!kd||ca&&8<ca&&11>=ca),Sm=" ",Cm=!1;function jp(e,t){switch(e){case"keyup":return ow.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function lw(e,t){switch(e){case"compositionend":return Np(t);case"keypress":return t.which!==32?null:(Cm=!0,Sm);case"textInput":return e=t.data,e===Sm&&Cm?null:e;default:return null}}function cw(e,t){if(es)return e==="compositionend"||!kd&&jp(e,t)?(e=vp(),Fo=bd=Un=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yp&&t.locale!=="ko"?null:t.data;default:return null}}var dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dw[e.type]:t==="textarea"}function wp(e,t,r,s){Jf(s),t=ti(t,"onChange"),0<t.length&&(r=new Sd("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var da=null,ba=null;function uw(e){Ap(e,0)}function Oi(e){var t=rs(e);if(Vf(t))return e}function mw(e,t){if(e==="change")return t}var bp=!1;if(Nn){var yl;if(Nn){var jl="oninput"in document;if(!jl){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),jl=typeof Em.oninput=="function"}yl=jl}else yl=!1;bp=yl&&(!document.documentMode||9<document.documentMode)}function Tm(){da&&(da.detachEvent("onpropertychange",Sp),ba=da=null)}function Sp(e){if(e.propertyName==="value"&&Oi(ba)){var t=[];wp(t,ba,e,vd(e)),rp(uw,t)}}function hw(e,t,r){e==="focusin"?(Tm(),da=t,ba=r,da.attachEvent("onpropertychange",Sp)):e==="focusout"&&Tm()}function fw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oi(ba)}function pw(e,t){if(e==="click")return Oi(t)}function xw(e,t){if(e==="input"||e==="change")return Oi(t)}function gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:gw;function Sa(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!nc.call(t,a)||!Yt(e[a],t[a]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,t){var r=Dm(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dm(r)}}function Cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kp(){for(var e=window,t=qo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qo(e.document)}return t}function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vw(e){var t=kp(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cp(r.ownerDocument.documentElement,r)){if(s!==null&&Ed(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(s.start,a);s=s.end===void 0?o:Math.min(s.end,a),!e.extend&&o>s&&(a=s,s=o,o=a),a=Rm(r,o);var i=Rm(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yw=Nn&&"documentMode"in document&&11>=document.documentMode,ts=null,Nc=null,ua=null,wc=!1;function Mm(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||ts==null||ts!==qo(s)||(s=ts,"selectionStart"in s&&Ed(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ua&&Sa(ua,s)||(ua=s,s=ti(Nc,"onSelect"),0<s.length&&(t=new Sd("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=ts)))}function xo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ns={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},Nl={},Ep={};Nn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Ii(e){if(Nl[e])return Nl[e];if(!ns[e])return e;var t=ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ep)return Nl[e]=t[r];return e}var Tp=Ii("animationend"),Dp=Ii("animationiteration"),Rp=Ii("animationstart"),Mp=Ii("transitionend"),Pp=new Map,Pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Pp.set(e,t),$r(t,[e])}for(var wl=0;wl<Pm.length;wl++){var bl=Pm[wl],jw=bl.toLowerCase(),Nw=bl[0].toUpperCase()+bl.slice(1);ur(jw,"on"+Nw)}ur(Tp,"onAnimationEnd");ur(Dp,"onAnimationIteration");ur(Rp,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Mp,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Am(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,jN(s,t,void 0,e),e.currentTarget=null}function Ap(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;Am(a,l,u),o=c}else for(i=0;i<s.length;i++){if(l=s[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;Am(a,l,u),o=c}}}if(Qo)throw e=gc,Qo=!1,gc=null,e}function xe(e,t){var r=t[Ec];r===void 0&&(r=t[Ec]=new Set);var s=e+"__bubble";r.has(s)||(Op(t,e,2,!1),r.add(s))}function Sl(e,t,r){var s=0;t&&(s|=4),Op(r,e,s,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[go]){e[go]=!0,$f.forEach(function(r){r!=="selectionchange"&&(ww.has(r)||Sl(r,!1,e),Sl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,Sl("selectionchange",!1,t))}}function Op(e,t,r,s){switch(gp(t)){case 1:var a=FN;break;case 4:a=_N;break;default:a=wd}r=a.bind(null,t,r,e),a=void 0,!xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Cl(e,t,r,s,a){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=br(l),i===null)return;if(c=i.tag,c===5||c===6){s=o=i;continue e}l=l.parentNode}}s=s.return}rp(function(){var u=o,h=vd(r),m=[];e:{var p=Pp.get(e);if(p!==void 0){var g=Sd,j=e;switch(e){case"keypress":if(_o(r)===0)break e;case"keydown":case"keyup":g=XN;break;case"focusin":j="focus",g=vl;break;case"focusout":j="blur",g=vl;break;case"beforeblur":case"afterblur":g=vl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tw;break;case Tp:case Dp:case Rp:g=UN;break;case Mp:g=rw;break;case"scroll":g=LN;break;case"wheel":g=aw;break;case"copy":case"cut":case"paste":g=HN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bm}var v=(t&4)!==0,N=!v&&e==="scroll",f=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,y;x!==null;){y=x;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,f!==null&&(w=ya(x,f),w!=null&&v.push(ka(x,w,y)))),N)break;x=x.return}0<v.length&&(p=new g(p,j,null,r,h),m.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==fc&&(j=r.relatedTarget||r.fromElement)&&(br(j)||j[wn]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(j=r.relatedTarget||r.toElement,g=u,j=j?br(j):null,j!==null&&(N=Wr(j),j!==N||j.tag!==5&&j.tag!==6)&&(j=null)):(g=null,j=u),g!==j)){if(v=Nm,w="onMouseLeave",f="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=bm,w="onPointerLeave",f="onPointerEnter",x="pointer"),N=g==null?p:rs(g),y=j==null?p:rs(j),p=new v(w,x+"leave",g,r,h),p.target=N,p.relatedTarget=y,w=null,br(h)===u&&(v=new v(f,x+"enter",j,r,h),v.target=y,v.relatedTarget=N,w=v),N=w,g&&j)t:{for(v=g,f=j,x=0,y=v;y;y=Yr(y))x++;for(y=0,w=f;w;w=Yr(w))y++;for(;0<x-y;)v=Yr(v),x--;for(;0<y-x;)f=Yr(f),y--;for(;x--;){if(v===f||f!==null&&v===f.alternate)break t;v=Yr(v),f=Yr(f)}v=null}else v=null;g!==null&&Om(m,p,g,v,!1),j!==null&&N!==null&&Om(m,N,j,v,!0)}}e:{if(p=u?rs(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=mw;else if(km(p))if(bp)C=xw;else{C=fw;var R=hw}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=pw);if(C&&(C=C(e,u))){wp(m,C,r,h);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&cc(p,"number",p.value)}switch(R=u?rs(u):window,e){case"focusin":(km(R)||R.contentEditable==="true")&&(ts=R,Nc=u,ua=null);break;case"focusout":ua=Nc=ts=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Mm(m,r,h);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":Mm(m,r,h)}var k;if(kd)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else es?jp(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(yp&&r.locale!=="ko"&&(es||D!=="onCompositionStart"?D==="onCompositionEnd"&&es&&(k=vp()):(Un=h,bd="value"in Un?Un.value:Un.textContent,es=!0)),R=ti(u,D),0<R.length&&(D=new wm(D,e,null,r,h),m.push({event:D,listeners:R}),k?D.data=k:(k=Np(r),k!==null&&(D.data=k)))),(k=iw?lw(e,r):cw(e,r))&&(u=ti(u,"onBeforeInput"),0<u.length&&(h=new wm("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=k))}Ap(m,t)})}function ka(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ti(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ya(e,r),o!=null&&s.unshift(ka(e,o,a)),o=ya(e,t),o!=null&&s.push(ka(e,o,a))),e=e.return}return s}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Om(e,t,r,s,a){for(var o=t._reactName,i=[];r!==null&&r!==s;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,a?(c=ya(r,o),c!=null&&i.unshift(ka(r,c,l))):a||(c=ya(r,o),c!=null&&i.push(ka(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var bw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function Im(e){return(typeof e=="string"?e:""+e).replace(bw,`
`).replace(Sw,"")}function vo(e,t,r){if(t=Im(t),Im(e)!==t&&r)throw Error(U(425))}function ni(){}var bc=null,Sc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kc=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,Fm=typeof Promise=="function"?Promise:void 0,kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Fm<"u"?function(e){return Fm.resolve(null).then(e).catch(Ew)}:kc;function Ew(e){setTimeout(function(){throw e})}function kl(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),wa(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);wa(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),tn="__reactFiber$"+Os,Ea="__reactProps$"+Os,wn="__reactContainer$"+Os,Ec="__reactEvents$"+Os,Tw="__reactListeners$"+Os,Dw="__reactHandles$"+Os;function br(e){var t=e[tn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[tn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_m(e);e!==null;){if(r=e[tn])return r;e=_m(e)}return t}e=r,r=e.parentNode}return null}function qa(e){return e=e[tn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Fi(e){return e[Ea]||null}var Tc=[],ss=-1;function mr(e){return{current:e}}function ve(e){0>ss||(e.current=Tc[ss],Tc[ss]=null,ss--)}function fe(e,t){ss++,Tc[ss]=e.current,e.current=t}var sr={},Xe=mr(sr),ct=mr(!1),Mr=sr;function ws(e,t){var r=e.type.contextTypes;if(!r)return sr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function ri(){ve(ct),ve(Xe)}function Lm(e,t,r){if(Xe.current!==sr)throw Error(U(168));fe(Xe,t),fe(ct,r)}function Ip(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(U(108,hN(e)||"Unknown",a));return be({},r,s)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Mr=Xe.current,fe(Xe,e),fe(ct,ct.current),!0}function Bm(e,t,r){var s=e.stateNode;if(!s)throw Error(U(169));r?(e=Ip(e,t,Mr),s.__reactInternalMemoizedMergedChildContext=e,ve(ct),ve(Xe),fe(Xe,e)):ve(ct),fe(ct,r)}var xn=null,_i=!1,El=!1;function Fp(e){xn===null?xn=[e]:xn.push(e)}function Rw(e){_i=!0,Fp(e)}function hr(){if(!El&&xn!==null){El=!0;var e=0,t=ue;try{var r=xn;for(ue=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}xn=null,_i=!1}catch(a){throw xn!==null&&(xn=xn.slice(e+1)),ip(yd,hr),a}finally{ue=t,El=!1}}return null}var as=[],os=0,ai=null,oi=0,Et=[],Tt=0,Pr=null,gn=1,vn="";function jr(e,t){as[os++]=oi,as[os++]=ai,ai=e,oi=t}function _p(e,t,r){Et[Tt++]=gn,Et[Tt++]=vn,Et[Tt++]=Pr,Pr=e;var s=gn;e=vn;var a=32-Ut(s)-1;s&=~(1<<a),r+=1;var o=32-Ut(t)+a;if(30<o){var i=a-a%5;o=(s&(1<<i)-1).toString(32),s>>=i,a-=i,gn=1<<32-Ut(t)+a|r<<a|s,vn=o+e}else gn=1<<o|r<<a|s,vn=e}function Td(e){e.return!==null&&(jr(e,1),_p(e,1,0))}function Dd(e){for(;e===ai;)ai=as[--os],as[os]=null,oi=as[--os],as[os]=null;for(;e===Pr;)Pr=Et[--Tt],Et[Tt]=null,vn=Et[--Tt],Et[Tt]=null,gn=Et[--Tt],Et[Tt]=null}var pt=null,ft=null,ye=!1,$t=null;function Lp(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ft=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pr!==null?{id:gn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,ft=null,!0):!1;default:return!1}}function Dc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rc(e){if(ye){var t=ft;if(t){var r=t;if(!zm(e,t)){if(Dc(e))throw Error(U(418));t=Qn(r.nextSibling);var s=pt;t&&zm(e,t)?Lp(s,r):(e.flags=e.flags&-4097|2,ye=!1,pt=e)}}else{if(Dc(e))throw Error(U(418));e.flags=e.flags&-4097|2,ye=!1,pt=e}}}function $m(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function yo(e){if(e!==pt)return!1;if(!ye)return $m(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=ft)){if(Dc(e))throw Bp(),Error(U(418));for(;t;)Lp(e,t),t=Qn(t.nextSibling)}if($m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ft=Qn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=pt?Qn(e.stateNode.nextSibling):null;return!0}function Bp(){for(var e=ft;e;)e=Qn(e.nextSibling)}function bs(){ft=pt=null,ye=!1}function Rd(e){$t===null?$t=[e]:$t.push(e)}var Mw=Tn.ReactCurrentBatchConfig;function Vs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var s=r.stateNode}if(!s)throw Error(U(147,e));var a=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function jo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wm(e){var t=e._init;return t(e._payload)}function zp(e){function t(f,x){if(e){var y=f.deletions;y===null?(f.deletions=[x],f.flags|=16):y.push(x)}}function r(f,x){if(!e)return null;for(;x!==null;)t(f,x),x=x.sibling;return null}function s(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function a(f,x){return f=er(f,x),f.index=0,f.sibling=null,f}function o(f,x,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<x?(f.flags|=2,x):y):(f.flags|=2,x)):(f.flags|=1048576,x)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,x,y,w){return x===null||x.tag!==6?(x=Ol(y,f.mode,w),x.return=f,x):(x=a(x,y),x.return=f,x)}function c(f,x,y,w){var C=y.type;return C===Jr?h(f,x,y.props.children,w,y.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bn&&Wm(C)===x.type)?(w=a(x,y.props),w.ref=Vs(f,x,y),w.return=f,w):(w=Go(y.type,y.key,y.props,null,f.mode,w),w.ref=Vs(f,x,y),w.return=f,w)}function u(f,x,y,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Il(y,f.mode,w),x.return=f,x):(x=a(x,y.children||[]),x.return=f,x)}function h(f,x,y,w,C){return x===null||x.tag!==7?(x=Er(y,f.mode,w,C),x.return=f,x):(x=a(x,y),x.return=f,x)}function m(f,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ol(""+x,f.mode,y),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lo:return y=Go(x.type,x.key,x.props,null,f.mode,y),y.ref=Vs(f,null,x),y.return=f,y;case Xr:return x=Il(x,f.mode,y),x.return=f,x;case Bn:var w=x._init;return m(f,w(x._payload),y)}if(ta(x)||$s(x))return x=Er(x,f.mode,y,null),x.return=f,x;jo(f,x)}return null}function p(f,x,y,w){var C=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(f,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:return y.key===C?c(f,x,y,w):null;case Xr:return y.key===C?u(f,x,y,w):null;case Bn:return C=y._init,p(f,x,C(y._payload),w)}if(ta(y)||$s(y))return C!==null?null:h(f,x,y,w,null);jo(f,y)}return null}function g(f,x,y,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(y)||null,l(x,f,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lo:return f=f.get(w.key===null?y:w.key)||null,c(x,f,w,C);case Xr:return f=f.get(w.key===null?y:w.key)||null,u(x,f,w,C);case Bn:var R=w._init;return g(f,x,y,R(w._payload),C)}if(ta(w)||$s(w))return f=f.get(y)||null,h(x,f,w,C,null);jo(x,w)}return null}function j(f,x,y,w){for(var C=null,R=null,k=x,D=x=0,b=null;k!==null&&D<y.length;D++){k.index>D?(b=k,k=null):b=k.sibling;var S=p(f,k,y[D],w);if(S===null){k===null&&(k=b);break}e&&k&&S.alternate===null&&t(f,k),x=o(S,x,D),R===null?C=S:R.sibling=S,R=S,k=b}if(D===y.length)return r(f,k),ye&&jr(f,D),C;if(k===null){for(;D<y.length;D++)k=m(f,y[D],w),k!==null&&(x=o(k,x,D),R===null?C=k:R.sibling=k,R=k);return ye&&jr(f,D),C}for(k=s(f,k);D<y.length;D++)b=g(k,f,D,y[D],w),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?D:b.key),x=o(b,x,D),R===null?C=b:R.sibling=b,R=b);return e&&k.forEach(function(T){return t(f,T)}),ye&&jr(f,D),C}function v(f,x,y,w){var C=$s(y);if(typeof C!="function")throw Error(U(150));if(y=C.call(y),y==null)throw Error(U(151));for(var R=C=null,k=x,D=x=0,b=null,S=y.next();k!==null&&!S.done;D++,S=y.next()){k.index>D?(b=k,k=null):b=k.sibling;var T=p(f,k,S.value,w);if(T===null){k===null&&(k=b);break}e&&k&&T.alternate===null&&t(f,k),x=o(T,x,D),R===null?C=T:R.sibling=T,R=T,k=b}if(S.done)return r(f,k),ye&&jr(f,D),C;if(k===null){for(;!S.done;D++,S=y.next())S=m(f,S.value,w),S!==null&&(x=o(S,x,D),R===null?C=S:R.sibling=S,R=S);return ye&&jr(f,D),C}for(k=s(f,k);!S.done;D++,S=y.next())S=g(k,f,D,S.value,w),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?D:S.key),x=o(S,x,D),R===null?C=S:R.sibling=S,R=S);return e&&k.forEach(function(E){return t(f,E)}),ye&&jr(f,D),C}function N(f,x,y,w){if(typeof y=="object"&&y!==null&&y.type===Jr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:e:{for(var C=y.key,R=x;R!==null;){if(R.key===C){if(C=y.type,C===Jr){if(R.tag===7){r(f,R.sibling),x=a(R,y.props.children),x.return=f,f=x;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bn&&Wm(C)===R.type){r(f,R.sibling),x=a(R,y.props),x.ref=Vs(f,R,y),x.return=f,f=x;break e}r(f,R);break}else t(f,R);R=R.sibling}y.type===Jr?(x=Er(y.props.children,f.mode,w,y.key),x.return=f,f=x):(w=Go(y.type,y.key,y.props,null,f.mode,w),w.ref=Vs(f,x,y),w.return=f,f=w)}return i(f);case Xr:e:{for(R=y.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(f,x.sibling),x=a(x,y.children||[]),x.return=f,f=x;break e}else{r(f,x);break}else t(f,x);x=x.sibling}x=Il(y,f.mode,w),x.return=f,f=x}return i(f);case Bn:return R=y._init,N(f,x,R(y._payload),w)}if(ta(y))return j(f,x,y,w);if($s(y))return v(f,x,y,w);jo(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(f,x.sibling),x=a(x,y),x.return=f,f=x):(r(f,x),x=Ol(y,f.mode,w),x.return=f,f=x),i(f)):r(f,x)}return N}var Ss=zp(!0),$p=zp(!1),ii=mr(null),li=null,is=null,Md=null;function Pd(){Md=is=li=null}function Ad(e){var t=ii.current;ve(ii),e._currentValue=t}function Mc(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function fs(e,t){li=e,Md=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Md!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(li===null)throw Error(U(308));is=e,li.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var Sr=null;function Od(e){Sr===null?Sr=[e]:Sr.push(e)}function Wp(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Od(t)):(r.next=a.next,a.next=r),t.interleaved=r,bn(e,s)}function bn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zn=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ie&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,bn(e,r)}return a=s.interleaved,a===null?(t.next=t,Od(s)):(t.next=a.next,a.next=t),s.interleaved=t,bn(e,r)}function Lo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,jd(e,r)}}function Um(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ci(e,t,r,s){var a=e.updateQueue;zn=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,h=u=c=null,l=o;do{var p=l.lane,g=l.eventTime;if((s&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(p=t,g=r,v.tag){case 1:if(j=v.payload,typeof j=="function"){m=j.call(g,m,p);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,p=typeof j=="function"?j.call(g,m,p):j,p==null)break e;m=be({},m,p);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=m):h=h.next=g,i|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(h===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Or|=i,e.lanes=i,e.memoizedState=m}}function Gm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(U(191,a));a.call(s)}}}var Ka={},an=mr(Ka),Ta=mr(Ka),Da=mr(Ka);function Cr(e){if(e===Ka)throw Error(U(174));return e}function Fd(e,t){switch(fe(Da,t),fe(Ta,e),fe(an,Ka),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uc(t,e)}ve(an),fe(an,t)}function Cs(){ve(an),ve(Ta),ve(Da)}function Gp(e){Cr(Da.current);var t=Cr(an.current),r=uc(t,e.type);t!==r&&(fe(Ta,e),fe(an,r))}function _d(e){Ta.current===e&&(ve(an),ve(Ta))}var je=mr(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function Ld(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var Bo=Tn.ReactCurrentDispatcher,Dl=Tn.ReactCurrentBatchConfig,Ar=0,we=null,Oe=null,ze=null,ui=!1,ma=!1,Ra=0,Pw=0;function Ke(){throw Error(U(321))}function Bd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yt(e[r],t[r]))return!1;return!0}function zd(e,t,r,s,a,o){if(Ar=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?Fw:_w,e=r(s,a),ma){o=0;do{if(ma=!1,Ra=0,25<=o)throw Error(U(301));o+=1,ze=Oe=null,t.updateQueue=null,Bo.current=Lw,e=r(s,a)}while(ma)}if(Bo.current=mi,t=Oe!==null&&Oe.next!==null,Ar=0,ze=Oe=we=null,ui=!1,t)throw Error(U(300));return e}function $d(){var e=Ra!==0;return Ra=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?we.memoizedState=ze=e:ze=ze.next=e,ze}function At(){if(Oe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=ze===null?we.memoizedState:ze.next;if(t!==null)ze=t,Oe=e;else{if(e===null)throw Error(U(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},ze===null?we.memoizedState=ze=e:ze=ze.next=e}return ze}function Ma(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=At(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var s=Oe,a=s.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}s.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,s=s.baseState;var l=i=null,c=null,u=o;do{var h=u.lane;if((Ar&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,i=s):c=c.next=m,we.lanes|=h,Or|=h}u=u.next}while(u!==null&&u!==o);c===null?i=s:c.next=l,Yt(s,t.memoizedState)||(lt=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do o=a.lane,we.lanes|=o,Or|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ml(e){var t=At(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Yt(o,t.memoizedState)||(lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function Hp(){}function Vp(e,t){var r=we,s=At(),a=t(),o=!Yt(s.memoizedState,a);if(o&&(s.memoizedState=a,lt=!0),s=s.queue,Wd(Kp.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,Pa(9,qp.bind(null,r,s,a,t),void 0,null),$e===null)throw Error(U(349));Ar&30||Yp(r,t,a)}return a}function Yp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qp(e,t,r,s){t.value=r,t.getSnapshot=s,Qp(t)&&Zp(e)}function Kp(e,t,r){return r(function(){Qp(t)&&Zp(e)})}function Qp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yt(e,r)}catch{return!0}}function Zp(e){var t=bn(e,1);t!==null&&Gt(t,e,1,-1)}function Hm(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t.queue=e,e=e.dispatch=Iw.bind(null,we,e),[t.memoizedState,e]}function Pa(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Xp(){return At().memoizedState}function zo(e,t,r,s){var a=Jt();we.flags|=e,a.memoizedState=Pa(1|t,r,void 0,s===void 0?null:s)}function Li(e,t,r,s){var a=At();s=s===void 0?null:s;var o=void 0;if(Oe!==null){var i=Oe.memoizedState;if(o=i.destroy,s!==null&&Bd(s,i.deps)){a.memoizedState=Pa(t,r,o,s);return}}we.flags|=e,a.memoizedState=Pa(1|t,r,o,s)}function Vm(e,t){return zo(8390656,8,e,t)}function Wd(e,t){return Li(2048,8,e,t)}function Jp(e,t){return Li(4,2,e,t)}function ex(e,t){return Li(4,4,e,t)}function tx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nx(e,t,r){return r=r!=null?r.concat([e]):null,Li(4,4,tx.bind(null,t,e),r)}function Ud(){}function rx(e,t){var r=At();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Bd(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function sx(e,t){var r=At();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Bd(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function ax(e,t,r){return Ar&21?(Yt(r,t)||(r=dp(),we.lanes|=r,Or|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r)}function Aw(e,t){var r=ue;ue=r!==0&&4>r?r:4,e(!0);var s=Dl.transition;Dl.transition={};try{e(!1),t()}finally{ue=r,Dl.transition=s}}function ox(){return At().memoizedState}function Ow(e,t,r){var s=Jn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},ix(e))lx(t,r);else if(r=Wp(e,t,r,s),r!==null){var a=nt();Gt(r,e,s,a),cx(r,t,s)}}function Iw(e,t,r){var s=Jn(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(ix(e))lx(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Yt(l,i)){var c=t.interleaved;c===null?(a.next=a,Od(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Wp(e,t,a,s),r!==null&&(a=nt(),Gt(r,e,s,a),cx(r,t,s))}}function ix(e){var t=e.alternate;return e===we||t!==null&&t===we}function lx(e,t){ma=ui=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cx(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,jd(e,r)}}var mi={readContext:Pt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Fw={readContext:Pt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Vm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zo(4194308,4,tx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var r=Jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Jt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ow.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Hm,useDebugValue:Ud,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Hm(!1),t=e[0];return e=Aw.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=we,a=Jt();if(ye){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),$e===null)throw Error(U(349));Ar&30||Yp(s,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Vm(Kp.bind(null,s,o,e),[e]),s.flags|=2048,Pa(9,qp.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=Jt(),t=$e.identifierPrefix;if(ye){var r=vn,s=gn;r=(s&~(1<<32-Ut(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ra++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_w={readContext:Pt,useCallback:rx,useContext:Pt,useEffect:Wd,useImperativeHandle:nx,useInsertionEffect:Jp,useLayoutEffect:ex,useMemo:sx,useReducer:Rl,useRef:Xp,useState:function(){return Rl(Ma)},useDebugValue:Ud,useDeferredValue:function(e){var t=At();return ax(t,Oe.memoizedState,e)},useTransition:function(){var e=Rl(Ma)[0],t=At().memoizedState;return[e,t]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:ox,unstable_isNewReconciler:!1},Lw={readContext:Pt,useCallback:rx,useContext:Pt,useEffect:Wd,useImperativeHandle:nx,useInsertionEffect:Jp,useLayoutEffect:ex,useMemo:sx,useReducer:Ml,useRef:Xp,useState:function(){return Ml(Ma)},useDebugValue:Ud,useDeferredValue:function(e){var t=At();return Oe===null?t.memoizedState=e:ax(t,Oe.memoizedState,e)},useTransition:function(){var e=Ml(Ma)[0],t=At().memoizedState;return[e,t]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:ox,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pc(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bi={isMounted:function(e){return(e=e._reactInternals)?Wr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=nt(),a=Jn(e),o=jn(s,a);o.payload=t,r!=null&&(o.callback=r),t=Zn(e,o,a),t!==null&&(Gt(t,e,a,s),Lo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=nt(),a=Jn(e),o=jn(s,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Zn(e,o,a),t!==null&&(Gt(t,e,a,s),Lo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nt(),s=Jn(e),a=jn(r,s);a.tag=2,t!=null&&(a.callback=t),t=Zn(e,a,s),t!==null&&(Gt(t,e,s,r),Lo(t,e,s))}};function Ym(e,t,r,s,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!Sa(r,s)||!Sa(a,o):!0}function dx(e,t,r){var s=!1,a=sr,o=t.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(a=dt(t)?Mr:Xe.current,s=t.contextTypes,o=(s=s!=null)?ws(e,a):sr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function qm(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function Ac(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Id(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Pt(o):(o=dt(t)?Mr:Xe.current,a.context=ws(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pc(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bi.enqueueReplaceState(a,a.state,null),ci(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var r="",s=t;do r+=mN(s),s=s.return;while(s);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Pl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Oc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function ux(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){fi||(fi=!0,Gc=s),Oc(e,t)},r}function mx(e,t,r){r=jn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Oc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Oc(e,t),typeof s!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Km(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Bw;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Jw.bind(null,e,t,r),t.then(e,e))}function Qm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zm(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,Zn(r,t,1))),r.lanes|=1),e)}var zw=Tn.ReactCurrentOwner,lt=!1;function et(e,t,r,s){t.child=e===null?$p(t,null,r,s):Ss(t,e.child,r,s)}function Xm(e,t,r,s,a){r=r.render;var o=t.ref;return fs(t,a),s=zd(e,t,r,s,o,a),r=$d(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sn(e,t,a)):(ye&&r&&Td(t),t.flags|=1,et(e,t,s,a),t.child)}function Jm(e,t,r,s,a){if(e===null){var o=r.type;return typeof o=="function"&&!Zd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,hx(e,t,o,s,a)):(e=Go(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Sa,r(i,s)&&e.ref===t.ref)return Sn(e,t,a)}return t.flags|=1,e=er(o,s),e.ref=t.ref,e.return=t,t.child=e}function hx(e,t,r,s,a){if(e!==null){var o=e.memoizedProps;if(Sa(o,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=o,(e.lanes&a)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,Sn(e,t,a)}return Ic(e,t,r,s,a)}function fx(e,t,r){var s=t.pendingProps,a=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(cs,mt),mt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(cs,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,fe(cs,mt),mt|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,fe(cs,mt),mt|=s;return et(e,t,a,r),t.child}function px(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ic(e,t,r,s,a){var o=dt(r)?Mr:Xe.current;return o=ws(t,o),fs(t,a),r=zd(e,t,r,s,o,a),s=$d(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sn(e,t,a)):(ye&&s&&Td(t),t.flags|=1,et(e,t,r,a),t.child)}function eh(e,t,r,s,a){if(dt(r)){var o=!0;si(t)}else o=!1;if(fs(t,a),t.stateNode===null)$o(e,t),dx(t,r,s),Ac(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=dt(r)?Mr:Xe.current,u=ws(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||c!==u)&&qm(t,i,s,u),zn=!1;var p=t.memoizedState;i.state=p,ci(t,s,i,a),c=t.memoizedState,l!==s||p!==c||ct.current||zn?(typeof h=="function"&&(Pc(t,r,h,s),c=t.memoizedState),(l=zn||Ym(t,r,l,s,p,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=u,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Up(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Bt(t.type,l),i.props=u,m=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=dt(r)?Mr:Xe.current,c=ws(t,c));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||p!==c)&&qm(t,i,s,c),zn=!1,p=t.memoizedState,i.state=p,ci(t,s,i,a);var j=t.memoizedState;l!==m||p!==j||ct.current||zn?(typeof g=="function"&&(Pc(t,r,g,s),j=t.memoizedState),(u=zn||Ym(t,r,u,s,p,j,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,j,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,j,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),i.props=s,i.state=j,i.context=c,s=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return Fc(e,t,r,s,o,a)}function Fc(e,t,r,s,a,o){px(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&Bm(t,r,!1),Sn(e,t,o);s=t.stateNode,zw.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Ss(t,e.child,null,o),t.child=Ss(t,null,l,o)):et(e,t,l,o),t.memoizedState=s.state,a&&Bm(t,r,!0),t.child}function xx(e){var t=e.stateNode;t.pendingContext?Lm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lm(e,t.context,!1),Fd(e,t.containerInfo)}function th(e,t,r,s,a){return bs(),Rd(a),t.flags|=256,et(e,t,r,s),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function Lc(e){return{baseLanes:e,cachePool:null,transitions:null}}function gx(e,t,r){var s=t.pendingProps,a=je.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fe(je,a&1),e===null)return Rc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Wi(i,s,0,null),e=Er(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lc(r),t.memoizedState=_c,e):Gd(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return $w(e,t,i,s,l,a,r);if(o){o=s.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=er(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=er(l,o):(o=Er(o,i,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?Lc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=_c,s}return o=e.child,e=o.sibling,s=er(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Gd(e,t){return t=Wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function No(e,t,r,s){return s!==null&&Rd(s),Ss(t,e.child,null,r),e=Gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $w(e,t,r,s,a,o,i){if(r)return t.flags&256?(t.flags&=-257,s=Pl(Error(U(422))),No(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Wi({mode:"visible",children:s.children},a,0,null),o=Er(o,a,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Ss(t,e.child,null,i),t.child.memoizedState=Lc(i),t.memoizedState=_c,o);if(!(t.mode&1))return No(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(U(419)),s=Pl(o,s,void 0),No(e,t,i,s)}if(l=(i&e.childLanes)!==0,lt||l){if(s=$e,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,bn(e,a),Gt(s,e,a,-1))}return Qd(),s=Pl(Error(U(421))),No(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=e0.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ft=Qn(a.nextSibling),pt=t,ye=!0,$t=null,e!==null&&(Et[Tt++]=gn,Et[Tt++]=vn,Et[Tt++]=Pr,gn=e.id,vn=e.overflow,Pr=t),t=Gd(t,s.children),t.flags|=4096,t)}function nh(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Mc(e.return,t,r)}function Al(e,t,r,s,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=a)}function vx(e,t,r){var s=t.pendingProps,a=s.revealOrder,o=s.tail;if(et(e,t,s.children,r),s=je.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nh(e,r,t);else if(e.tag===19)nh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(fe(je,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&di(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Al(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&di(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Al(t,!0,r,null,o);break;case"together":Al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ww(e,t,r){switch(t.tag){case 3:xx(t),bs();break;case 5:Gp(t);break;case 1:dt(t.type)&&si(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;fe(ii,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(fe(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?gx(e,t,r):(fe(je,je.current&1),e=Sn(e,t,r),e!==null?e.sibling:null);fe(je,je.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return vx(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fe(je,je.current),s)break;return null;case 22:case 23:return t.lanes=0,fx(e,t,r)}return Sn(e,t,r)}var yx,Bc,jx,Nx;yx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bc=function(){};jx=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Cr(an.current);var o=null;switch(r){case"input":a=ic(e,a),s=ic(e,s),o=[];break;case"select":a=be({},a,{value:void 0}),s=be({},s,{value:void 0}),o=[];break;case"textarea":a=dc(e,a),s=dc(e,s),o=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ni)}mc(r,s);var i;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ga.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(l=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ga.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Nx=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ys(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Uw(e,t,r){var s=t.pendingProps;switch(Dd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return dt(t.type)&&ri(),Qe(t),null;case 3:return s=t.stateNode,Cs(),ve(ct),ve(Xe),Ld(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Yc($t),$t=null))),Bc(e,t),Qe(t),null;case 5:_d(t);var a=Cr(Da.current);if(r=t.type,e!==null&&t.stateNode!=null)jx(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(U(166));return Qe(t),null}if(e=Cr(an.current),yo(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[tn]=t,s[Ea]=o,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",s),xe("close",s);break;case"iframe":case"object":case"embed":xe("load",s);break;case"video":case"audio":for(a=0;a<ra.length;a++)xe(ra[a],s);break;case"source":xe("error",s);break;case"img":case"image":case"link":xe("error",s),xe("load",s);break;case"details":xe("toggle",s);break;case"input":um(s,o),xe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},xe("invalid",s);break;case"textarea":hm(s,o),xe("invalid",s)}mc(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&vo(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&vo(s.textContent,l,e),a=["children",""+l]):ga.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&xe("scroll",s)}switch(r){case"input":co(s),mm(s,o,!0);break;case"textarea":co(s),fm(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=ni)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[tn]=t,e[Ea]=s,yx(e,t,!1,!1),t.stateNode=e;e:{switch(i=hc(r,s),r){case"dialog":xe("cancel",e),xe("close",e),a=s;break;case"iframe":case"object":case"embed":xe("load",e),a=s;break;case"video":case"audio":for(a=0;a<ra.length;a++)xe(ra[a],e);a=s;break;case"source":xe("error",e),a=s;break;case"img":case"image":case"link":xe("error",e),xe("load",e),a=s;break;case"details":xe("toggle",e),a=s;break;case"input":um(e,s),a=ic(e,s),xe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=be({},s,{value:void 0}),xe("invalid",e);break;case"textarea":hm(e,s),a=dc(e,s),xe("invalid",e);break;default:a=s}mc(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Xf(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qf(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&va(e,c):typeof c=="number"&&va(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ga.hasOwnProperty(o)?c!=null&&o==="onScroll"&&xe("scroll",e):c!=null&&fd(e,o,c,i))}switch(r){case"input":co(e),mm(e,s,!1);break;case"textarea":co(e),fm(e);break;case"option":s.value!=null&&e.setAttribute("value",""+rr(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?ds(e,!!s.multiple,o,!1):s.defaultValue!=null&&ds(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ni)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Nx(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(U(166));if(r=Cr(Da.current),Cr(an.current),yo(t)){if(s=t.stateNode,r=t.memoizedProps,s[tn]=t,(o=s.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:vo(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vo(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[tn]=t,t.stateNode=s}return Qe(t),null;case 13:if(ve(je),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&ft!==null&&t.mode&1&&!(t.flags&128))Bp(),bs(),t.flags|=98560,o=!1;else if(o=yo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[tn]=t}else bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else $t!==null&&(Yc($t),$t=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ie===0&&(Ie=3):Qd())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Cs(),Bc(e,t),e===null&&Ca(t.stateNode.containerInfo),Qe(t),null;case 10:return Ad(t.type._context),Qe(t),null;case 17:return dt(t.type)&&ri(),Qe(t),null;case 19:if(ve(je),o=t.memoizedState,o===null)return Qe(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Ys(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=di(e),i!==null){for(t.flags|=128,Ys(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fe(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Es&&(t.flags|=128,s=!0,Ys(o,!1),t.lanes=4194304)}else{if(!s)if(e=di(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ys(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ye)return Qe(t),null}else 2*Ee()-o.renderingStartTime>Es&&r!==1073741824&&(t.flags|=128,s=!0,Ys(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,r=je.current,fe(je,s?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return Kd(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?mt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Gw(e,t){switch(Dd(t),t.tag){case 1:return dt(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cs(),ve(ct),ve(Xe),Ld(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _d(t),null;case 13:if(ve(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(je),null;case 4:return Cs(),null;case 10:return Ad(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var wo=!1,Ze=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,H=null;function ls(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ce(e,t,s)}else r.current=null}function zc(e,t,r){try{r()}catch(s){Ce(e,t,s)}}var rh=!1;function Vw(e,t){if(bc=Jo,e=kp(),Ed(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,m=e,p=null;t:for(;;){for(var g;m!==r||a!==0&&m.nodeType!==3||(l=i+a),m!==o||s!==0&&m.nodeType!==3||(c=i+s),m.nodeType===3&&(i+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break t;if(p===r&&++u===a&&(l=i),p===o&&++h===s&&(c=i),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sc={focusedElem:e,selectionRange:r},Jo=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,N=j.memoizedState,f=t.stateNode,x=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Bt(t.type,v),N);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){Ce(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return j=rh,rh=!1,j}function ha(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&zc(t,r,o)}a=a.next}while(a!==s)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function $c(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wx(e){var t=e.alternate;t!==null&&(e.alternate=null,wx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Ea],delete t[Ec],delete t[Tw],delete t[Dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bx(e){return e.tag===5||e.tag===3||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ni));else if(s!==4&&(e=e.child,e!==null))for(Wc(e,t,r),e=e.sibling;e!==null;)Wc(e,t,r),e=e.sibling}function Uc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Uc(e,t,r),e=e.sibling;e!==null;)Uc(e,t,r),e=e.sibling}var Ge=null,zt=!1;function On(e,t,r){for(r=r.child;r!==null;)Sx(e,t,r),r=r.sibling}function Sx(e,t,r){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 5:Ze||ls(r,t);case 6:var s=Ge,a=zt;Ge=null,On(e,t,r),Ge=s,zt=a,Ge!==null&&(zt?(e=Ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ge.removeChild(r.stateNode));break;case 18:Ge!==null&&(zt?(e=Ge,r=r.stateNode,e.nodeType===8?kl(e.parentNode,r):e.nodeType===1&&kl(e,r),wa(e)):kl(Ge,r.stateNode));break;case 4:s=Ge,a=zt,Ge=r.stateNode.containerInfo,zt=!0,On(e,t,r),Ge=s,zt=a;break;case 0:case 11:case 14:case 15:if(!Ze&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&zc(r,t,i),a=a.next}while(a!==s)}On(e,t,r);break;case 1:if(!Ze&&(ls(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Ce(r,t,l)}On(e,t,r);break;case 21:On(e,t,r);break;case 22:r.mode&1?(Ze=(s=Ze)||r.memoizedState!==null,On(e,t,r),Ze=s):On(e,t,r);break;default:On(e,t,r)}}function ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hw),t.forEach(function(s){var a=t0.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Lt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,zt=!1;break e;case 3:Ge=l.stateNode.containerInfo,zt=!0;break e;case 4:Ge=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(Ge===null)throw Error(U(160));Sx(o,i,a),Ge=null,zt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ce(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cx(t,e),t=t.sibling}function Cx(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Xt(e),s&4){try{ha(3,e,e.return),zi(3,e)}catch(v){Ce(e,e.return,v)}try{ha(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Lt(t,e),Xt(e),s&512&&r!==null&&ls(r,r.return);break;case 5:if(Lt(t,e),Xt(e),s&512&&r!==null&&ls(r,r.return),e.flags&32){var a=e.stateNode;try{va(a,"")}catch(v){Ce(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Yf(a,o),hc(l,i);var u=hc(l,o);for(i=0;i<c.length;i+=2){var h=c[i],m=c[i+1];h==="style"?Xf(a,m):h==="dangerouslySetInnerHTML"?Qf(a,m):h==="children"?va(a,m):fd(a,h,m,u)}switch(l){case"input":lc(a,o);break;case"textarea":qf(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ds(a,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?ds(a,!!o.multiple,o.defaultValue,!0):ds(a,!!o.multiple,o.multiple?[]:"",!1))}a[Ea]=o}catch(v){Ce(e,e.return,v)}}break;case 6:if(Lt(t,e),Xt(e),s&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Ce(e,e.return,v)}}break;case 3:if(Lt(t,e),Xt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Lt(t,e),Xt(e);break;case 13:Lt(t,e),Xt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Yd=Ee())),s&4&&ah(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||h,Lt(t,e),Ze=u):Lt(t,e),Xt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(H=e,h=e.child;h!==null;){for(m=H=h;H!==null;){switch(p=H,g=p.child,p.tag){case 0:case 11:case 14:case 15:ha(4,p,p.return);break;case 1:ls(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){s=p,r=p.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){Ce(s,r,v)}}break;case 5:ls(p,p.return);break;case 22:if(p.memoizedState!==null){ih(m);continue}}g!==null?(g.return=p,H=g):ih(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{a=m.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zf("display",i))}catch(v){Ce(e,e.return,v)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Lt(t,e),Xt(e),s&4&&ah(e);break;case 21:break;default:Lt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bx(r)){var s=r;break e}r=r.return}throw Error(U(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(va(a,""),s.flags&=-33);var o=sh(e);Uc(e,o,a);break;case 3:case 4:var i=s.stateNode.containerInfo,l=sh(e);Wc(e,l,i);break;default:throw Error(U(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yw(e,t,r){H=e,kx(e)}function kx(e,t,r){for(var s=(e.mode&1)!==0;H!==null;){var a=H,o=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||wo;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ze;l=wo;var u=Ze;if(wo=i,(Ze=c)&&!u)for(H=a;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?lh(a):c!==null?(c.return=i,H=c):lh(a);for(;o!==null;)H=o,kx(o),o=o.sibling;H=a,wo=l,Ze=u}oh(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,H=o):oh(e)}}function oh(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||zi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ze)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Bt(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Gm(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gm(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&wa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ze||t.flags&512&&$c(t)}catch(p){Ce(t,t.return,p)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function ih(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function lh(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zi(4,t)}catch(c){Ce(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Ce(t,a,c)}}var o=t.return;try{$c(t)}catch(c){Ce(t,o,c)}break;case 5:var i=t.return;try{$c(t)}catch(c){Ce(t,i,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var qw=Math.ceil,hi=Tn.ReactCurrentDispatcher,Hd=Tn.ReactCurrentOwner,Rt=Tn.ReactCurrentBatchConfig,ie=0,$e=null,De=null,He=0,mt=0,cs=mr(0),Ie=0,Aa=null,Or=0,$i=0,Vd=0,fa=null,it=null,Yd=0,Es=1/0,pn=null,fi=!1,Gc=null,Xn=null,bo=!1,Gn=null,pi=0,pa=0,Hc=null,Wo=-1,Uo=0;function nt(){return ie&6?Ee():Wo!==-1?Wo:Wo=Ee()}function Jn(e){return e.mode&1?ie&2&&He!==0?He&-He:Mw.transition!==null?(Uo===0&&(Uo=dp()),Uo):(e=ue,e!==0||(e=window.event,e=e===void 0?16:gp(e.type)),e):1}function Gt(e,t,r,s){if(50<pa)throw pa=0,Hc=null,Error(U(185));Va(e,r,s),(!(ie&2)||e!==$e)&&(e===$e&&(!(ie&2)&&($i|=r),Ie===4&&Wn(e,He)),ut(e,s),r===1&&ie===0&&!(t.mode&1)&&(Es=Ee()+500,_i&&hr()))}function ut(e,t){var r=e.callbackNode;MN(e,t);var s=Xo(e,e===$e?He:0);if(s===0)r!==null&&gm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&gm(r),t===1)e.tag===0?Rw(ch.bind(null,e)):Fp(ch.bind(null,e)),kw(function(){!(ie&6)&&hr()}),r=null;else{switch(up(s)){case 1:r=yd;break;case 4:r=lp;break;case 16:r=Zo;break;case 536870912:r=cp;break;default:r=Zo}r=Ox(r,Ex.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ex(e,t){if(Wo=-1,Uo=0,ie&6)throw Error(U(327));var r=e.callbackNode;if(ps()&&e.callbackNode!==r)return null;var s=Xo(e,e===$e?He:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=xi(e,s);else{t=s;var a=ie;ie|=2;var o=Dx();($e!==e||He!==t)&&(pn=null,Es=Ee()+500,kr(e,t));do try{Zw();break}catch(l){Tx(e,l)}while(!0);Pd(),hi.current=o,ie=a,De!==null?t=0:($e=null,He=0,t=Ie)}if(t!==0){if(t===2&&(a=vc(e),a!==0&&(s=a,t=Vc(e,a))),t===1)throw r=Aa,kr(e,0),Wn(e,s),ut(e,Ee()),r;if(t===6)Wn(e,s);else{if(a=e.current.alternate,!(s&30)&&!Kw(a)&&(t=xi(e,s),t===2&&(o=vc(e),o!==0&&(s=o,t=Vc(e,o))),t===1))throw r=Aa,kr(e,0),Wn(e,s),ut(e,Ee()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(U(345));case 2:Nr(e,it,pn);break;case 3:if(Wn(e,s),(s&130023424)===s&&(t=Yd+500-Ee(),10<t)){if(Xo(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kc(Nr.bind(null,e,it,pn),t);break}Nr(e,it,pn);break;case 4:if(Wn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Ut(s);o=1<<i,i=t[i],i>a&&(a=i),s&=~o}if(s=a,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qw(s/1960))-s,10<s){e.timeoutHandle=kc(Nr.bind(null,e,it,pn),s);break}Nr(e,it,pn);break;case 5:Nr(e,it,pn);break;default:throw Error(U(329))}}}return ut(e,Ee()),e.callbackNode===r?Ex.bind(null,e):null}function Vc(e,t){var r=fa;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=xi(e,t),e!==2&&(t=it,it=r,t!==null&&Yc(t)),e}function Yc(e){it===null?it=e:it.push.apply(it,e)}function Kw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],o=a.getSnapshot;a=a.value;try{if(!Yt(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~Vd,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ut(t),s=1<<r;e[r]=-1,t&=~s}}function ch(e){if(ie&6)throw Error(U(327));ps();var t=Xo(e,0);if(!(t&1))return ut(e,Ee()),null;var r=xi(e,t);if(e.tag!==0&&r===2){var s=vc(e);s!==0&&(t=s,r=Vc(e,s))}if(r===1)throw r=Aa,kr(e,0),Wn(e,t),ut(e,Ee()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nr(e,it,pn),ut(e,Ee()),null}function qd(e,t){var r=ie;ie|=1;try{return e(t)}finally{ie=r,ie===0&&(Es=Ee()+500,_i&&hr())}}function Ir(e){Gn!==null&&Gn.tag===0&&!(ie&6)&&ps();var t=ie;ie|=1;var r=Rt.transition,s=ue;try{if(Rt.transition=null,ue=1,e)return e()}finally{ue=s,Rt.transition=r,ie=t,!(ie&6)&&hr()}}function Kd(){mt=cs.current,ve(cs)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cw(r)),De!==null)for(r=De.return;r!==null;){var s=r;switch(Dd(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ri();break;case 3:Cs(),ve(ct),ve(Xe),Ld();break;case 5:_d(s);break;case 4:Cs();break;case 13:ve(je);break;case 19:ve(je);break;case 10:Ad(s.type._context);break;case 22:case 23:Kd()}r=r.return}if($e=e,De=e=er(e.current,null),He=mt=t,Ie=0,Aa=null,Vd=$i=Or=0,it=fa=null,Sr!==null){for(t=0;t<Sr.length;t++)if(r=Sr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,s.next=i}r.pending=s}Sr=null}return e}function Tx(e,t){do{var r=De;try{if(Pd(),Bo.current=mi,ui){for(var s=we.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ui=!1}if(Ar=0,ze=Oe=we=null,ma=!1,Ra=0,Hd.current=null,r===null||r.return===null){Ie=1,Aa=t,De=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=He,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Qm(i);if(g!==null){g.flags&=-257,Zm(g,i,l,o,t),g.mode&1&&Km(o,u,t),t=g,c=u;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){Km(o,u,t),Qd();break e}c=Error(U(426))}}else if(ye&&l.mode&1){var N=Qm(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Zm(N,i,l,o,t),Rd(ks(c,l));break e}}o=c=ks(c,l),Ie!==4&&(Ie=2),fa===null?fa=[o]:fa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=ux(o,c,t);Um(o,f);break e;case 1:l=c;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xn===null||!Xn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=mx(o,l,t);Um(o,w);break e}}o=o.return}while(o!==null)}Mx(r)}catch(C){t=C,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Dx(){var e=hi.current;return hi.current=mi,e===null?mi:e}function Qd(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),$e===null||!(Or&268435455)&&!($i&268435455)||Wn($e,He)}function xi(e,t){var r=ie;ie|=2;var s=Dx();($e!==e||He!==t)&&(pn=null,kr(e,t));do try{Qw();break}catch(a){Tx(e,a)}while(!0);if(Pd(),ie=r,hi.current=s,De!==null)throw Error(U(261));return $e=null,He=0,Ie}function Qw(){for(;De!==null;)Rx(De)}function Zw(){for(;De!==null&&!wN();)Rx(De)}function Rx(e){var t=Ax(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Mx(e):De=t,Hd.current=null}function Mx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gw(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,De=null;return}}else if(r=Uw(r,t,mt),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Ie===0&&(Ie=5)}function Nr(e,t,r){var s=ue,a=Rt.transition;try{Rt.transition=null,ue=1,Xw(e,t,r,s)}finally{Rt.transition=a,ue=s}return null}function Xw(e,t,r,s){do ps();while(Gn!==null);if(ie&6)throw Error(U(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(PN(e,o),e===$e&&(De=$e=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bo||(bo=!0,Ox(Zo,function(){return ps(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var i=ue;ue=1;var l=ie;ie|=4,Hd.current=null,Vw(e,r),Cx(r,e),vw(Sc),Jo=!!bc,Sc=bc=null,e.current=r,Yw(r),bN(),ie=l,ue=i,Rt.transition=o}else e.current=r;if(bo&&(bo=!1,Gn=e,pi=a),o=e.pendingLanes,o===0&&(Xn=null),kN(r.stateNode),ut(e,Ee()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(fi)throw fi=!1,e=Gc,Gc=null,e;return pi&1&&e.tag!==0&&ps(),o=e.pendingLanes,o&1?e===Hc?pa++:(pa=0,Hc=e):pa=0,hr(),null}function ps(){if(Gn!==null){var e=up(pi),t=Rt.transition,r=ue;try{if(Rt.transition=null,ue=16>e?16:e,Gn===null)var s=!1;else{if(e=Gn,Gn=null,pi=0,ie&6)throw Error(U(331));var a=ie;for(ie|=4,H=e.current;H!==null;){var o=H,i=o.child;if(H.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ha(8,h,o)}var m=h.child;if(m!==null)m.return=h,H=m;else for(;H!==null;){h=H;var p=h.sibling,g=h.return;if(wx(h),h===u){H=null;break}if(p!==null){p.return=g,H=p;break}H=g}}}var j=o.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}H=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,H=i;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ha(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,H=f;break e}H=o.return}}var x=e.current;for(H=x;H!==null;){i=H;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,H=y;else e:for(i=x;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zi(9,l)}}catch(C){Ce(l,l.return,C)}if(l===i){H=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,H=w;break e}H=l.return}}if(ie=a,hr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Pi,e)}catch{}s=!0}return s}finally{ue=r,Rt.transition=t}}return!1}function dh(e,t,r){t=ks(r,t),t=ux(e,t,1),e=Zn(e,t,1),t=nt(),e!==null&&(Va(e,1,t),ut(e,t))}function Ce(e,t,r){if(e.tag===3)dh(e,e,r);else for(;t!==null;){if(t.tag===3){dh(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))){e=ks(r,e),e=mx(t,e,1),t=Zn(t,e,1),e=nt(),t!==null&&(Va(t,1,e),ut(t,e));break}}t=t.return}}function Jw(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(He&r)===r&&(Ie===4||Ie===3&&(He&130023424)===He&&500>Ee()-Yd?kr(e,0):Vd|=r),ut(e,t)}function Px(e,t){t===0&&(e.mode&1?(t=ho,ho<<=1,!(ho&130023424)&&(ho=4194304)):t=1);var r=nt();e=bn(e,t),e!==null&&(Va(e,t,r),ut(e,r))}function e0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Px(e,r)}function t0(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(t),Px(e,r)}var Ax;Ax=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lt=!1,Ww(e,t,r);lt=!!(e.flags&131072)}else lt=!1,ye&&t.flags&1048576&&_p(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;$o(e,t),e=t.pendingProps;var a=ws(t,Xe.current);fs(t,r),a=zd(null,t,s,e,a,r);var o=$d();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(s)?(o=!0,si(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Id(t),a.updater=Bi,t.stateNode=a,a._reactInternals=t,Ac(t,s,e,r),t=Fc(null,t,s,!0,o,r)):(t.tag=0,ye&&o&&Td(t),et(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch($o(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=r0(s),e=Bt(s,e),a){case 0:t=Ic(null,t,s,e,r);break e;case 1:t=eh(null,t,s,e,r);break e;case 11:t=Xm(null,t,s,e,r);break e;case 14:t=Jm(null,t,s,Bt(s.type,e),r);break e}throw Error(U(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bt(s,a),Ic(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bt(s,a),eh(e,t,s,a,r);case 3:e:{if(xx(t),e===null)throw Error(U(387));s=t.pendingProps,o=t.memoizedState,a=o.element,Up(e,t),ci(t,s,null,r);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ks(Error(U(423)),t),t=th(e,t,s,r,a);break e}else if(s!==a){a=ks(Error(U(424)),t),t=th(e,t,s,r,a);break e}else for(ft=Qn(t.stateNode.containerInfo.firstChild),pt=t,ye=!0,$t=null,r=$p(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bs(),s===a){t=Sn(e,t,r);break e}et(e,t,s,r)}t=t.child}return t;case 5:return Gp(t),e===null&&Rc(t),s=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Cc(s,a)?i=null:o!==null&&Cc(s,o)&&(t.flags|=32),px(e,t),et(e,t,i,r),t.child;case 6:return e===null&&Rc(t),null;case 13:return gx(e,t,r);case 4:return Fd(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ss(t,null,s,r):et(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bt(s,a),Xm(e,t,s,a,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,fe(ii,s._currentValue),s._currentValue=i,o!==null)if(Yt(o.value,i)){if(o.children===a.children&&!ct.current){t=Sn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=jn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Mc(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Mc(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}et(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,fs(t,r),a=Pt(a),s=s(a),t.flags|=1,et(e,t,s,r),t.child;case 14:return s=t.type,a=Bt(s,t.pendingProps),a=Bt(s.type,a),Jm(e,t,s,a,r);case 15:return hx(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Bt(s,a),$o(e,t),t.tag=1,dt(s)?(e=!0,si(t)):e=!1,fs(t,r),dx(t,s,a),Ac(t,s,a,r),Fc(null,t,s,!0,e,r);case 19:return vx(e,t,r);case 22:return fx(e,t,r)}throw Error(U(156,t.tag))};function Ox(e,t){return ip(e,t)}function n0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,s){return new n0(e,t,r,s)}function Zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r0(e){if(typeof e=="function")return Zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xd)return 11;if(e===gd)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Go(e,t,r,s,a,o){var i=2;if(s=e,typeof e=="function")Zd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Jr:return Er(r.children,a,o,t);case pd:i=8,a|=8;break;case rc:return e=Dt(12,r,t,a|2),e.elementType=rc,e.lanes=o,e;case sc:return e=Dt(13,r,t,a),e.elementType=sc,e.lanes=o,e;case ac:return e=Dt(19,r,t,a),e.elementType=ac,e.lanes=o,e;case Gf:return Wi(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wf:i=10;break e;case Uf:i=9;break e;case xd:i=11;break e;case gd:i=14;break e;case Bn:i=16,s=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Dt(i,r,t,a),t.elementType=e,t.type=s,t.lanes=o,t}function Er(e,t,r,s){return e=Dt(7,e,s,t),e.lanes=r,e}function Wi(e,t,r,s){return e=Dt(22,e,s,t),e.elementType=Gf,e.lanes=r,e.stateNode={isHidden:!1},e}function Ol(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function Il(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s0(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xd(e,t,r,s,a,o,i,l,c){return e=new s0(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(o),e}function a0(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Ix(e){if(!e)return sr;e=e._reactInternals;e:{if(Wr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(dt(r))return Ip(e,r,t)}return t}function Fx(e,t,r,s,a,o,i,l,c){return e=Xd(r,s,!0,e,a,o,i,l,c),e.context=Ix(null),r=e.current,s=nt(),a=Jn(r),o=jn(s,a),o.callback=t??null,Zn(r,o,a),e.current.lanes=a,Va(e,a,s),ut(e,s),e}function Ui(e,t,r,s){var a=t.current,o=nt(),i=Jn(a);return r=Ix(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Zn(a,t,i),e!==null&&(Gt(e,a,i,o),Lo(e,a,i)),i}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Jd(e,t){uh(e,t),(e=e.alternate)&&uh(e,t)}function o0(){return null}var _x=typeof reportError=="function"?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}Gi.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Ui(e,t,null,null)};Gi.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){Ui(null,e,null,null)}),t[wn]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=fp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&xp(e)}};function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mh(){}function i0(e,t,r,s,a){if(a){if(typeof s=="function"){var o=s;s=function(){var u=gi(i);o.call(u)}}var i=Fx(t,s,e,0,null,!1,!1,"",mh);return e._reactRootContainer=i,e[wn]=i.current,Ca(e.nodeType===8?e.parentNode:e),Ir(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var u=gi(c);l.call(u)}}var c=Xd(e,0,!1,null,null,!1,!1,"",mh);return e._reactRootContainer=c,e[wn]=c.current,Ca(e.nodeType===8?e.parentNode:e),Ir(function(){Ui(t,c,r,s)}),c}function Vi(e,t,r,s,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=gi(i);l.call(c)}}Ui(t,i,e,a)}else i=i0(r,t,e,a,s);return gi(i)}mp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=na(t.pendingLanes);r!==0&&(jd(t,r|1),ut(t,Ee()),!(ie&6)&&(Es=Ee()+500,hr()))}break;case 13:Ir(function(){var s=bn(e,1);if(s!==null){var a=nt();Gt(s,e,1,a)}}),Jd(e,1)}};Nd=function(e){if(e.tag===13){var t=bn(e,134217728);if(t!==null){var r=nt();Gt(t,e,134217728,r)}Jd(e,134217728)}};hp=function(e){if(e.tag===13){var t=Jn(e),r=bn(e,t);if(r!==null){var s=nt();Gt(r,e,t,s)}Jd(e,t)}};fp=function(){return ue};pp=function(e,t){var r=ue;try{return ue=e,t()}finally{ue=r}};pc=function(e,t,r){switch(t){case"input":if(lc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Fi(s);if(!a)throw Error(U(90));Vf(s),lc(s,a)}}}break;case"textarea":qf(e,r);break;case"select":t=r.value,t!=null&&ds(e,!!r.multiple,t,!1)}};tp=qd;np=Ir;var l0={usingClientEntryPoint:!1,Events:[qa,rs,Fi,Jf,ep,qd]},qs={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c0={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ap(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Pi=So.inject(c0),sn=So}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0;Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(t))throw Error(U(200));return a0(e,t,null,r)};Ct.createRoot=function(e,t){if(!tu(e))throw Error(U(299));var r=!1,s="",a=_x;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Xd(e,1,!1,null,null,r,!1,s,a),e[wn]=t.current,Ca(e.nodeType===8?e.parentNode:e),new eu(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=ap(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Ir(e)};Ct.hydrate=function(e,t,r){if(!Hi(t))throw Error(U(200));return Vi(null,e,t,!0,r)};Ct.hydrateRoot=function(e,t,r){if(!tu(e))throw Error(U(405));var s=r!=null&&r.hydratedSources||null,a=!1,o="",i=_x;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Fx(t,null,e,1,r??null,a,!1,o,i),e[wn]=t.current,Ca(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gi(t)};Ct.render=function(e,t,r){if(!Hi(t))throw Error(U(200));return Vi(null,e,t,!1,r)};Ct.unmountComponentAtNode=function(e){if(!Hi(e))throw Error(U(40));return e._reactRootContainer?(Ir(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};Ct.unstable_batchedUpdates=qd;Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Hi(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Vi(e,t,r,!1,s)};Ct.version="18.3.1-next-f1338f8080-20240426";function Lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lx)}catch(e){console.error(e)}}Lx(),Lf.exports=Ct;var Yi=Lf.exports;const d0=id(Yi);var hh=Yi;tc.createRoot=hh.createRoot,tc.hydrateRoot=hh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Oa.apply(this,arguments)}var Hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hn||(Hn={}));const fh="popstate";function u0(e){e===void 0&&(e={});function t(s,a){let{pathname:o,search:i,hash:l}=s.location;return qc("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:zx(a)}return h0(t,r,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function m0(){return Math.random().toString(36).substr(2,8)}function ph(e,t){return{usr:e.state,key:e.key,idx:t}}function qc(e,t,r,s){return r===void 0&&(r=null),Oa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Is(t):t,{state:r,key:t&&t.key||s||m0()})}function zx(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Is(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function h0(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,i=a.history,l=Hn.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Oa({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function m(){l=Hn.Pop;let N=h(),f=N==null?null:N-u;u=N,c&&c({action:l,location:v.location,delta:f})}function p(N,f){l=Hn.Push;let x=qc(v.location,N,f);u=h()+1;let y=ph(x,u),w=v.createHref(x);try{i.pushState(y,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(w)}o&&c&&c({action:l,location:v.location,delta:1})}function g(N,f){l=Hn.Replace;let x=qc(v.location,N,f);u=h();let y=ph(x,u),w=v.createHref(x);i.replaceState(y,"",w),o&&c&&c({action:l,location:v.location,delta:0})}function j(N){let f=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof N=="string"?N:zx(N);return x=x.replace(/ $/,"%20"),Re(f,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,f)}let v={get action(){return l},get location(){return e(a,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(fh,m),c=N,()=>{a.removeEventListener(fh,m),c=null}},createHref(N){return t(a,N)},createURL:j,encodeLocation(N){let f=j(N);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:g,go(N){return i.go(N)}};return v}var xh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xh||(xh={}));function f0(e,t,r){return r===void 0&&(r="/"),p0(e,t,r)}function p0(e,t,r,s){let a=typeof t=="string"?Is(t):t,o=Ux(a.pathname||"/",r);if(o==null)return null;let i=$x(e);x0(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=T0(o);l=C0(i[c],u)}return l}function $x(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Tr([s,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(Re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$x(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:b0(u,o.index),routesMeta:h})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of Wx(o.path))a(o,i,c)}),t}function Wx(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let i=Wx(s.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function x0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S0(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const g0=/^:[\w-]+$/,v0=3,y0=2,j0=1,N0=10,w0=-2,gh=e=>e==="*";function b0(e,t){let r=e.split("/"),s=r.length;return r.some(gh)&&(s+=w0),t&&(s+=y0),r.filter(a=>!gh(a)).reduce((a,o)=>a+(g0.test(o)?v0:o===""?j0:N0),s)}function S0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function C0(e,t,r){let{routesMeta:s}=e,a={},o="/",i=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,h=o==="/"?t:t.slice(o.length)||"/",m=k0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Tr([o,m.pathname]),pathnameBase:P0(Tr([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=Tr([o,m.pathnameBase]))}return i}function k0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=E0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let v=l[m]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const j=l[m];return g&&!j?u[p]=void 0:u[p]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function E0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function T0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ux(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function D0(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Is(e):e;return{pathname:r?r.startsWith("/")?r:R0(r,t):t,search:A0(s),hash:O0(a)}}function R0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Fl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gx(e,t){let r=M0(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Hx(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Is(e):(a=Oa({},e),Re(!a.pathname||!a.pathname.includes("?"),Fl("?","pathname","search",a)),Re(!a.pathname||!a.pathname.includes("#"),Fl("#","pathname","hash",a)),Re(!a.search||!a.search.includes("#"),Fl("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!s&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=D0(a,l),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Tr=e=>e.join("/").replace(/\/\/+/g,"/"),P0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vx=["post","put","patch","delete"];new Set(Vx);const F0=["get",...Vx];new Set(F0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ia.apply(this,arguments)}const nu=d.createContext(null),_0=d.createContext(null),Qa=d.createContext(null),qi=d.createContext(null),fr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Yx=d.createContext(null);function Za(){return d.useContext(qi)!=null}function Ki(){return Za()||Re(!1),d.useContext(qi).location}function qx(e){d.useContext(Qa).static||d.useLayoutEffect(e)}function It(){let{isDataRoute:e}=d.useContext(fr);return e?Q0():L0()}function L0(){Za()||Re(!1);let e=d.useContext(nu),{basename:t,future:r,navigator:s}=d.useContext(Qa),{matches:a}=d.useContext(fr),{pathname:o}=Ki(),i=JSON.stringify(Gx(a,r.v7_relativeSplatPath)),l=d.useRef(!1);return qx(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=Hx(u,JSON.parse(i),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Tr([t,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[t,s,i,o,e])}function Kx(){let{matches:e}=d.useContext(fr),t=e[e.length-1];return t?t.params:{}}function B0(e,t){return z0(e,t)}function z0(e,t,r,s){Za()||Re(!1);let{navigator:a}=d.useContext(Qa),{matches:o}=d.useContext(fr),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ki(),h;if(t){var m;let N=typeof t=="string"?Is(t):t;c==="/"||(m=N.pathname)!=null&&m.startsWith(c)||Re(!1),h=N}else h=u;let p=h.pathname||"/",g=p;if(c!=="/"){let N=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=f0(e,{pathname:g}),v=H0(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Tr([c,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Tr([c,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,r,s);return t&&v?d.createElement(qi.Provider,{value:{location:Ia({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Hn.Pop}},v):v}function $0(){let e=K0(),t=I0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:a},r):null,null)}const W0=d.createElement($0,null);class U0 extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?d.createElement(fr.Provider,{value:this.props.routeContext},d.createElement(Yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G0(e){let{routeContext:t,match:r,children:s}=e,a=d.useContext(nu);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(fr.Provider,{value:t},s)}function H0(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Re(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:g}=r,j=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||j){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,p)=>{let g,j=!1,v=null,N=null;r&&(g=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||W0,c&&(u<0&&p===0?(Z0("route-fallback"),j=!0,N=null):u===p&&(j=!0,N=m.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,p+1)),x=()=>{let y;return g?y=v:j?y=N:m.route.Component?y=d.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=h,d.createElement(G0,{match:m,routeContext:{outlet:h,matches:f,isDataRoute:r!=null},children:y})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?d.createElement(U0,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var Qx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qx||{}),Zx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zx||{});function V0(e){let t=d.useContext(nu);return t||Re(!1),t}function Y0(e){let t=d.useContext(_0);return t||Re(!1),t}function q0(e){let t=d.useContext(fr);return t||Re(!1),t}function Xx(e){let t=q0(),r=t.matches[t.matches.length-1];return r.route.id||Re(!1),r.route.id}function K0(){var e;let t=d.useContext(Yx),r=Y0(),s=Xx();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Q0(){let{router:e}=V0(Qx.UseNavigateStable),t=Xx(Zx.UseNavigateStable),r=d.useRef(!1);return qx(()=>{r.current=!0}),d.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ia({fromRouteId:t},o)))},[e,t])}const vh={};function Z0(e,t,r){vh[e]||(vh[e]=!0)}function X0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function J0(e){let{to:t,replace:r,state:s,relative:a}=e;Za()||Re(!1);let{future:o,static:i}=d.useContext(Qa),{matches:l}=d.useContext(fr),{pathname:c}=Ki(),u=It(),h=Hx(t,Gx(l,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(h);return d.useEffect(()=>u(JSON.parse(m),{replace:r,state:s,relative:a}),[u,m,a,r,s]),null}function ae(e){Re(!1)}function e1(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Hn.Pop,navigator:o,static:i=!1,future:l}=e;Za()&&Re(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:i,future:Ia({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof s=="string"&&(s=Is(s));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:j="default"}=s,v=d.useMemo(()=>{let N=Ux(h,c);return N==null?null:{location:{pathname:N,search:m,hash:p,state:g,key:j},navigationType:a}},[c,h,m,p,g,j,a]);return v==null?null:d.createElement(Qa.Provider,{value:u},d.createElement(qi.Provider,{children:r,value:v}))}function t1(e){let{children:t,location:r}=e;return B0(Kc(t),r)}new Promise(()=>{});function Kc(e,t){t===void 0&&(t=[]);let r=[];return d.Children.forEach(e,(s,a)=>{if(!d.isValidElement(s))return;let o=[...t,a];if(s.type===d.Fragment){r.push.apply(r,Kc(s.props.children,o));return}s.type!==ae&&Re(!1),!s.props.index||!s.props.children||Re(!1);let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Kc(s.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const n1="6";try{window.__reactRouterVersion=n1}catch{}const r1="startTransition",yh=Ha[r1];function s1(e){let{basename:t,children:r,future:s,window:a}=e,o=d.useRef();o.current==null&&(o.current=u0({window:a,v5Compat:!0}));let i=o.current,[l,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},h=d.useCallback(m=>{u&&yh?yh(()=>c(m)):c(m)},[c,u]);return d.useLayoutEffect(()=>i.listen(h),[i,h]),d.useEffect(()=>X0(s),[s]),d.createElement(e1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:s})}var jh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jh||(jh={}));var Nh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nh||(Nh={}));const a1={},wh=e=>{let t;const r=new Set,s=(h,m)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(j=>j(t,g))}},a=()=>t,c={setState:s,getState:a,getInitialState:()=>u,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(a1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(s,a,c);return c},o1=e=>e?wh(e):wh;var Jx={exports:{}},eg={},tg={exports:{}},ng={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=d;function i1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l1=typeof Object.is=="function"?Object.is:i1,c1=Ts.useState,d1=Ts.useEffect,u1=Ts.useLayoutEffect,m1=Ts.useDebugValue;function h1(e,t){var r=t(),s=c1({inst:{value:r,getSnapshot:t}}),a=s[0].inst,o=s[1];return u1(function(){a.value=r,a.getSnapshot=t,_l(a)&&o({inst:a})},[e,r,t]),d1(function(){return _l(a)&&o({inst:a}),e(function(){_l(a)&&o({inst:a})})},[e]),m1(r),r}function _l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!l1(e,r)}catch{return!0}}function f1(e,t){return t()}var p1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f1:h1;ng.useSyncExternalStore=Ts.useSyncExternalStore!==void 0?Ts.useSyncExternalStore:p1;tg.exports=ng;var x1=tg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=d,g1=x1;function v1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y1=typeof Object.is=="function"?Object.is:v1,j1=g1.useSyncExternalStore,N1=Qi.useRef,w1=Qi.useEffect,b1=Qi.useMemo,S1=Qi.useDebugValue;eg.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var o=N1(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=b1(function(){function c(g){if(!u){if(u=!0,h=g,g=s(g),a!==void 0&&i.hasValue){var j=i.value;if(a(j,g))return m=j}return m=g}if(j=m,y1(h,g))return j;var v=s(g);return a!==void 0&&a(j,v)?(h=g,j):(h=g,m=v)}var u=!1,h,m,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,s,a]);var l=j1(e,o[0],o[1]);return w1(function(){i.hasValue=!0,i.value=l},[l]),S1(l),l};Jx.exports=eg;var C1=Jx.exports;const k1=id(C1),rg={},{useDebugValue:E1}=en,{useSyncExternalStoreWithSelector:T1}=k1;let bh=!1;const D1=e=>e;function R1(e,t=D1,r){(rg?"production":void 0)!=="production"&&r&&!bh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bh=!0);const s=T1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return E1(s),s}const M1=e=>{(rg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?o1(e):e,r=(s,a)=>R1(t,s,a);return Object.assign(r,t),r},Me=e=>M1,P1={};function A1(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(a))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(a,o)=>r.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>r.removeItem(a)}}const Fa=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return Fa(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Fa(s)(r)}}}},O1=(e,t)=>(r,s,a)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,f)=>({...f,...N}),...t},i=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...N)},s,a);const h=Fa(o.serialize),m=()=>{const N=o.partialize({...s()});let f;const x=h({state:N,version:o.version}).then(y=>u.setItem(o.name,y)).catch(y=>{f=y});if(f)throw f;return x},p=a.setState;a.setState=(N,f)=>{p(N,f),m()};const g=e((...N)=>{r(...N),m()},s,a);let j;const v=()=>{var N;if(!u)return;i=!1,l.forEach(x=>x(s()));const f=((N=o.onRehydrateStorage)==null?void 0:N.call(o,s()))||void 0;return Fa(u.getItem.bind(u))(o.name).then(x=>{if(x)return o.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return o.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return j=o.merge(x,(y=s())!=null?y:g),r(j,!0),m()}).then(()=>{f==null||f(j,void 0),i=!0,c.forEach(x=>x(j))}).catch(x=>{f==null||f(void 0,x)})};return a.persist={setOptions:N=>{o={...o,...N},N.getStorage&&(u=N.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:N=>(l.add(N),()=>{l.delete(N)}),onFinishHydration:N=>(c.add(N),()=>{c.delete(N)})},v(),j||g},I1=(e,t)=>(r,s,a)=>{let o={storage:A1(()=>localStorage),partialize:v=>v,version:0,merge:(v,N)=>({...N,...v}),...t},i=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...v)},s,a);const h=()=>{const v=o.partialize({...s()});return u.setItem(o.name,{state:v,version:o.version})},m=a.setState;a.setState=(v,N)=>{m(v,N),h()};const p=e((...v)=>{r(...v),h()},s,a);a.getInitialState=()=>p;let g;const j=()=>{var v,N;if(!u)return;i=!1,l.forEach(x=>{var y;return x((y=s())!=null?y:p)});const f=((N=o.onRehydrateStorage)==null?void 0:N.call(o,(v=s())!=null?v:p))||void 0;return Fa(u.getItem.bind(u))(o.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return[!0,o.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[w,C]=x;if(g=o.merge(C,(y=s())!=null?y:p),r(g,!0),w)return h()}).then(()=>{f==null||f(g,void 0),g=s(),i=!0,c.forEach(x=>x(g))}).catch(x=>{f==null||f(void 0,x)})};return a.persist={setOptions:v=>{o={...o,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>j(),hasHydrated:()=>i,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},o.skipHydration||j(),g||p},F1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((P1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),O1(e,t)):I1(e,t),Pe=F1,_1="123456",sg=["Martin","Andres","Hugo","Marcela","Temp Employee"],We=Me()(Pe(e=>({currentUser:null,isAuthenticated:!1,login:t=>{sg.includes(t)&&e({currentUser:{name:t,loginTime:new Date().toISOString()},isAuthenticated:!0})},logout:()=>{e({currentUser:null,isAuthenticated:!1})}}),{name:"taquero-auth"}));function ag(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ag(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function og(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ag(e))&&(s&&(s+=" "),s+=t);return s}const Sh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ch=og,ru=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return Ch(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const h=r==null?void 0:r[u],m=o==null?void 0:o[u];if(h===null)return null;const p=Sh(h)||Sh(m);return a[u][p]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,p]=h;return p===void 0||(u[m]=p),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,h)=>{let{class:m,className:p,...g}=h;return Object.entries(g).every(j=>{let[v,N]=j;return Array.isArray(N)?N.includes({...o,...l}[v]):{...o,...l}[v]===N})?[...u,m,p]:u},[]);return Ch(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},su="-",L1=e=>{const t=z1(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const l=i.split(su);return l[0]===""&&l.length!==1&&l.shift(),ig(l,t)||B1(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&s[i]?[...c,...s[i]]:c}}},ig=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?ig(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(su);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},kh=/^\[(.+)\]$/,B1=e=>{if(kh.test(e)){const t=kh.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},z1=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return W1(Object.entries(e.classGroups),r).forEach(([o,i])=>{Qc(i,s,o,t)}),s},Qc=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Eh(t,a);o.classGroupId=r;return}if(typeof a=="function"){if($1(a)){Qc(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{Qc(i,Eh(t,o),r,s)})})},Eh=(e,t)=>{let r=e;return t.split(su).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},$1=e=>e.isThemeGetter,W1=(e,t)=>t?e.map(([r,s])=>{const a=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,U1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},lg="!",G1=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,h=0,m;for(let N=0;N<l.length;N++){let f=l[N];if(u===0){if(f===a&&(s||l.slice(N,N+o)===t)){c.push(l.slice(h,N)),h=N+o;continue}if(f==="/"){m=N;continue}}f==="["?u++:f==="]"&&u--}const p=c.length===0?l:l.substring(h),g=p.startsWith(lg),j=g?p.substring(1):p,v=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:i}):i},H1=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},V1=e=>({cache:U1(e.cacheSize),parseClassName:G1(e),...L1(e)}),Y1=/\s+/,q1=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(Y1);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=r(u);let j=!!g,v=s(j?p.substring(0,g):p);if(!v){if(!j){l=u+(l.length>0?" "+l:l);continue}if(v=s(p),!v){l=u+(l.length>0?" "+l:l);continue}j=!1}const N=H1(h).join(":"),f=m?N+lg:N,x=f+v;if(o.includes(x))continue;o.push(x);const y=a(v,j);for(let w=0;w<y.length;++w){const C=y[w];o.push(f+C)}l=u+(l.length>0?" "+l:l)}return l};function K1(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cg(t))&&(s&&(s+=" "),s+=r);return s}const cg=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=cg(e[s]))&&(r&&(r+=" "),r+=t);return r};function Q1(e,...t){let r,s,a,o=i;function i(c){const u=t.reduce((h,m)=>m(h),e());return r=V1(u),s=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const u=s(c);if(u)return u;const h=q1(c,r);return a(c,h),h}return function(){return o(K1.apply(null,arguments))}}const pe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},dg=/^\[(?:([a-z-]+):)?(.+)\]$/i,Z1=/^\d+\/\d+$/,X1=new Set(["px","full","screen"]),J1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fn=e=>xs(e)||X1.has(e)||Z1.test(e),In=e=>Fs(e,"length",ub),xs=e=>!!e&&!Number.isNaN(Number(e)),Ll=e=>Fs(e,"number",xs),Ks=e=>!!e&&Number.isInteger(Number(e)),sb=e=>e.endsWith("%")&&xs(e.slice(0,-1)),re=e=>dg.test(e),Fn=e=>J1.test(e),ab=new Set(["length","size","percentage"]),ob=e=>Fs(e,ab,ug),ib=e=>Fs(e,"position",ug),lb=new Set(["image","url"]),cb=e=>Fs(e,lb,hb),db=e=>Fs(e,"",mb),Qs=()=>!0,Fs=(e,t,r)=>{const s=dg.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},ub=e=>eb.test(e)&&!tb.test(e),ug=()=>!1,mb=e=>nb.test(e),hb=e=>rb.test(e),fb=()=>{const e=pe("colors"),t=pe("spacing"),r=pe("blur"),s=pe("brightness"),a=pe("borderColor"),o=pe("borderRadius"),i=pe("borderSpacing"),l=pe("borderWidth"),c=pe("contrast"),u=pe("grayscale"),h=pe("hueRotate"),m=pe("invert"),p=pe("gap"),g=pe("gradientColorStops"),j=pe("gradientColorStopPositions"),v=pe("inset"),N=pe("margin"),f=pe("opacity"),x=pe("padding"),y=pe("saturate"),w=pe("scale"),C=pe("sepia"),R=pe("skew"),k=pe("space"),D=pe("translate"),b=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",re,t],E=()=>[re,t],I=()=>["",fn,In],z=()=>["auto",xs,re],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",re],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[xs,re];return{cacheSize:500,separator:":",theme:{colors:[Qs],spacing:[fn,In],blur:["none","",Fn,re],brightness:P(),borderColor:[e],borderRadius:["none","","full",Fn,re],borderSpacing:E(),borderWidth:I(),contrast:P(),grayscale:_(),hueRotate:P(),invert:_(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[sb,In],inset:T(),margin:T(),opacity:P(),padding:E(),saturate:P(),scale:P(),sepia:_(),skew:P(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[Fn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),re]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ks,re]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Ks,re]}],"grid-cols":[{"grid-cols":[Qs]}],"col-start-end":[{col:["auto",{span:["full",Ks,re]},re]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Qs]}],"row-start-end":[{row:["auto",{span:[Ks,re]},re]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[Fn]},Fn]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fn,In]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ll]}],"font-family":[{font:[Qs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",xs,Ll]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fn,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fn,In]}],"underline-offset":[{"underline-offset":["auto",fn,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),ib]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ob]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cb]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[fn,re]}],"outline-w":[{outline:[fn,In]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[fn,In]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fn,db]}],"shadow-color":[{shadow:[Qs]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fn,re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[y]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ks,re]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fn,In,Ll]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pb=Q1(fb);function Z(...e){return pb(og(e))}function xb(e){return(typeof e=="string"?new Date(e):e).toLocaleDateString("en-NZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function Co(){return new Date().toISOString().split("T")[0]}const au=ru("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-md hover:shadow-primary/20",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:shadow-md hover:shadow-destructive/20",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-md px-8 text-base",xl:"h-14 rounded-md px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=d.forwardRef(({className:e,variant:t,size:r,...s},a)=>n.jsx("button",{className:Z(au({variant:t,size:r,className:e})),ref:a,...s}));M.displayName="Button";const W=d.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));W.displayName="Input";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const r=d.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...u},h)=>d.createElement("svg",{ref:h,...gb,width:a,height:a,stroke:s,strokeWidth:i?Number(o)*24/Number(a):o,className:["lucide",`lucide-${vb(e)}`,l].join(" "),...u},[...t.map(([m,p])=>d.createElement(m,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Y("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Y("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Y("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Y("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Y("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Y("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Y("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Y("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Y("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Y("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Y("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Y("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Y("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Y("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Y("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Y("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Y("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Y("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Y("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Y("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Y("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Y("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Y("ThermometerSnowflake",[["path",{d:"M2 12h10",key:"19562f"}],["path",{d:"M9 4v16",key:"81ygyz"}],["path",{d:"m3 9 3 3-3 3",key:"1sas0l"}],["path",{d:"M12 6 9 9 6 6",key:"pfrgxu"}],["path",{d:"m6 18 3-3 1.5 1.5",key:"1e277p"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Y("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Y("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Y("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Y("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Y("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zb=new Date().toISOString();function $b({onPasswordCorrect:e,onError:t}){const[r,s]=d.useState(""),[a,o]=d.useState(!1),i=c=>{c.preventDefault(),r===_1?e():(t("Incorrect password"),s(""))},l=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),o(!1)):(document.documentElement.requestFullscreen(),o(!0))};return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4 relative",children:[n.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 rounded-md hover:bg-accent transition-colors","aria-label":"Toggle fullscreen",children:a?n.jsx(Ab,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Mb,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("div",{className:"w-full text-center mb-12",children:n.jsx("h1",{className:"login-title font-bold tracking-tight",children:"Taquero"})}),n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("form",{onSubmit:i,className:"space-y-4",children:[n.jsx(W,{type:"password",placeholder:"Enter password",value:r,onChange:c=>s(c.target.value),className:"h-14 text-lg",autoComplete:"off",autoFocus:!0}),n.jsx(M,{type:"submit",className:"w-full",size:"lg",children:"Login"})]})}),n.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Build: ",new Date(zb).toLocaleString("en-NZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})]})})]})}const Wb={Martin:Th,Andres:du,Hugo:ir,Marcela:Th,"Temp Employee":Xa};function Ub({onUserSelect:e}){return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Select Your Name"}),n.jsx("p",{className:"text-muted-foreground",children:"Who is logging in today?"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:sg.map(t=>{const r=Wb[t];return n.jsxs(M,{variant:"outline",size:"xl",className:"h-32 flex-col gap-3 hover:bg-accent",onClick:()=>e(t),children:[n.jsx(r,{className:"h-10 w-10"}),n.jsx("span",{className:"text-lg",children:t})]},t)})})]})})}function ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Rh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ls(...e){return t=>{let r=!1;const s=e.map(a=>{const o=Rh(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():Rh(e[a],null)}}}}function Te(...e){return d.useCallback(Ls(...e),e)}function Gb(e,t){const r=d.createContext(t),s=o=>{const{children:i,...l}=o,c=d.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:i})};s.displayName=e+"Provider";function a(o){const i=d.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function gr(e,t=[]){let r=[];function s(o,i){const l=d.createContext(i),c=r.length;r=[...r,i];const u=m=>{var f;const{scope:p,children:g,...j}=m,v=((f=p==null?void 0:p[e])==null?void 0:f[c])||l,N=d.useMemo(()=>j,Object.values(j));return n.jsx(v.Provider,{value:N,children:g})};u.displayName=o+"Provider";function h(m,p){var v;const g=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,j=d.useContext(g);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Hb(a,...t)]}function Hb(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var lr=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Vb=Ha[" useInsertionEffect ".trim().toString()]||lr;function Zi({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,o,i]=Yb({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const u=d.useCallback(h=>{var m;if(l){const p=qb(h)?h(e):h;p!==e&&((m=i.current)==null||m.call(i,p))}else o(h)},[l,e,o,i]);return[c,u]}function Yb({defaultProp:e,onChange:t}){const[r,s]=d.useState(e),a=d.useRef(r),o=d.useRef(t);return Vb(()=>{o.current=t},[t]),d.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,s,o]}function qb(e){return typeof e=="function"}function La(e){const t=Kb(e),r=d.forwardRef((s,a)=>{const{children:o,...i}=s,l=d.Children.toArray(o),c=l.find(Zb);if(c){const u=c.props.children,h=l.map(m=>m===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:m);return n.jsx(t,{...i,ref:a,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return n.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function Kb(e){const t=d.forwardRef((r,s)=>{const{children:a,...o}=r;if(d.isValidElement(a)){const i=Jb(a),l=Xb(o,a.props);return a.type!==d.Fragment&&(l.ref=s?Ls(s,i):i),d.cloneElement(a,l)}return d.Children.count(a)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yg=Symbol("radix.slottable");function Qb(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=yg,t}function Zb(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yg}function Xb(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function Jb(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=eS.reduce((e,t)=>{const r=La(`Primitive.${t}`),s=d.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function jg(e,t){e&&Yi.flushSync(()=>e.dispatchEvent(t))}function Ng(e){const t=e+"CollectionProvider",[r,s]=gr(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:N,children:f}=v,x=en.useRef(null),y=en.useRef(new Map).current;return n.jsx(a,{scope:N,itemMap:y,collectionRef:x,children:f})};i.displayName=t;const l=e+"CollectionSlot",c=La(l),u=en.forwardRef((v,N)=>{const{scope:f,children:x}=v,y=o(l,f),w=Te(N,y.collectionRef);return n.jsx(c,{ref:w,children:x})});u.displayName=l;const h=e+"CollectionItemSlot",m="data-radix-collection-item",p=La(h),g=en.forwardRef((v,N)=>{const{scope:f,children:x,...y}=v,w=en.useRef(null),C=Te(N,w),R=o(h,f);return en.useEffect(()=>(R.itemMap.set(w,{ref:w,...y}),()=>void R.itemMap.delete(w))),n.jsx(p,{[m]:"",ref:C,children:x})});g.displayName=h;function j(v){const N=o(e+"CollectionConsumer",v);return en.useCallback(()=>{const x=N.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(N.itemMap.values()).sort((R,k)=>y.indexOf(R.ref.current)-y.indexOf(k.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},j,s]}var tS=d.createContext(void 0);function wg(e){const t=d.useContext(tS);return e||t||"ltr"}function Cn(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function nS(e,t=globalThis==null?void 0:globalThis.document){const r=Cn(e);d.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var rS="DismissableLayer",Zc="dismissableLayer.update",sS="dismissableLayer.pointerDownOutside",aS="dismissableLayer.focusOutside",Mh,bg=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mu=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(bg),[h,m]=d.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),j=Te(t,k=>m(k)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),f=v.indexOf(N),x=h?v.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=x>=f,C=lS(k=>{const D=k.target,b=[...u.branches].some(S=>S.contains(D));!w||b||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},p),R=cS(k=>{const D=k.target;[...u.branches].some(S=>S.contains(D))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},p);return nS(k=>{x===u.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),d.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mh=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ph(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Mh)}},[h,p,r,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ph())},[h,u]),d.useEffect(()=>{const k=()=>g({});return document.addEventListener(Zc,k),()=>document.removeEventListener(Zc,k)},[]),n.jsx(Se.div,{...c,ref:j,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,C.onPointerDownCapture)})});mu.displayName=rS;var oS="DismissableLayerBranch",iS=d.forwardRef((e,t)=>{const r=d.useContext(bg),s=d.useRef(null),a=Te(t,s);return d.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(Se.div,{...e,ref:a})});iS.displayName=oS;function lS(e,t=globalThis==null?void 0:globalThis.document){const r=Cn(e),s=d.useRef(!1),a=d.useRef(()=>{});return d.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let c=function(){Sg(sS,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function cS(e,t=globalThis==null?void 0:globalThis.document){const r=Cn(e),s=d.useRef(!1);return d.useEffect(()=>{const a=o=>{o.target&&!s.current&&Sg(aS,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ph(){const e=new CustomEvent(Zc);document.dispatchEvent(e)}function Sg(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jg(a,o):a.dispatchEvent(o)}var Bl=0;function Cg(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ah()),document.body.insertAdjacentElement("beforeend",e[1]??Ah()),Bl++,()=>{Bl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bl--}},[])}function Ah(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zl="focusScope.autoFocusOnMount",$l="focusScope.autoFocusOnUnmount",Oh={bubbles:!1,cancelable:!0},dS="FocusScope",hu=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=d.useState(null),u=Cn(a),h=Cn(o),m=d.useRef(null),p=Te(t,v=>c(v)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(s){let v=function(y){if(g.paused||!l)return;const w=y.target;l.contains(w)?m.current=w:Ln(m.current,{select:!0})},N=function(y){if(g.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||Ln(m.current,{select:!0}))},f=function(y){if(document.activeElement===document.body)for(const C of y)C.removedNodes.length>0&&Ln(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const x=new MutationObserver(f);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),x.disconnect()}}},[s,l,g.paused]),d.useEffect(()=>{if(l){Fh.add(g);const v=document.activeElement;if(!l.contains(v)){const f=new CustomEvent(zl,Oh);l.addEventListener(zl,u),l.dispatchEvent(f),f.defaultPrevented||(uS(xS(kg(l)),{select:!0}),document.activeElement===v&&Ln(l))}return()=>{l.removeEventListener(zl,u),setTimeout(()=>{const f=new CustomEvent($l,Oh);l.addEventListener($l,h),l.dispatchEvent(f),f.defaultPrevented||Ln(v??document.body,{select:!0}),l.removeEventListener($l,h),Fh.remove(g)},0)}}},[l,u,h,g]);const j=d.useCallback(v=>{if(!r&&!s||g.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,f=document.activeElement;if(N&&f){const x=v.currentTarget,[y,w]=mS(x);y&&w?!v.shiftKey&&f===w?(v.preventDefault(),r&&Ln(y,{select:!0})):v.shiftKey&&f===y&&(v.preventDefault(),r&&Ln(w,{select:!0})):f===x&&v.preventDefault()}},[r,s,g.paused]);return n.jsx(Se.div,{tabIndex:-1,...i,ref:p,onKeyDown:j})});hu.displayName=dS;function uS(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ln(s,{select:t}),document.activeElement!==r)return}function mS(e){const t=kg(e),r=Ih(t,e),s=Ih(t.reverse(),e);return[r,s]}function kg(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ih(e,t){for(const r of e)if(!hS(r,{upTo:t}))return r}function hS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fS(e){return e instanceof HTMLInputElement&&"select"in e}function Ln(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&fS(e)&&t&&e.select()}}var Fh=pS();function pS(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_h(e,t),e.unshift(t)},remove(t){var r;e=_h(e,t),(r=e[0])==null||r.resume()}}}function _h(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function xS(e){return e.filter(t=>t.tagName!=="A")}var gS=Ha[" useId ".trim().toString()]||(()=>{}),vS=0;function gs(e){const[t,r]=d.useState(gS());return lr(()=>{r(s=>s??String(vS++))},[e]),t?`radix-${t}`:""}const yS=["top","right","bottom","left"],cr=Math.min,ht=Math.max,vi=Math.round,ko=Math.floor,on=e=>({x:e,y:e}),jS={left:"right",right:"left",bottom:"top",top:"bottom"},NS={start:"end",end:"start"};function Xc(e,t,r){return ht(e,cr(t,r))}function kn(e,t){return typeof e=="function"?e(t):e}function En(e){return e.split("-")[0]}function Bs(e){return e.split("-")[1]}function fu(e){return e==="x"?"y":"x"}function pu(e){return e==="y"?"height":"width"}const wS=new Set(["top","bottom"]);function rn(e){return wS.has(En(e))?"y":"x"}function xu(e){return fu(rn(e))}function bS(e,t,r){r===void 0&&(r=!1);const s=Bs(e),a=xu(e),o=pu(a);let i=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=yi(i)),[i,yi(i)]}function SS(e){const t=yi(e);return[Jc(e),t,Jc(t)]}function Jc(e){return e.replace(/start|end/g,t=>NS[t])}const Lh=["left","right"],Bh=["right","left"],CS=["top","bottom"],kS=["bottom","top"];function ES(e,t,r){switch(e){case"top":case"bottom":return r?t?Bh:Lh:t?Lh:Bh;case"left":case"right":return t?CS:kS;default:return[]}}function TS(e,t,r,s){const a=Bs(e);let o=ES(En(e),r==="start",s);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Jc)))),o}function yi(e){return e.replace(/left|right|bottom|top/g,t=>jS[t])}function DS(e){return{top:0,right:0,bottom:0,left:0,...e}}function Eg(e){return typeof e!="number"?DS(e):{top:e,right:e,bottom:e,left:e}}function ji(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function zh(e,t,r){let{reference:s,floating:a}=e;const o=rn(t),i=xu(t),l=pu(i),c=En(t),u=o==="y",h=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let g;switch(c){case"top":g={x:h,y:s.y-a.height};break;case"bottom":g={x:h,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:m};break;case"left":g={x:s.x-a.width,y:m};break;default:g={x:s.x,y:s.y}}switch(Bs(t)){case"start":g[i]-=p*(r&&u?-1:1);break;case"end":g[i]+=p*(r&&u?-1:1);break}return g}const RS=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:m}=zh(u,s,c),p=s,g={},j=0;for(let v=0;v<l.length;v++){const{name:N,fn:f}=l[v],{x,y,data:w,reset:C}=await f({x:h,y:m,initialPlacement:s,placement:p,strategy:a,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});h=x??h,m=y??m,g={...g,[N]:{...g[N],...w}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:h,y:m}=zh(u,p,c)),v=-1)}return{x:h,y:m,placement:p,strategy:a,middlewareData:g}};async function Ba(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=kn(t,e),j=Eg(g),N=l[p?m==="floating"?"reference":"floating":m],f=ji(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(N)))==null||r?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),x=m==="floating"?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},C=ji(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(f.top-C.top+j.top)/w.y,bottom:(C.bottom-f.bottom+j.bottom)/w.y,left:(f.left-C.left+j.left)/w.x,right:(C.right-f.right+j.right)/w.x}}const MS=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=kn(e,t)||{};if(u==null)return{};const m=Eg(h),p={x:r,y:s},g=xu(a),j=pu(g),v=await i.getDimensions(u),N=g==="y",f=N?"top":"left",x=N?"bottom":"right",y=N?"clientHeight":"clientWidth",w=o.reference[j]+o.reference[g]-p[g]-o.floating[j],C=p[g]-o.reference[g],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=R?R[y]:0;(!k||!await(i.isElement==null?void 0:i.isElement(R)))&&(k=l.floating[y]||o.floating[j]);const D=w/2-C/2,b=k/2-v[j]/2-1,S=cr(m[f],b),T=cr(m[x],b),E=S,I=k-v[j]-T,z=k/2-v[j]/2+D,F=Xc(E,z,I),B=!c.arrow&&Bs(a)!=null&&z!==F&&o.reference[j]/2-(z<E?S:T)-v[j]/2<0,G=B?z<E?z-E:z-I:0;return{[g]:p[g]+G,data:{[g]:F,centerOffset:z-F-G,...B&&{alignmentOffset:G}},reset:B}}}),PS=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...N}=kn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const f=En(a),x=rn(l),y=En(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(y||!v?[yi(l)]:SS(l)),R=j!=="none";!p&&R&&C.push(...TS(l,v,j,w));const k=[l,...C],D=await Ba(t,N),b=[];let S=((s=o.flip)==null?void 0:s.overflows)||[];if(h&&b.push(D[f]),m){const z=bS(a,i,w);b.push(D[z[0]],D[z[1]])}if(S=[...S,{placement:a,overflows:b}],!b.every(z=>z<=0)){var T,E;const z=(((T=o.flip)==null?void 0:T.index)||0)+1,F=k[z];if(F&&(!(m==="alignment"?x!==rn(F):!1)||S.every(A=>rn(A.placement)===x?A.overflows[0]>0:!0)))return{data:{index:z,overflows:S},reset:{placement:F}};let B=(E=S.filter(G=>G.overflows[0]<=0).sort((G,A)=>G.overflows[1]-A.overflows[1])[0])==null?void 0:E.placement;if(!B)switch(g){case"bestFit":{var I;const G=(I=S.filter(A=>{if(R){const _=rn(A.placement);return _===x||_==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(_=>_>0).reduce((_,L)=>_+L,0)]).sort((A,_)=>A[1]-_[1])[0])==null?void 0:I[0];G&&(B=G);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function $h(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wh(e){return yS.some(t=>e[t]>=0)}const AS=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=kn(e,t);switch(s){case"referenceHidden":{const o=await Ba(t,{...a,elementContext:"reference"}),i=$h(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Wh(i)}}}case"escaped":{const o=await Ba(t,{...a,altBoundary:!0}),i=$h(o,r.floating);return{data:{escapedOffsets:i,escaped:Wh(i)}}}default:return{}}}}},Tg=new Set(["left","top"]);async function OS(e,t){const{placement:r,platform:s,elements:a}=e,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),i=En(r),l=Bs(r),c=rn(r)==="y",u=Tg.has(i)?-1:1,h=o&&c?-1:1,m=kn(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof j=="number"&&(g=l==="end"?j*-1:j),c?{x:g*h,y:p*u}:{x:p*u,y:g*h}}const IS=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await OS(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},FS=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:N=>{let{x:f,y:x}=N;return{x:f,y:x}}},...c}=kn(e,t),u={x:r,y:s},h=await Ba(t,c),m=rn(En(a)),p=fu(m);let g=u[p],j=u[m];if(o){const N=p==="y"?"top":"left",f=p==="y"?"bottom":"right",x=g+h[N],y=g-h[f];g=Xc(x,g,y)}if(i){const N=m==="y"?"top":"left",f=m==="y"?"bottom":"right",x=j+h[N],y=j-h[f];j=Xc(x,j,y)}const v=l.fn({...t,[p]:g,[m]:j});return{...v,data:{x:v.x-r,y:v.y-s,enabled:{[p]:o,[m]:i}}}}}},_S=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=kn(e,t),h={x:r,y:s},m=rn(a),p=fu(m);let g=h[p],j=h[m];const v=kn(l,t),N=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=p==="y"?"height":"width",w=o.reference[p]-o.floating[y]+N.mainAxis,C=o.reference[p]+o.reference[y]-N.mainAxis;g<w?g=w:g>C&&(g=C)}if(u){var f,x;const y=p==="y"?"width":"height",w=Tg.has(En(a)),C=o.reference[m]-o.floating[y]+(w&&((f=i.offset)==null?void 0:f[m])||0)+(w?0:N.crossAxis),R=o.reference[m]+o.reference[y]+(w?0:((x=i.offset)==null?void 0:x[m])||0)-(w?N.crossAxis:0);j<C?j=C:j>R&&(j=R)}return{[p]:g,[m]:j}}}},LS=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=kn(e,t),h=await Ba(t,u),m=En(a),p=Bs(a),g=rn(a)==="y",{width:j,height:v}=o.floating;let N,f;m==="top"||m==="bottom"?(N=m,f=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(f=m,N=p==="end"?"top":"bottom");const x=v-h.top-h.bottom,y=j-h.left-h.right,w=cr(v-h[N],x),C=cr(j-h[f],y),R=!t.middlewareData.shift;let k=w,D=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=x),R&&!p){const S=ht(h.left,0),T=ht(h.right,0),E=ht(h.top,0),I=ht(h.bottom,0);g?D=j-2*(S!==0||T!==0?S+T:ht(h.left,h.right)):k=v-2*(E!==0||I!==0?E+I:ht(h.top,h.bottom))}await c({...t,availableWidth:D,availableHeight:k});const b=await i.getDimensions(l.floating);return j!==b.width||v!==b.height?{reset:{rects:!0}}:{}}}};function Xi(){return typeof window<"u"}function zs(e){return Dg(e)?(e.nodeName||"").toLowerCase():"#document"}function xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dn(e){var t;return(t=(Dg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Dg(e){return Xi()?e instanceof Node||e instanceof xt(e).Node:!1}function qt(e){return Xi()?e instanceof Element||e instanceof xt(e).Element:!1}function ln(e){return Xi()?e instanceof HTMLElement||e instanceof xt(e).HTMLElement:!1}function Uh(e){return!Xi()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xt(e).ShadowRoot}const BS=new Set(["inline","contents"]);function Ja(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Kt(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!BS.has(a)}const zS=new Set(["table","td","th"]);function $S(e){return zS.has(zs(e))}const WS=[":popover-open",":modal"];function Ji(e){return WS.some(t=>{try{return e.matches(t)}catch{return!1}})}const US=["transform","translate","scale","rotate","perspective"],GS=["transform","translate","scale","rotate","perspective","filter"],HS=["paint","layout","strict","content"];function gu(e){const t=vu(),r=qt(e)?Kt(e):e;return US.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||GS.some(s=>(r.willChange||"").includes(s))||HS.some(s=>(r.contain||"").includes(s))}function VS(e){let t=dr(e);for(;ln(t)&&!Ms(t);){if(gu(t))return t;if(Ji(t))return null;t=dr(t)}return null}function vu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YS=new Set(["html","body","#document"]);function Ms(e){return YS.has(zs(e))}function Kt(e){return xt(e).getComputedStyle(e)}function el(e){return qt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dr(e){if(zs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uh(e)&&e.host||dn(e);return Uh(t)?t.host:t}function Rg(e){const t=dr(e);return Ms(t)?e.ownerDocument?e.ownerDocument.body:e.body:ln(t)&&Ja(t)?t:Rg(t)}function za(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Rg(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),i=xt(a);if(o){const l=ed(i);return t.concat(i,i.visualViewport||[],Ja(a)?a:[],l&&r?za(l):[])}return t.concat(a,za(a,[],r))}function ed(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mg(e){const t=Kt(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ln(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:s,l=vi(r)!==o||vi(s)!==i;return l&&(r=o,s=i),{width:r,height:s,$:l}}function yu(e){return qt(e)?e:e.contextElement}function vs(e){const t=yu(e);if(!ln(t))return on(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:o}=Mg(t);let i=(o?vi(r.width):r.width)/s,l=(o?vi(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const qS=on(0);function Pg(e){const t=xt(e);return!vu()||!t.visualViewport?qS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KS(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xt(e)?!1:t}function Lr(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=yu(e);let i=on(1);t&&(s?qt(s)&&(i=vs(s)):i=vs(e));const l=KS(o,r,s)?Pg(o):on(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,h=a.width/i.x,m=a.height/i.y;if(o){const p=xt(o),g=s&&qt(s)?xt(s):s;let j=p,v=ed(j);for(;v&&s&&g!==j;){const N=vs(v),f=v.getBoundingClientRect(),x=Kt(v),y=f.left+(v.clientLeft+parseFloat(x.paddingLeft))*N.x,w=f.top+(v.clientTop+parseFloat(x.paddingTop))*N.y;c*=N.x,u*=N.y,h*=N.x,m*=N.y,c+=y,u+=w,j=xt(v),v=ed(j)}}return ji({width:h,height:m,x:c,y:u})}function tl(e,t){const r=el(e).scrollLeft;return t?t.left+r:Lr(dn(e)).left+r}function Ag(e,t){const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-tl(e,r),a=r.top+t.scrollTop;return{x:s,y:a}}function QS(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const o=a==="fixed",i=dn(s),l=t?Ji(t.floating):!1;if(s===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=on(1);const h=on(0),m=ln(s);if((m||!m&&!o)&&((zs(s)!=="body"||Ja(i))&&(c=el(s)),ln(s))){const g=Lr(s);u=vs(s),h.x=g.x+s.clientLeft,h.y=g.y+s.clientTop}const p=i&&!m&&!o?Ag(i,c):on(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-c.scrollTop*u.y+h.y+p.y}}function ZS(e){return Array.from(e.getClientRects())}function XS(e){const t=dn(e),r=el(e),s=e.ownerDocument.body,a=ht(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=ht(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+tl(e);const l=-r.scrollTop;return Kt(s).direction==="rtl"&&(i+=ht(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:i,y:l}}const Gh=25;function JS(e,t){const r=xt(e),s=dn(e),a=r.visualViewport;let o=s.clientWidth,i=s.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const h=vu();(!h||h&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=tl(s);if(u<=0){const h=s.ownerDocument,m=h.body,p=getComputedStyle(m),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,j=Math.abs(s.clientWidth-m.clientWidth-g);j<=Gh&&(o-=j)}else u<=Gh&&(o+=u);return{width:o,height:i,x:l,y:c}}const e2=new Set(["absolute","fixed"]);function t2(e,t){const r=Lr(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,o=ln(e)?vs(e):on(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=s*o.y;return{width:i,height:l,x:c,y:u}}function Hh(e,t,r){let s;if(t==="viewport")s=JS(e,r);else if(t==="document")s=XS(dn(e));else if(qt(t))s=t2(t,r);else{const a=Pg(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ji(s)}function Og(e,t){const r=dr(e);return r===t||!qt(r)||Ms(r)?!1:Kt(r).position==="fixed"||Og(r,t)}function n2(e,t){const r=t.get(e);if(r)return r;let s=za(e,[],!1).filter(l=>qt(l)&&zs(l)!=="body"),a=null;const o=Kt(e).position==="fixed";let i=o?dr(e):e;for(;qt(i)&&!Ms(i);){const l=Kt(i),c=gu(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&e2.has(a.position)||Ja(i)&&!c&&Og(e,i))?s=s.filter(h=>h!==i):a=l,i=dr(i)}return t.set(e,s),s}function r2(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const i=[...r==="clippingAncestors"?Ji(t)?[]:n2(t,this._c):[].concat(r),s],l=i[0],c=i.reduce((u,h)=>{const m=Hh(t,h,a);return u.top=ht(m.top,u.top),u.right=cr(m.right,u.right),u.bottom=cr(m.bottom,u.bottom),u.left=ht(m.left,u.left),u},Hh(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s2(e){const{width:t,height:r}=Mg(e);return{width:t,height:r}}function a2(e,t,r){const s=ln(t),a=dn(t),o=r==="fixed",i=Lr(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=on(0);function u(){c.x=tl(a)}if(s||!s&&!o)if((zs(t)!=="body"||Ja(a))&&(l=el(t)),s){const g=Lr(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();o&&!s&&a&&u();const h=a&&!s&&!o?Ag(a,l):on(0),m=i.left+l.scrollLeft-c.x-h.x,p=i.top+l.scrollTop-c.y-h.y;return{x:m,y:p,width:i.width,height:i.height}}function Wl(e){return Kt(e).position==="static"}function Vh(e,t){if(!ln(e)||Kt(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return dn(e)===r&&(r=r.ownerDocument.body),r}function Ig(e,t){const r=xt(e);if(Ji(e))return r;if(!ln(e)){let a=dr(e);for(;a&&!Ms(a);){if(qt(a)&&!Wl(a))return a;a=dr(a)}return r}let s=Vh(e,t);for(;s&&$S(s)&&Wl(s);)s=Vh(s,t);return s&&Ms(s)&&Wl(s)&&!gu(s)?r:s||VS(e)||r}const o2=async function(e){const t=this.getOffsetParent||Ig,r=this.getDimensions,s=await r(e.floating);return{reference:a2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function i2(e){return Kt(e).direction==="rtl"}const l2={convertOffsetParentRelativeRectToViewportRelativeRect:QS,getDocumentElement:dn,getClippingRect:r2,getOffsetParent:Ig,getElementRects:o2,getClientRects:ZS,getDimensions:s2,getScale:vs,isElement:qt,isRTL:i2};function Fg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c2(e,t){let r=null,s;const a=dn(e);function o(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:h,top:m,width:p,height:g}=u;if(l||t(),!p||!g)return;const j=ko(m),v=ko(a.clientWidth-(h+p)),N=ko(a.clientHeight-(m+g)),f=ko(h),y={rootMargin:-j+"px "+-v+"px "+-N+"px "+-f+"px",threshold:ht(0,cr(1,c))||1};let w=!0;function C(R){const k=R[0].intersectionRatio;if(k!==c){if(!w)return i();k?i(!1,k):s=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Fg(u,e.getBoundingClientRect())&&i(),w=!1}try{r=new IntersectionObserver(C,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,y)}r.observe(e)}return i(!0),o}function d2(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=yu(e),h=a||o?[...u?za(u):[],...za(t)]:[];h.forEach(f=>{a&&f.addEventListener("scroll",r,{passive:!0}),o&&f.addEventListener("resize",r)});const m=u&&l?c2(u,r):null;let p=-1,g=null;i&&(g=new ResizeObserver(f=>{let[x]=f;x&&x.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let j,v=c?Lr(e):null;c&&N();function N(){const f=Lr(e);v&&!Fg(v,f)&&r(),v=f,j=requestAnimationFrame(N)}return r(),()=>{var f;h.forEach(x=>{a&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),m==null||m(),(f=g)==null||f.disconnect(),g=null,c&&cancelAnimationFrame(j)}}const u2=IS,m2=FS,h2=PS,f2=LS,p2=AS,Yh=MS,x2=_S,g2=(e,t,r)=>{const s=new Map,a={platform:l2,...r},o={...a.platform,_c:s};return RS(e,t,{...a,platform:o})};var v2=typeof document<"u",y2=function(){},Ho=v2?d.useLayoutEffect:y2;function Ni(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Ni(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!Ni(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function _g(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qh(e,t){const r=_g(e);return Math.round(t*r)/r}function Ul(e){const t=d.useRef(e);return Ho(()=>{t.current=e}),t}function j2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,m]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=d.useState(s);Ni(p,s)||g(s);const[j,v]=d.useState(null),[N,f]=d.useState(null),x=d.useCallback(A=>{A!==R.current&&(R.current=A,v(A))},[]),y=d.useCallback(A=>{A!==k.current&&(k.current=A,f(A))},[]),w=o||j,C=i||N,R=d.useRef(null),k=d.useRef(null),D=d.useRef(h),b=c!=null,S=Ul(c),T=Ul(a),E=Ul(u),I=d.useCallback(()=>{if(!R.current||!k.current)return;const A={placement:t,strategy:r,middleware:p};T.current&&(A.platform=T.current),g2(R.current,k.current,A).then(_=>{const L={..._,isPositioned:E.current!==!1};z.current&&!Ni(D.current,L)&&(D.current=L,Yi.flushSync(()=>{m(L)}))})},[p,t,r,T,E]);Ho(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(A=>({...A,isPositioned:!1})))},[u]);const z=d.useRef(!1);Ho(()=>(z.current=!0,()=>{z.current=!1}),[]),Ho(()=>{if(w&&(R.current=w),C&&(k.current=C),w&&C){if(S.current)return S.current(w,C,I);I()}},[w,C,I,S,b]);const F=d.useMemo(()=>({reference:R,floating:k,setReference:x,setFloating:y}),[x,y]),B=d.useMemo(()=>({reference:w,floating:C}),[w,C]),G=d.useMemo(()=>{const A={position:r,left:0,top:0};if(!B.floating)return A;const _=qh(B.floating,h.x),L=qh(B.floating,h.y);return l?{...A,transform:"translate("+_+"px, "+L+"px)",..._g(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_,top:L}},[r,l,B.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:I,refs:F,elements:B,floatingStyles:G}),[h,I,F,B,G])}const N2=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Yh({element:s.current,padding:a}).fn(r):{}:s?Yh({element:s,padding:a}).fn(r):{}}}},w2=(e,t)=>({...u2(e),options:[e,t]}),b2=(e,t)=>({...m2(e),options:[e,t]}),S2=(e,t)=>({...x2(e),options:[e,t]}),C2=(e,t)=>({...h2(e),options:[e,t]}),k2=(e,t)=>({...f2(e),options:[e,t]}),E2=(e,t)=>({...p2(e),options:[e,t]}),T2=(e,t)=>({...N2(e),options:[e,t]});var D2="Arrow",Lg=d.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...o}=e;return n.jsx(Se.svg,{...o,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});Lg.displayName=D2;var R2=Lg;function Bg(e){const[t,r]=d.useState(void 0);return lr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var ju="Popper",[zg,$g]=gr(ju),[M2,Wg]=zg(ju),Ug=e=>{const{__scopePopper:t,children:r}=e,[s,a]=d.useState(null);return n.jsx(M2,{scope:t,anchor:s,onAnchorChange:a,children:r})};Ug.displayName=ju;var Gg="PopperAnchor",Hg=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,o=Wg(Gg,r),i=d.useRef(null),l=Te(t,i),c=d.useRef(null);return d.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),s?null:n.jsx(Se.div,{...a,ref:l})});Hg.displayName=Gg;var Nu="PopperContent",[P2,A2]=zg(Nu),Vg=d.forwardRef((e,t)=>{var Q,_t,qe,hn,ee,Pn;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:j,...v}=e,N=Wg(Nu,r),[f,x]=d.useState(null),y=Te(t,vr=>x(vr)),[w,C]=d.useState(null),R=Bg(w),k=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,b=s+(o!=="center"?"-"+o:""),S=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},T=Array.isArray(u)?u:[u],E=T.length>0,I={padding:S,boundary:T.filter(I2),altBoundary:E},{refs:z,floatingStyles:F,placement:B,isPositioned:G,middlewareData:A}=j2({strategy:"fixed",placement:b,whileElementsMounted:(...vr)=>d2(...vr,{animationFrame:g==="always"}),elements:{reference:N.anchor},middleware:[w2({mainAxis:a+D,alignmentAxis:i}),c&&b2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?S2():void 0,...I}),c&&C2({...I}),k2({...I,apply:({elements:vr,rects:K,availableWidth:Je,availableHeight:An})=>{const{width:Fj,height:_j}=K.reference,oo=vr.floating.style;oo.setProperty("--radix-popper-available-width",`${Je}px`),oo.setProperty("--radix-popper-available-height",`${An}px`),oo.setProperty("--radix-popper-anchor-width",`${Fj}px`),oo.setProperty("--radix-popper-anchor-height",`${_j}px`)}}),w&&T2({element:w,padding:l}),F2({arrowWidth:k,arrowHeight:D}),p&&E2({strategy:"referenceHidden",...I})]}),[_,L]=Kg(B),P=Cn(j);lr(()=>{G&&(P==null||P())},[G,P]);const $=(Q=A.arrow)==null?void 0:Q.x,oe=(_t=A.arrow)==null?void 0:_t.y,ce=((qe=A.arrow)==null?void 0:qe.centerOffset)!==0,[ot,ke]=d.useState();return lr(()=>{f&&ke(window.getComputedStyle(f).zIndex)},[f]),n.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:G?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[(hn=A.transformOrigin)==null?void 0:hn.x,(ee=A.transformOrigin)==null?void 0:ee.y].join(" "),...((Pn=A.hide)==null?void 0:Pn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(P2,{scope:r,placedSide:_,onArrowChange:C,arrowX:$,arrowY:oe,shouldHideArrow:ce,children:n.jsx(Se.div,{"data-side":_,"data-align":L,...v,ref:y,style:{...v.style,animation:G?void 0:"none"}})})})});Vg.displayName=Nu;var Yg="PopperArrow",O2={top:"bottom",right:"left",bottom:"top",left:"right"},qg=d.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,o=A2(Yg,s),i=O2[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(R2,{...a,ref:r,style:{...a.style,display:"block"}})})});qg.displayName=Yg;function I2(e){return e!==null}var F2=e=>({name:"transformOrigin",options:e,fn(t){var N,f,x;const{placement:r,rects:s,middlewareData:a}=t,i=((N=a.arrow)==null?void 0:N.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=Kg(r),m={start:"0%",center:"50%",end:"100%"}[h],p=(((f=a.arrow)==null?void 0:f.x)??0)+l/2,g=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let j="",v="";return u==="bottom"?(j=i?m:`${p}px`,v=`${-c}px`):u==="top"?(j=i?m:`${p}px`,v=`${s.floating.height+c}px`):u==="right"?(j=`${-c}px`,v=i?m:`${g}px`):u==="left"&&(j=`${s.floating.width+c}px`,v=i?m:`${g}px`),{data:{x:j,y:v}}}});function Kg(e){const[t,r="center"]=e.split("-");return[t,r]}var _2=Ug,L2=Hg,B2=Vg,z2=qg,$2="Portal",wu=d.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,o]=d.useState(!1);lr(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?d0.createPortal(n.jsx(Se.div,{...s,ref:t}),i):null});wu.displayName=$2;function W2(e,t){return d.useReducer((r,s)=>t[r][s]??r,e)}var Rn=e=>{const{present:t,children:r}=e,s=U2(t),a=typeof r=="function"?r({present:s.isPresent}):d.Children.only(r),o=Te(s.ref,G2(a));return typeof r=="function"||s.isPresent?d.cloneElement(a,{ref:o}):null};Rn.displayName="Presence";function U2(e){const[t,r]=d.useState(),s=d.useRef(null),a=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=W2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Eo(s.current);o.current=l==="mounted"?u:"none"},[l]),lr(()=>{const u=s.current,h=a.current;if(h!==e){const p=o.current,g=Eo(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),lr(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=g=>{const v=Eo(s.current).includes(CSS.escape(g.animationName));if(g.target===t&&v&&(c("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},p=g=>{g.target===t&&(o.current=Eo(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function Eo(e){return(e==null?void 0:e.animationName)||"none"}function G2(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Gl="rovingFocusGroup.onEntryFocus",H2={bubbles:!1,cancelable:!0},eo="RovingFocusGroup",[td,Qg,V2]=Ng(eo),[Y2,Zg]=gr(eo,[V2]),[q2,K2]=Y2(eo),Xg=d.forwardRef((e,t)=>n.jsx(td.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(td.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Q2,{...e,ref:t})})}));Xg.displayName=eo;var Q2=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,p=d.useRef(null),g=Te(t,p),j=wg(o),[v,N]=Zi({prop:i,defaultProp:l??null,onChange:c,caller:eo}),[f,x]=d.useState(!1),y=Cn(u),w=Qg(r),C=d.useRef(!1),[R,k]=d.useState(0);return d.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(Gl,y),()=>D.removeEventListener(Gl,y)},[y]),n.jsx(q2,{scope:r,orientation:s,dir:j,loop:a,currentTabStopId:v,onItemFocus:d.useCallback(D=>N(D),[N]),onItemShiftTab:d.useCallback(()=>x(!0),[]),onFocusableItemAdd:d.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:d.useCallback(()=>k(D=>D-1),[]),children:n.jsx(Se.div,{tabIndex:f||R===0?-1:0,"data-orientation":s,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{C.current=!0}),onFocus:ne(e.onFocus,D=>{const b=!C.current;if(D.target===D.currentTarget&&b&&!f){const S=new CustomEvent(Gl,H2);if(D.currentTarget.dispatchEvent(S),!S.defaultPrevented){const T=w().filter(B=>B.focusable),E=T.find(B=>B.active),I=T.find(B=>B.id===v),F=[E,I,...T].filter(Boolean).map(B=>B.ref.current);tv(F,h)}}C.current=!1}),onBlur:ne(e.onBlur,()=>x(!1))})})}),Jg="RovingFocusGroupItem",ev=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=gs(),u=o||c,h=K2(Jg,r),m=h.currentTabStopId===u,p=Qg(r),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:v}=h;return d.useEffect(()=>{if(s)return g(),()=>j()},[s,g,j]),n.jsx(td.ItemSlot,{scope:r,id:u,focusable:s,active:a,children:n.jsx(Se.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ne(e.onMouseDown,N=>{s?h.onItemFocus(u):N.preventDefault()}),onFocus:ne(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const f=J2(N,h.orientation,h.dir);if(f!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let y=p().filter(w=>w.focusable).map(w=>w.ref.current);if(f==="last")y.reverse();else if(f==="prev"||f==="next"){f==="prev"&&y.reverse();const w=y.indexOf(N.currentTarget);y=h.loop?eC(y,w+1):y.slice(w+1)}setTimeout(()=>tv(y))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:v!=null}):i})})});ev.displayName=Jg;var Z2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function X2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function J2(e,t,r){const s=X2(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Z2[s]}function tv(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function eC(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var tC=Xg,nC=ev,rC=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qr=new WeakMap,To=new WeakMap,Do={},Hl=0,nv=function(e){return e&&(e.host||nv(e.parentNode))},sC=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=nv(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},aC=function(e,t,r,s){var a=sC(t,Array.isArray(e)?e:[e]);Do[r]||(Do[r]=new WeakMap);var o=Do[r],i=[],l=new Set,c=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var g=p.getAttribute(s),j=g!==null&&g!=="false",v=(qr.get(p)||0)+1,N=(o.get(p)||0)+1;qr.set(p,v),o.set(p,N),i.push(p),v===1&&j&&To.set(p,!0),N===1&&p.setAttribute(r,"true"),j||p.setAttribute(s,"true")}catch(f){console.error("aria-hidden: cannot operate on ",p,f)}})};return h(t),l.clear(),Hl++,function(){i.forEach(function(m){var p=qr.get(m)-1,g=o.get(m)-1;qr.set(m,p),o.set(m,g),p||(To.has(m)||m.removeAttribute(s),To.delete(m)),g||m.removeAttribute(r)}),Hl--,Hl||(qr=new WeakMap,qr=new WeakMap,To=new WeakMap,Do={})}},rv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=rC(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),aC(s,a,r,"aria-hidden")):function(){return null}},nn=function(){return nn=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},nn.apply(this,arguments)};function sv(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function oC(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Vo="right-scroll-bar-position",Yo="width-before-scroll-bar",iC="with-scroll-bars-hidden",lC="--removed-body-scroll-bar-size";function Vl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cC(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var dC=typeof window<"u"?d.useLayoutEffect:d.useEffect,Kh=new WeakMap;function uC(e,t){var r=cC(null,function(s){return e.forEach(function(a){return Vl(a,s)})});return dC(function(){var s=Kh.get(r);if(s){var a=new Set(s),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||Vl(l,null)}),o.forEach(function(l){a.has(l)||Vl(l,i)})}Kh.set(r,e)},[e]),r}function mC(e){return e}function hC(e,t){t===void 0&&(t=mC);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,s);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(s=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){s=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return a}function fC(e){e===void 0&&(e={});var t=hC(null);return t.options=nn({async:!0,ssr:!1},e),t}var av=function(e){var t=e.sideCar,r=sv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return d.createElement(s,nn({},r))};av.isSideCarExport=!0;function pC(e,t){return e.useMedium(t),av}var ov=fC(),Yl=function(){},nl=d.forwardRef(function(e,t){var r=d.useRef(null),s=d.useState({onScrollCapture:Yl,onWheelCapture:Yl,onTouchMoveCapture:Yl}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,p=e.sideCar,g=e.noRelative,j=e.noIsolation,v=e.inert,N=e.allowPinchZoom,f=e.as,x=f===void 0?"div":f,y=e.gapMode,w=sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,R=uC([r,t]),k=nn(nn({},w),a);return d.createElement(d.Fragment,null,h&&d.createElement(C,{sideCar:ov,removeScrollBar:u,shards:m,noRelative:g,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!N,lockRef:r,gapMode:y}),i?d.cloneElement(d.Children.only(l),nn(nn({},k),{ref:R})):d.createElement(x,nn({},k,{className:c,ref:R}),l))});nl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nl.classNames={fullWidth:Yo,zeroRight:Vo};var xC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xC();return t&&e.setAttribute("nonce",t),e}function vC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jC=function(){var e=0,t=null;return{add:function(r){e==0&&(t=gC())&&(vC(t,r),yC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NC=function(){var e=jC();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},iv=function(){var e=NC(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},wC={left:0,top:0,right:0,gap:0},ql=function(e){return parseInt(e||"",10)||0},bC=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ql(r),ql(s),ql(a)]},SC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wC;var t=bC(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},CC=iv(),ys="data-scroll-locked",kC=function(e,t,r,s){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iC,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(ys,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vo,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Yo,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Vo," .").concat(Vo,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Yo," .").concat(Yo,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ys,`] {
    `).concat(lC,": ").concat(l,`px;
  }
`)},Qh=function(){var e=parseInt(document.body.getAttribute(ys)||"0",10);return isFinite(e)?e:0},EC=function(){d.useEffect(function(){return document.body.setAttribute(ys,(Qh()+1).toString()),function(){var e=Qh()-1;e<=0?document.body.removeAttribute(ys):document.body.setAttribute(ys,e.toString())}},[])},TC=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;EC();var o=d.useMemo(function(){return SC(a)},[a]);return d.createElement(CC,{styles:kC(o,!t,a,r?"":"!important")})},nd=!1;if(typeof window<"u")try{var Ro=Object.defineProperty({},"passive",{get:function(){return nd=!0,!0}});window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{nd=!1}var Kr=nd?{passive:!1}:!1,DC=function(e){return e.tagName==="TEXTAREA"},lv=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DC(e)&&r[t]==="visible")},RC=function(e){return lv(e,"overflowY")},MC=function(e){return lv(e,"overflowX")},Zh=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=cv(e,s);if(a){var o=dv(e,s),i=o[1],l=o[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},PC=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},AC=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},cv=function(e,t){return e==="v"?RC(t):MC(t)},dv=function(e,t){return e==="v"?PC(t):AC(t)},OC=function(e,t){return e==="h"&&t==="rtl"?-1:1},IC=function(e,t,r,s,a){var o=OC(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,c=t.contains(l),u=!1,h=i>0,m=0,p=0;do{if(!l)break;var g=dv(e,l),j=g[0],v=g[1],N=g[2],f=v-N-o*j;(j||f)&&cv(e,l)&&(m+=f,p+=j);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(u=!0),u},Mo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xh=function(e){return[e.deltaX,e.deltaY]},Jh=function(e){return e&&"current"in e?e.current:e},FC=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_C=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LC=0,Qr=[];function BC(e){var t=d.useRef([]),r=d.useRef([0,0]),s=d.useRef(),a=d.useState(LC++)[0],o=d.useState(iv)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=oC([e.lockRef.current],(e.shards||[]).map(Jh),!0).filter(Boolean);return v.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(v,N){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var f=Mo(v),x=r.current,y="deltaX"in v?v.deltaX:x[0]-f[0],w="deltaY"in v?v.deltaY:x[1]-f[1],C,R=v.target,k=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in v&&k==="h"&&R.type==="range")return!1;var D=Zh(k,R);if(!D)return!0;if(D?C=k:(C=k==="v"?"h":"v",D=Zh(k,R)),!D)return!1;if(!s.current&&"changedTouches"in v&&(y||w)&&(s.current=C),!C)return!0;var b=s.current||C;return IC(b,N,v,b==="h"?y:w)},[]),c=d.useCallback(function(v){var N=v;if(!(!Qr.length||Qr[Qr.length-1]!==o)){var f="deltaY"in N?Xh(N):Mo(N),x=t.current.filter(function(C){return C.name===N.type&&(C.target===N.target||N.target===C.shadowParent)&&FC(C.delta,f)})[0];if(x&&x.should){N.cancelable&&N.preventDefault();return}if(!x){var y=(i.current.shards||[]).map(Jh).filter(Boolean).filter(function(C){return C.contains(N.target)}),w=y.length>0?l(N,y[0]):!i.current.noIsolation;w&&N.cancelable&&N.preventDefault()}}},[]),u=d.useCallback(function(v,N,f,x){var y={name:v,delta:N,target:f,should:x,shadowParent:zC(f)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),h=d.useCallback(function(v){r.current=Mo(v),s.current=void 0},[]),m=d.useCallback(function(v){u(v.type,Xh(v),v.target,l(v,e.lockRef.current))},[]),p=d.useCallback(function(v){u(v.type,Mo(v),v.target,l(v,e.lockRef.current))},[]);d.useEffect(function(){return Qr.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Kr),document.addEventListener("touchmove",c,Kr),document.addEventListener("touchstart",h,Kr),function(){Qr=Qr.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Kr),document.removeEventListener("touchmove",c,Kr),document.removeEventListener("touchstart",h,Kr)}},[]);var g=e.removeScrollBar,j=e.inert;return d.createElement(d.Fragment,null,j?d.createElement(o,{styles:_C(a)}):null,g?d.createElement(TC,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zC(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $C=pC(ov,BC);var bu=d.forwardRef(function(e,t){return d.createElement(nl,nn({},e,{ref:t,sideCar:$C}))});bu.classNames=nl.classNames;var rd=["Enter"," "],WC=["ArrowDown","PageUp","Home"],uv=["ArrowUp","PageDown","End"],UC=[...WC,...uv],GC={ltr:[...rd,"ArrowRight"],rtl:[...rd,"ArrowLeft"]},HC={ltr:["ArrowLeft"],rtl:["ArrowRight"]},to="Menu",[$a,VC,YC]=Ng(to),[Gr,mv]=gr(to,[YC,$g,Zg]),rl=$g(),hv=Zg(),[qC,Hr]=Gr(to),[KC,no]=Gr(to),fv=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:o,modal:i=!0}=e,l=rl(t),[c,u]=d.useState(null),h=d.useRef(!1),m=Cn(o),p=wg(a);return d.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(_2,{...l,children:n.jsx(qC,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:u,children:n.jsx(KC,{scope:t,onClose:d.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:i,children:s})})})};fv.displayName=to;var QC="MenuAnchor",Su=d.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=rl(r);return n.jsx(L2,{...a,...s,ref:t})});Su.displayName=QC;var Cu="MenuPortal",[ZC,pv]=Gr(Cu,{forceMount:void 0}),xv=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,o=Hr(Cu,t);return n.jsx(ZC,{scope:t,forceMount:r,children:n.jsx(Rn,{present:r||o.open,children:n.jsx(wu,{asChild:!0,container:a,children:s})})})};xv.displayName=Cu;var Mt="MenuContent",[XC,ku]=Gr(Mt),gv=d.forwardRef((e,t)=>{const r=pv(Mt,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=Hr(Mt,e.__scopeMenu),i=no(Mt,e.__scopeMenu);return n.jsx($a.Provider,{scope:e.__scopeMenu,children:n.jsx(Rn,{present:s||o.open,children:n.jsx($a.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(JC,{...a,ref:t}):n.jsx(ek,{...a,ref:t})})})})}),JC=d.forwardRef((e,t)=>{const r=Hr(Mt,e.__scopeMenu),s=d.useRef(null),a=Te(t,s);return d.useEffect(()=>{const o=s.current;if(o)return rv(o)},[]),n.jsx(Eu,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ek=d.forwardRef((e,t)=>{const r=Hr(Mt,e.__scopeMenu);return n.jsx(Eu,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),tk=La("MenuContent.ScrollLock"),Eu=d.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:g,disableOutsideScroll:j,...v}=e,N=Hr(Mt,r),f=no(Mt,r),x=rl(r),y=hv(r),w=VC(r),[C,R]=d.useState(null),k=d.useRef(null),D=Te(t,k,N.onContentChange),b=d.useRef(0),S=d.useRef(""),T=d.useRef(0),E=d.useRef(null),I=d.useRef("right"),z=d.useRef(0),F=j?bu:d.Fragment,B=j?{as:tk,allowPinchZoom:!0}:void 0,G=_=>{var Q,_t;const L=S.current+_,P=w().filter(qe=>!qe.disabled),$=document.activeElement,oe=(Q=P.find(qe=>qe.ref.current===$))==null?void 0:Q.textValue,ce=P.map(qe=>qe.textValue),ot=hk(ce,L,oe),ke=(_t=P.find(qe=>qe.textValue===ot))==null?void 0:_t.ref.current;(function qe(hn){S.current=hn,window.clearTimeout(b.current),hn!==""&&(b.current=window.setTimeout(()=>qe(""),1e3))})(L),ke&&setTimeout(()=>ke.focus())};d.useEffect(()=>()=>window.clearTimeout(b.current),[]),Cg();const A=d.useCallback(_=>{var P,$;return I.current===((P=E.current)==null?void 0:P.side)&&pk(_,($=E.current)==null?void 0:$.area)},[]);return n.jsx(XC,{scope:r,searchRef:S,onItemEnter:d.useCallback(_=>{A(_)&&_.preventDefault()},[A]),onItemLeave:d.useCallback(_=>{var L;A(_)||((L=k.current)==null||L.focus(),R(null))},[A]),onTriggerLeave:d.useCallback(_=>{A(_)&&_.preventDefault()},[A]),pointerGraceTimerRef:T,onPointerGraceIntentChange:d.useCallback(_=>{E.current=_},[]),children:n.jsx(F,{...B,children:n.jsx(hu,{asChild:!0,trapped:a,onMountAutoFocus:ne(o,_=>{var L;_.preventDefault(),(L=k.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(mu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:g,children:n.jsx(tC,{asChild:!0,...y,dir:f.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:R,onEntryFocus:ne(c,_=>{f.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(B2,{role:"menu","aria-orientation":"vertical","data-state":Av(N.open),"data-radix-menu-content":"",dir:f.dir,...x,...v,ref:D,style:{outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,_=>{const P=_.target.closest("[data-radix-menu-content]")===_.currentTarget,$=_.ctrlKey||_.altKey||_.metaKey,oe=_.key.length===1;P&&(_.key==="Tab"&&_.preventDefault(),!$&&oe&&G(_.key));const ce=k.current;if(_.target!==ce||!UC.includes(_.key))return;_.preventDefault();const ke=w().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);uv.includes(_.key)&&ke.reverse(),uk(ke)}),onBlur:ne(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(b.current),S.current="")}),onPointerMove:ne(e.onPointerMove,Wa(_=>{const L=_.target,P=z.current!==_.clientX;if(_.currentTarget.contains(L)&&P){const $=_.clientX>z.current?"right":"left";I.current=$,z.current=_.clientX}}))})})})})})})});gv.displayName=Mt;var nk="MenuGroup",Tu=d.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Se.div,{role:"group",...s,ref:t})});Tu.displayName=nk;var rk="MenuLabel",vv=d.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Se.div,{...s,ref:t})});vv.displayName=rk;var wi="MenuItem",ef="menu.itemSelect",sl=d.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,o=d.useRef(null),i=no(wi,e.__scopeMenu),l=ku(wi,e.__scopeMenu),c=Te(t,o),u=d.useRef(!1),h=()=>{const m=o.current;if(!r&&m){const p=new CustomEvent(ef,{bubbles:!0,cancelable:!0});m.addEventListener(ef,g=>s==null?void 0:s(g),{once:!0}),jg(m,p),p.defaultPrevented?u.current=!1:i.onClose()}};return n.jsx(yv,{...a,ref:c,disabled:r,onClick:ne(e.onClick,h),onPointerDown:m=>{var p;(p=e.onPointerDown)==null||p.call(e,m),u.current=!0},onPointerUp:ne(e.onPointerUp,m=>{var p;u.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:ne(e.onKeyDown,m=>{const p=l.searchRef.current!=="";r||p&&m.key===" "||rd.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});sl.displayName=wi;var yv=d.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...o}=e,i=ku(wi,r),l=hv(r),c=d.useRef(null),u=Te(t,c),[h,m]=d.useState(!1),[p,g]=d.useState("");return d.useEffect(()=>{const j=c.current;j&&g((j.textContent??"").trim())},[o.children]),n.jsx($a.ItemSlot,{scope:r,disabled:s,textValue:a??p,children:n.jsx(nC,{asChild:!0,...l,focusable:!s,children:n.jsx(Se.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:u,onPointerMove:ne(e.onPointerMove,Wa(j=>{s?i.onItemLeave(j):(i.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,Wa(j=>i.onItemLeave(j))),onFocus:ne(e.onFocus,()=>m(!0)),onBlur:ne(e.onBlur,()=>m(!1))})})})}),sk="MenuCheckboxItem",jv=d.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(Cv,{scope:e.__scopeMenu,checked:r,children:n.jsx(sl,{role:"menuitemcheckbox","aria-checked":bi(r)?"mixed":r,...a,ref:t,"data-state":Ru(r),onSelect:ne(a.onSelect,()=>s==null?void 0:s(bi(r)?!0:!r),{checkForDefaultPrevented:!1})})})});jv.displayName=sk;var Nv="MenuRadioGroup",[ak,ok]=Gr(Nv,{value:void 0,onValueChange:()=>{}}),wv=d.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,o=Cn(s);return n.jsx(ak,{scope:e.__scopeMenu,value:r,onValueChange:o,children:n.jsx(Tu,{...a,ref:t})})});wv.displayName=Nv;var bv="MenuRadioItem",Sv=d.forwardRef((e,t)=>{const{value:r,...s}=e,a=ok(bv,e.__scopeMenu),o=r===a.value;return n.jsx(Cv,{scope:e.__scopeMenu,checked:o,children:n.jsx(sl,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":Ru(o),onSelect:ne(s.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});Sv.displayName=bv;var Du="MenuItemIndicator",[Cv,ik]=Gr(Du,{checked:!1}),kv=d.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,o=ik(Du,r);return n.jsx(Rn,{present:s||bi(o.checked)||o.checked===!0,children:n.jsx(Se.span,{...a,ref:t,"data-state":Ru(o.checked)})})});kv.displayName=Du;var lk="MenuSeparator",Ev=d.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Ev.displayName=lk;var ck="MenuArrow",Tv=d.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=rl(r);return n.jsx(z2,{...a,...s,ref:t})});Tv.displayName=ck;var dk="MenuSub",[c4,Dv]=Gr(dk),sa="MenuSubTrigger",Rv=d.forwardRef((e,t)=>{const r=Hr(sa,e.__scopeMenu),s=no(sa,e.__scopeMenu),a=Dv(sa,e.__scopeMenu),o=ku(sa,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),n.jsx(Su,{asChild:!0,...u,children:n.jsx(yv,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Av(r.open),...e,ref:Ls(t,a.onTriggerChange),onClick:m=>{var p;(p=e.onClick)==null||p.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Wa(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:ne(e.onPointerLeave,Wa(m=>{var g,j;h();const p=(g=r.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(j=r.content)==null?void 0:j.dataset.side,N=v==="right",f=N?-5:5,x=p[N?"left":"right"],y=p[N?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+f,y:m.clientY},{x,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,m=>{var g;const p=o.searchRef.current!=="";e.disabled||p&&m.key===" "||GC[s.dir].includes(m.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),m.preventDefault())})})})});Rv.displayName=sa;var Mv="MenuSubContent",Pv=d.forwardRef((e,t)=>{const r=pv(Mt,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=Hr(Mt,e.__scopeMenu),i=no(Mt,e.__scopeMenu),l=Dv(Mv,e.__scopeMenu),c=d.useRef(null),u=Te(t,c);return n.jsx($a.Provider,{scope:e.__scopeMenu,children:n.jsx(Rn,{present:s||o.open,children:n.jsx($a.Slot,{scope:e.__scopeMenu,children:n.jsx(Eu,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;i.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ne(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:ne(e.onKeyDown,h=>{var g;const m=h.currentTarget.contains(h.target),p=HC[i.dir].includes(h.key);m&&p&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});Pv.displayName=Mv;function Av(e){return e?"open":"closed"}function bi(e){return e==="indeterminate"}function Ru(e){return bi(e)?"indeterminate":e?"checked":"unchecked"}function uk(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function mk(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function hk(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=mk(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function fk(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,h=l.y,m=c.x,p=c.y;h>s!=p>s&&r<(m-u)*(s-h)/(p-h)+u&&(a=!a)}return a}function pk(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return fk(r,t)}function Wa(e){return t=>t.pointerType==="mouse"?e(t):void 0}var xk=fv,gk=Su,vk=xv,yk=gv,jk=Tu,Nk=vv,wk=sl,bk=jv,Sk=wv,Ck=Sv,kk=kv,Ek=Ev,Tk=Tv,Dk=Rv,Rk=Pv,al="DropdownMenu",[Mk]=gr(al,[mv]),at=mv(),[Pk,Ov]=Mk(al),Iv=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=at(t),u=d.useRef(null),[h,m]=Zi({prop:a,defaultProp:o??!1,onChange:i,caller:al});return n.jsx(Pk,{scope:t,triggerId:gs(),triggerRef:u,contentId:gs(),open:h,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(p=>!p),[m]),modal:l,children:n.jsx(xk,{...c,open:h,onOpenChange:m,dir:s,modal:l,children:r})})};Iv.displayName=al;var Fv="DropdownMenuTrigger",_v=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,o=Ov(Fv,r),i=at(r);return n.jsx(gk,{asChild:!0,...i,children:n.jsx(Se.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Ls(t,o.triggerRef),onPointerDown:ne(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ne(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});_v.displayName=Fv;var Ak="DropdownMenuPortal",Lv=e=>{const{__scopeDropdownMenu:t,...r}=e,s=at(t);return n.jsx(vk,{...s,...r})};Lv.displayName=Ak;var Bv="DropdownMenuContent",zv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ov(Bv,r),o=at(r),i=d.useRef(!1);return n.jsx(yk,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...s,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!a.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zv.displayName=Bv;var Ok="DropdownMenuGroup",Ik=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(jk,{...a,...s,ref:t})});Ik.displayName=Ok;var Fk="DropdownMenuLabel",$v=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Nk,{...a,...s,ref:t})});$v.displayName=Fk;var _k="DropdownMenuItem",Wv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(wk,{...a,...s,ref:t})});Wv.displayName=_k;var Lk="DropdownMenuCheckboxItem",Uv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(bk,{...a,...s,ref:t})});Uv.displayName=Lk;var Bk="DropdownMenuRadioGroup",zk=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Sk,{...a,...s,ref:t})});zk.displayName=Bk;var $k="DropdownMenuRadioItem",Gv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Ck,{...a,...s,ref:t})});Gv.displayName=$k;var Wk="DropdownMenuItemIndicator",Hv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(kk,{...a,...s,ref:t})});Hv.displayName=Wk;var Uk="DropdownMenuSeparator",Vv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Ek,{...a,...s,ref:t})});Vv.displayName=Uk;var Gk="DropdownMenuArrow",Hk=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Tk,{...a,...s,ref:t})});Hk.displayName=Gk;var Vk="DropdownMenuSubTrigger",Yv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Dk,{...a,...s,ref:t})});Yv.displayName=Vk;var Yk="DropdownMenuSubContent",qv=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=at(r);return n.jsx(Rk,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qv.displayName=Yk;var qk=Iv,Kk=_v,Qk=Lv,Kv=zv,Qv=$v,Zv=Wv,Xv=Uv,Jv=Gv,ey=Hv,ty=Vv,ny=Yv,ry=qv;const Zk=qk,Xk=Kk,Jk=d.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(ny,{ref:a,className:Z("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[r,n.jsx(_s,{className:"ml-auto"})]}));Jk.displayName=ny.displayName;const eE=d.forwardRef(({className:e,...t},r)=>n.jsx(ry,{ref:r,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));eE.displayName=ry.displayName;const sy=d.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Qk,{children:n.jsx(Kv,{ref:s,sideOffset:t,className:Z("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));sy.displayName=Kv.displayName;const ay=d.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Zv,{ref:s,className:Z("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));ay.displayName=Zv.displayName;const tE=d.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Xv,{ref:a,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(ey,{children:n.jsx(ou,{className:"h-4 w-4"})})}),t]}));tE.displayName=Xv.displayName;const nE=d.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Jv,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(ey,{children:n.jsx(Sb,{className:"h-2 w-2 fill-current"})})}),t]}));nE.displayName=Jv.displayName;const rE=d.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Qv,{ref:s,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));rE.displayName=Qv.displayName;const sE=d.forwardRef(({className:e,...t},r)=>n.jsx(ty,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));sE.displayName=ty.displayName;function aE({children:e}){const t=It(),r=Ki(),{currentUser:s,logout:a}=We(),o=r.pathname!=="/",i=()=>{a(),t("/login")},l=()=>{const c=r.pathname;c.startsWith("/module/staff-training/")?t("/module/staff-training"):c==="/module/staff-training"||c.startsWith("/module/")?t("/restaurant/fcp"):c==="/restaurant/fcp"?t("/restaurant"):c==="/manufacturing/fcp"?t("/manufacturing"):c.startsWith("/restaurant/")?t("/restaurant"):c.startsWith("/manufacturing/")?t("/manufacturing"):t("/")};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[o&&n.jsx(M,{variant:"ghost",size:"icon",onClick:l,children:n.jsx(Ds,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-xl font-semibold",children:"Taquero"})]}),n.jsx("div",{className:"flex items-center gap-4",children:s&&n.jsxs(Zk,{children:[n.jsx(Xk,{asChild:!0,children:n.jsx(M,{variant:"secondary",size:"sm",className:"bg-white text-black hover:bg-white/90",children:s.name})}),n.jsx(sy,{align:"end",children:n.jsxs(ay,{onClick:i,className:"gap-2 cursor-pointer",children:[n.jsx(Rb,{className:"h-4 w-4"}),n.jsx("span",{children:"Logout"})]})})]})})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:e})]})}const V=d.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Z("rounded-lg border border-border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md",e),...t}));V.displayName="Card";const X=d.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const J=d.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));J.displayName="CardTitle";const Ne=d.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));Ne.displayName="CardDescription";const q=d.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Z("p-6 pt-0",e),...t}));q.displayName="CardContent";const oE=d.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Z("flex items-center p-6 pt-0",e),...t}));oE.displayName="CardFooter";const iE=ru("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/10 text-green-500 hover:bg-green-500/20"}},defaultVariants:{variant:"default"}});function tr({className:e,variant:t,...r}){return n.jsx("div",{className:Z(iE({variant:t}),e),...r})}const xa=Me()(Pe((e,t)=>({taskCompletions:{},userSubmissions:{},markTaskCompleted:r=>{const s=Co();e(a=>{const o={...a.taskCompletions};return o[s]||(o[s]=[]),o[s].includes(r)||o[s].push(r),{taskCompletions:o}})},getWhoSubmittedToday:r=>{var o;const s=Co(),{userSubmissions:a}=t();if((o=a[r])!=null&&o[s]){const i=a[r][s];return i.length>0?i.join(", "):null}return null},recordUserSubmission:(r,s)=>{const a=Co();e(o=>{const i={...o.userSubmissions};return i[r]||(i[r]={}),i[r][a]||(i[r][a]=[]),i[r][a].includes(s)||i[r][a].push(s),{userSubmissions:i}})},isTaskCompletedToday:r=>{var o;const s=Co(),{taskCompletions:a}=t();return((o=a[s])==null?void 0:o.includes(r))??!1}}),{name:"taquero-app"}));function te({id:e,title:t,description:r,icon:s,onClick:a,className:o}){const i=xa(c=>c.isTaskCompletedToday(e)),l=typeof s=="string"?null:s;return n.jsxs(V,{className:Z("cursor-pointer transition-all duration-300 ease-in-out","hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10","hover:scale-[1.02] hover:-translate-y-1","active:scale-[0.98] active:translate-y-0","animate-in fade-in slide-in-from-bottom-4 duration-500","relative group",o),onClick:a,children:[i&&n.jsxs(tr,{variant:"success",className:"absolute top-3 right-3 gap-1 animate-in zoom-in duration-300",children:[n.jsx(ou,{className:"h-3 w-3"}),"Done"]}),n.jsxs(X,{className:"space-y-3",children:[l?n.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center transition-all duration-300 group-hover:bg-primary/20 group-hover:scale-110",children:n.jsx(l,{className:"h-6 w-6 text-primary transition-transform duration-300 group-hover:scale-110"})}):n.jsx("div",{className:"text-4xl transition-transform duration-300 group-hover:scale-110",children:s}),n.jsx(J,{className:"text-xl",children:t}),n.jsx(Ne,{className:"text-base",children:r})]})]})}function lE(){const e=It();return n.jsxs("div",{className:"space-y-8 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Select Dashboard"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Choose which system you want to access"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(te,{id:"restaurant-dashboard",title:"Restaurant",description:"FCP Records, Inventory, Events & Financial Data",icon:uu,onClick:()=>e("/restaurant")}),n.jsx(te,{id:"manufacturing-dashboard",title:"Food Manufacturing",description:"FCP Records, Traceability & B2B Sales",icon:kb,onClick:()=>e("/manufacturing")})]})]})}function cE(){const e=It();return n.jsxs("div",{className:"space-y-8 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Restaurant Dashboard"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Hot Like A Mexican - Wellington, NZ"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(te,{id:"restaurant-fcp",title:"FCP Recordkeeping",description:"All 13 food control plan sections",icon:lu,onClick:()=>e("/restaurant/fcp")}),n.jsx(te,{id:"inventory",title:"Inventory Management",description:"Stocktaking & shopping lists",icon:pg,onClick:()=>e("/restaurant/inventory")}),n.jsx(te,{id:"financial",title:"Financial Data",description:"CSV intake & data visualization",icon:jb,onClick:()=>e("/restaurant/financial")}),n.jsx(te,{id:"events",title:"Caravan Events",description:"Event management & scheduling",icon:or,onClick:()=>e("/restaurant/events")})]})]})}function dE(){const e=It();return n.jsxs("div",{className:"space-y-8 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Food Manufacturing Dashboard"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Hot Like A Mexican - Wellington, NZ"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(te,{id:"manufacturing-fcp",title:"FCP Recordkeeping",description:"All 13 food control plan sections",icon:lu,onClick:()=>e("/manufacturing/fcp")}),n.jsx(te,{id:"traceability",title:"Traceability System",description:"Track ingredients & products",icon:Ib,onClick:()=>e("/manufacturing/traceability")}),n.jsx(te,{id:"b2b-sales",title:"B2B Sales Tracking",description:"Business-to-business orders",icon:Nb,onClick:()=>e("/manufacturing/b2b")})]})]})}function uE(){const e=It();return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Restaurant FCP Records"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Food Control Plan compliance modules"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Shared Records"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(te,{id:"staff-training",title:"Staff Training Records",description:"Training logs & certifications",icon:du,onClick:()=>e("/module/staff-training")}),n.jsx(te,{id:"personal-hygiene",title:"Staff Sickness",description:"Staff health & sickness records",icon:cu,onClick:()=>e("/module/personal-hygiene")}),n.jsx(te,{id:"fridge-temps",title:"Fridge/Chiller Temps",description:"Temperature monitoring logs",icon:Ve,onClick:()=>e("/module/fridge-temps")}),n.jsx(te,{id:"cleaning-closing",title:"Cleaning & Closing",description:"Daily cleaning schedules",icon:_a,onClick:()=>e("/module/cleaning-closing")}),n.jsx(te,{id:"equipment-maintenance",title:"Equipment Maintenance",description:"Facilities & water supply records",icon:ir,onClick:()=>e("/module/equipment-maintenance")}),n.jsx(te,{id:"allergens",title:"Allergens in My Food",description:"Track allergens to inform customers",icon:Dr,onClick:()=>e("/module/allergens")}),n.jsx(te,{id:"suppliers",title:"My Trusted Suppliers",description:"Track suppliers for food safety",icon:or,onClick:()=>e("/module/suppliers")}),n.jsx(te,{id:"supplier-deliveries",title:"Trusted Supplier Deliveries",description:"Record deliveries for traceability",icon:fg,onClick:()=>e("/module/supplier-deliveries")}),n.jsx(te,{id:"b2b-sales",title:"Selling Food to Businesses",description:"Track B2B sales to other businesses",icon:_r,onClick:()=>e("/module/b2b-sales")})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Restaurant-Specific Records"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(te,{id:"cooking-poultry-batch",title:"Cooking Proteins - Batch",description:"Batch checks for chicken, beef, pork",icon:uu,onClick:()=>e("/module/cooking-poultry-batch")}),n.jsx(te,{id:"proving-reheating",title:"Proving Reheating Method",description:"Reheating validation",icon:ar,onClick:()=>e("/module/proving-reheating")}),n.jsx(te,{id:"proving-time-temp",title:"Proving the Cooking Method",description:"Method validation records",icon:ar,onClick:()=>e("/module/proving-time-temp")}),n.jsx(te,{id:"proving-cooling",title:"Proving Cooling Method",description:"Cooling method validation",icon:Ur,onClick:()=>e("/module/proving-cooling")}),n.jsx(te,{id:"cooling-batch",title:"Cooling Food - Batch Checks",description:"Freshly cooked food cooling logs",icon:mg,onClick:()=>e("/module/cooling-batch")}),n.jsx(te,{id:"transport-temp-checks",title:"Transported Food Temperature Checks",description:"Temp checks for food transported >4 hours",icon:or,onClick:()=>e("/module/transport-temp-checks")}),n.jsx(te,{id:"something-wrong",title:"When Something Goes Wrong",description:"Incident reports & corrective actions",icon:Fr,onClick:()=>e("/module/something-wrong")}),n.jsx(te,{id:"customer-complaints",title:"Customer Complaints",description:"Complaint tracking & resolution",icon:Pb,onClick:()=>e("/module/customer-complaints")})]})]})]})}function mE(){const e=It();return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Manufacturing FCP Records"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Food Control Plan compliance modules"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-muted-foreground",children:"Shared Records"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(te,{id:"staff-training",title:"Staff Training Records",description:"Training logs & certifications",icon:du,onClick:()=>e("/module/staff-training")}),n.jsx(te,{id:"personal-hygiene",title:"Staff Sickness",description:"Staff health & sickness records",icon:cu,onClick:()=>e("/module/personal-hygiene")}),n.jsx(te,{id:"fridge-temps",title:"Fridge/Chiller Temps",description:"Temperature monitoring logs",icon:Ve,onClick:()=>e("/module/fridge-temps")}),n.jsx(te,{id:"cleaning-closing",title:"Cleaning & Closing",description:"Daily cleaning schedules",icon:_a,onClick:()=>e("/module/cleaning-closing")}),n.jsx(te,{id:"equipment-maintenance",title:"Equipment Maintenance",description:"Facilities & water supply records",icon:ir,onClick:()=>e("/module/equipment-maintenance")}),n.jsx(te,{id:"allergens",title:"Allergens in My Food",description:"Track allergens to inform customers",icon:Dr,onClick:()=>e("/module/allergens")}),n.jsx(te,{id:"suppliers",title:"My Trusted Suppliers",description:"Track suppliers for food safety",icon:or,onClick:()=>e("/module/suppliers")}),n.jsx(te,{id:"supplier-deliveries",title:"Trusted Supplier Deliveries",description:"Record deliveries for traceability",icon:fg,onClick:()=>e("/module/supplier-deliveries")}),n.jsx(te,{id:"b2b-sales",title:"Selling Food to Businesses",description:"Track B2B sales to other businesses",icon:_r,onClick:()=>e("/module/b2b-sales")})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-muted-foreground",children:"Manufacturing-Specific Records"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(te,{id:"cooking-poultry-batch",title:"Cooking Proteins - Batch",description:"Batch checks for chicken, beef, pork",icon:uu,onClick:()=>e("/module/cooking-poultry-batch")}),n.jsx(te,{id:"proving-reheating",title:"Proving Reheating Method",description:"Reheating validation",icon:ar,onClick:()=>e("/module/proving-reheating")}),n.jsx(te,{id:"proving-time-temp",title:"Proving the Cooking Method",description:"Method validation records",icon:ar,onClick:()=>e("/module/proving-time-temp")}),n.jsx(te,{id:"proving-cooling",title:"Proving Cooling Method",description:"Cooling method validation",icon:Ur,onClick:()=>e("/module/proving-cooling")}),n.jsx(te,{id:"cooling-batch",title:"Cooling Food - Batch Checks",description:"Freshly cooked food cooling logs",icon:mg,onClick:()=>e("/module/cooling-batch")}),n.jsx(te,{id:"processes-controls",title:"Processes & Controls",description:"Knowing your processes and controls",icon:Fb,onClick:()=>e("/module/processes-controls")}),n.jsx(te,{id:"selling-to-businesses",title:"Selling to Businesses",description:"B2B sales documentation",icon:_r,onClick:()=>e("/module/selling-to-businesses")})]})]})]})}var ol="Dialog",[oy,iy]=gr(ol),[hE,Qt]=oy(ol),ly=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=Zi({prop:s,defaultProp:a??!1,onChange:o,caller:ol});return n.jsx(hE,{scope:t,triggerRef:l,contentRef:c,contentId:gs(),titleId:gs(),descriptionId:gs(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(m=>!m),[h]),modal:i,children:r})};ly.displayName=ol;var cy="DialogTrigger",dy=d.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qt(cy,r),o=Te(t,a.triggerRef);return n.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Au(a.open),...s,ref:o,onClick:ne(e.onClick,a.onOpenToggle)})});dy.displayName=cy;var Mu="DialogPortal",[fE,uy]=oy(Mu,{forceMount:void 0}),my=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,o=Qt(Mu,t);return n.jsx(fE,{scope:t,forceMount:r,children:d.Children.map(s,i=>n.jsx(Rn,{present:r||o.open,children:n.jsx(wu,{asChild:!0,container:a,children:i})}))})};my.displayName=Mu;var Si="DialogOverlay",hy=d.forwardRef((e,t)=>{const r=uy(Si,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=Qt(Si,e.__scopeDialog);return o.modal?n.jsx(Rn,{present:s||o.open,children:n.jsx(xE,{...a,ref:t})}):null});hy.displayName=Si;var pE=La("DialogOverlay.RemoveScroll"),xE=d.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qt(Si,r);return n.jsx(bu,{as:pE,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Se.div,{"data-state":Au(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Br="DialogContent",fy=d.forwardRef((e,t)=>{const r=uy(Br,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=Qt(Br,e.__scopeDialog);return n.jsx(Rn,{present:s||o.open,children:o.modal?n.jsx(gE,{...a,ref:t}):n.jsx(vE,{...a,ref:t})})});fy.displayName=Br;var gE=d.forwardRef((e,t)=>{const r=Qt(Br,e.__scopeDialog),s=d.useRef(null),a=Te(t,r.contentRef,s);return d.useEffect(()=>{const o=s.current;if(o)return rv(o)},[]),n.jsx(py,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault())})}),vE=d.forwardRef((e,t)=>{const r=Qt(Br,e.__scopeDialog),s=d.useRef(!1),a=d.useRef(!1);return n.jsx(py,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),py=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=Qt(Br,r),c=d.useRef(null),u=Te(t,c);return Cg(),n.jsxs(n.Fragment,{children:[n.jsx(hu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(mu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Au(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(jE,{titleId:l.titleId}),n.jsx(wE,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Pu="DialogTitle",xy=d.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qt(Pu,r);return n.jsx(Se.h2,{id:a.titleId,...s,ref:t})});xy.displayName=Pu;var gy="DialogDescription",vy=d.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qt(gy,r);return n.jsx(Se.p,{id:a.descriptionId,...s,ref:t})});vy.displayName=gy;var yy="DialogClose",jy=d.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qt(yy,r);return n.jsx(Se.button,{type:"button",...s,ref:t,onClick:ne(e.onClick,()=>a.onOpenChange(!1))})});jy.displayName=yy;function Au(e){return e?"open":"closed"}var Ny="DialogTitleWarning",[yE,wy]=Gb(Ny,{contentName:Br,titleName:Pu,docsSlug:"dialog"}),jE=({titleId:e})=>{const t=wy(Ny),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},NE="DialogDescriptionWarning",wE=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wy(NE).contentName}}.`;return d.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},by=ly,bE=dy,Sy=my,Ou=hy,Iu=fy,Fu=xy,_u=vy,Lu=jy,Cy="AlertDialog",[SE]=gr(Cy,[iy]),Mn=iy(),ky=e=>{const{__scopeAlertDialog:t,...r}=e,s=Mn(t);return n.jsx(by,{...s,...r,modal:!0})};ky.displayName=Cy;var CE="AlertDialogTrigger",kE=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Mn(r);return n.jsx(bE,{...a,...s,ref:t})});kE.displayName=CE;var EE="AlertDialogPortal",Ey=e=>{const{__scopeAlertDialog:t,...r}=e,s=Mn(t);return n.jsx(Sy,{...s,...r})};Ey.displayName=EE;var TE="AlertDialogOverlay",Ty=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Mn(r);return n.jsx(Ou,{...a,...s,ref:t})});Ty.displayName=TE;var js="AlertDialogContent",[DE,RE]=SE(js),ME=Qb("AlertDialogContent"),Dy=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,o=Mn(r),i=d.useRef(null),l=Te(t,i),c=d.useRef(null);return n.jsx(yE,{contentName:js,titleName:Ry,docsSlug:"alert-dialog",children:n.jsx(DE,{scope:r,cancelRef:c,children:n.jsxs(Iu,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ne(a.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[n.jsx(ME,{children:s}),n.jsx(AE,{contentRef:i})]})})})});Dy.displayName=js;var Ry="AlertDialogTitle",My=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Mn(r);return n.jsx(Fu,{...a,...s,ref:t})});My.displayName=Ry;var Py="AlertDialogDescription",Ay=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Mn(r);return n.jsx(_u,{...a,...s,ref:t})});Ay.displayName=Py;var PE="AlertDialogAction",Oy=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Mn(r);return n.jsx(Lu,{...a,...s,ref:t})});Oy.displayName=PE;var Iy="AlertDialogCancel",Fy=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=RE(Iy,r),o=Mn(r),i=Te(t,a);return n.jsx(Lu,{...o,...s,ref:i})});Fy.displayName=Iy;var AE=({contentRef:e})=>{const t=`\`${js}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${js}\` by passing a \`${Py}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${js}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},OE=ky,IE=Ey,_y=Ty,Ly=Dy,By=Oy,zy=Fy,$y=My,Wy=Ay;const Ot=OE,FE=IE,Uy=d.forwardRef(({className:e,...t},r)=>n.jsx(_y,{className:Z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Uy.displayName=_y.displayName;const vt=d.forwardRef(({className:e,...t},r)=>n.jsxs(FE,{children:[n.jsx(Uy,{}),n.jsx(Ly,{ref:r,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vt.displayName=Ly.displayName;const yt=({className:e,...t})=>n.jsx("div",{className:Z("flex flex-col space-y-2 text-center sm:text-left",e),...t});yt.displayName="AlertDialogHeader";const jt=({className:e,...t})=>n.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jt.displayName="AlertDialogFooter";const Nt=d.forwardRef(({className:e,...t},r)=>n.jsx($y,{ref:r,className:Z("text-lg font-semibold",e),...t}));Nt.displayName=$y.displayName;const wt=d.forwardRef(({className:e,...t},r)=>n.jsx(Wy,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));wt.displayName=Wy.displayName;const bt=d.forwardRef(({className:e,...t},r)=>n.jsx(By,{ref:r,className:Z(au(),e),...t}));bt.displayName=By.displayName;const St=d.forwardRef(({className:e,...t},r)=>n.jsx(zy,{ref:r,className:Z(au({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));St.displayName=zy.displayName;const _E="https://script.google.com/macros/s/AKfycbz27gmlc2swJgIXdayBHnP-b3KMIR-TiuY6Ib35piYo8m0TYDD1SzFbEDp2Q1EeywQg/exec",sd=Me()(Pe((e,t)=>({temperatureRecords:[],isLoading:!1,lastFetchTime:null,fetchError:null,setLoading:r=>{e({isLoading:r})},fetchFromGoogleSheets:async()=>{console.log(" fetchFromGoogleSheets called for temperatures"),e({isLoading:!0,fetchError:null});try{const r=await fetch(_E,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({temperatureRecords:s.data,lastFetchTime:new Date().toISOString(),fetchError:null}),console.log(" Temperature records fetched:",s.data.length);else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addLocalRecord:r=>{e(s=>({temperatureRecords:[r,...s.temperatureRecords]}))},getTodayRecord:()=>{const r=new Date().toISOString().split("T")[0];return t().temperatureRecords.find(s=>s.date===r)||null}}),{name:"taquero-temperature"})),LE="https://script.google.com/macros/s/AKfycbz27gmlc2swJgIXdayBHnP-b3KMIR-TiuY6Ib35piYo8m0TYDD1SzFbEDp2Q1EeywQg/exec";function BE({onComplete:e,onShowToast:t,onWizardStart:r}){const[s,a]=d.useState("date"),[o,i]=d.useState({chiller1:3,chiller2:3,chiller3:3,chiller4:3,chiller5:3,chiller6:3,freezer:-18}),[l,c]=d.useState(!1),[u,h]=d.useState(!1),[m,p]=d.useState(""),[g,j]=d.useState(!1),v=We(E=>E.currentUser),N=xa(E=>E.getWhoSubmittedToday),f=xa(E=>E.recordUserSubmission),x=xa(E=>E.markTaskCompleted),y=sd(E=>E.addLocalRecord),w=sd(E=>E.getTodayRecord),R=xb(new Date),k=(E,I)=>{i(z=>({...z,[E]:Number((z[E]+I).toFixed(1))}))},D=()=>{a(1),r==null||r()},b=async()=>{console.log(" handleFinish called");const E=w();if(console.log(" Today record from Google Sheets:",E),E){console.log(" Showing existing record warning"),j(!0);return}const I=N("fridge-temps");if(console.log(" Previous submitter from localStorage:",I),I){console.log(" Showing duplicate alert"),p(I),h(!0);return}console.log(" No duplicates found, proceeding with submission");const z=new Date,F=z.getFullYear(),B=String(z.getMonth()+1).padStart(2,"0"),G=String(z.getDate()).padStart(2,"0"),A=`${F}-${B}-${G}`,_=(v==null?void 0:v.name)||"Unknown";await T(A,_)},S=async()=>{const E=new Date,I=E.getFullYear(),z=String(E.getMonth()+1).padStart(2,"0"),F=String(E.getDate()).padStart(2,"0"),B=`${I}-${z}-${F}`,G=(v==null?void 0:v.name)||"Unknown";await T(B,G)},T=async(E,I)=>{console.log(" submitTemperatures called with:",{dateString:E,userName:I});const z={date:E,timestamp:new Date().toISOString(),user:I,chillers:[{unit:"Chiller #1",temperature:o.chiller1},{unit:"Chiller #2",temperature:o.chiller2},{unit:"Chiller #3",temperature:o.chiller3},{unit:"Chiller #4",temperature:o.chiller4},{unit:"Chiller #5",temperature:o.chiller5},{unit:"Chiller #6",temperature:o.chiller6}],freezer:{unit:"Freezer",temperature:o.freezer}};c(!0);try{await fetch(LE,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});const F=JSON.parse(localStorage.getItem("fridge_temp_records")||"[]");F.push(z),localStorage.setItem("fridge_temp_records",JSON.stringify(F)),y(z),f("fridge-temps",I),x("fridge-temps"),t("Temperature check saved to Google Sheets!","success"),e()}catch(F){console.error("Error saving temperature data:",F),t("Error saving temperature data","error")}finally{c(!1)}};if(s==="date")return n.jsx(V,{className:"p-8 max-w-2xl mx-auto",children:n.jsxs("div",{className:"space-y-6 text-center",children:[n.jsx("h3",{className:"text-2xl font-semibold",children:"Writing Records for:"}),n.jsx("div",{className:"text-xl text-muted-foreground",children:R}),n.jsx(M,{onClick:D,size:"lg",className:"w-full",children:"Continue"})]})});if(typeof s=="number"&&s<=6){const E=s,I=`chiller${E}`,z=o[I];return n.jsx(V,{className:"p-8 max-w-2xl mx-auto",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("h3",{className:"text-3xl font-bold text-center",children:["Chiller #",E]}),n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(M,{variant:"outline",size:"icon",className:"h-16 w-16",onClick:()=>k(I,-.5),children:n.jsx(Dh,{className:"h-6 w-6"})}),n.jsx("div",{className:"text-center min-w-[180px]",children:n.jsxs("div",{className:"text-5xl font-bold inline",children:[z,n.jsx("span",{className:"text-3xl text-muted-foreground ml-2",children:"C"})]})}),n.jsx(M,{variant:"outline",size:"icon",className:"h-16 w-16",onClick:()=>k(I,.5),children:n.jsx(he,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(M,{variant:"outline",onClick:()=>a(E===1?"date":E-1),className:"flex-1",children:"Previous"}),n.jsx(M,{onClick:()=>a(E+1),className:"flex-1",children:"Continue"})]})]})})}return n.jsxs(n.Fragment,{children:[n.jsx(Ot,{open:g,onOpenChange:j,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Record Already Exists"}),n.jsx(wt,{children:"A temperature check has already been completed for today. Creating another record will result in duplicate entries. Do you want to continue anyway?"})]}),n.jsxs(jt,{children:[n.jsx(St,{onClick:()=>{j(!1),t("Temperature check cancelled","warning")},children:"Cancel"}),n.jsx(bt,{onClick:async()=>{j(!1),await S()},children:"Continue Anyway"})]})]})}),n.jsx(Ot,{open:u,onOpenChange:h,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Duplicate Entry Warning"}),n.jsxs(wt,{children:["Temperature check already completed for this date by ",m,". Submitting again will create a duplicate entry in Google Sheets."]})]}),n.jsxs(jt,{children:[n.jsx(St,{onClick:()=>{h(!1),t("Temperature check cancelled","warning")},children:"Cancel"}),n.jsx(bt,{onClick:async()=>{h(!1),await S()},children:"Continue Anyway"})]})]})}),n.jsx(V,{className:"p-8 max-w-2xl mx-auto",children:n.jsxs("div",{className:"space-y-8",children:[n.jsx("h3",{className:"text-3xl font-bold text-center",children:"Freezer"}),n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(M,{variant:"outline",size:"icon",className:"h-16 w-16",onClick:()=>k("freezer",-.5),children:n.jsx(Dh,{className:"h-6 w-6"})}),n.jsx("div",{className:"text-center min-w-[180px]",children:n.jsxs("div",{className:"text-5xl font-bold inline",children:[o.freezer,n.jsx("span",{className:"text-3xl text-muted-foreground ml-2",children:"C"})]})}),n.jsx(M,{variant:"outline",size:"icon",className:"h-16 w-16",onClick:()=>k("freezer",.5),children:n.jsx(he,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Saving temperature check for:"}),n.jsx("div",{className:"text-center text-lg font-medium",children:R})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(M,{variant:"outline",onClick:()=>a(6),className:"flex-1",disabled:l,children:"Previous"}),n.jsx(M,{onClick:b,className:"flex-1",disabled:l,children:l?"Saving...":"Finish & Submit"})]})]})})]})}function un({message:e,type:t="info",onClose:r}){const s={success:"bg-green-500/10 border-green-500/20 text-green-400",error:"bg-red-600/20 border-red-500/40 text-red-400",info:"bg-slate-500/10 border-slate-500/20 text-slate-300",warning:"bg-red-600/20 border-red-500/40 text-red-400"};return d.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),n.jsxs("div",{className:Z("flex items-center gap-2 rounded-md border p-4 shadow-lg animate-in slide-in-from-bottom-2",s[t]),children:[n.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),n.jsx("button",{onClick:r,className:"rounded-sm opacity-70 hover:opacity-100 transition-opacity",children:n.jsx(vg,{className:"h-4 w-4"})})]})}function mn({children:e}){return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md",children:e})}function Zt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Gy=6048e5,zE=864e5;let $E={};function il(){return $E}function Ua(e,t){var l,c,u,h;const r=il(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=Zt(e),o=a.getDay(),i=(o<s?7:0)+o-s;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Ci(e){return Ua(e,{weekStartsOn:1})}function Hy(e){const t=Zt(e),r=t.getFullYear(),s=zr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Ci(s),o=zr(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Ci(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function tf(e){const t=Zt(e);return t.setHours(0,0,0,0),t}function nf(e){const t=Zt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function WE(e,t){const r=tf(e),s=tf(t),a=+r-nf(r),o=+s-nf(s);return Math.round((a-o)/zE)}function UE(e){const t=Hy(e),r=zr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ci(r)}function GE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function HE(e){if(!GE(e)&&typeof e!="number")return!1;const t=Zt(e);return!isNaN(Number(t))}function VE(e){const t=Zt(e),r=zr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const YE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qE=(e,t,r)=>{let s;const a=YE[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Kl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const KE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XE={date:Kl({formats:KE,defaultWidth:"full"}),time:Kl({formats:QE,defaultWidth:"full"}),dateTime:Kl({formats:ZE,defaultWidth:"full"})},JE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eT=(e,t,r,s)=>JE[e];function Zs(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const tT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iT=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lT={ordinalNumber:iT,era:Zs({values:tT,defaultWidth:"wide"}),quarter:Zs({values:nT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zs({values:rT,defaultWidth:"wide"}),day:Zs({values:sT,defaultWidth:"wide"}),dayPeriod:Zs({values:aT,defaultWidth:"wide",formattingValues:oT,defaultFormattingWidth:"wide"})};function Xs(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?dT(l,m=>m.test(i)):cT(l,m=>m.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function cT(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dT(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function uT(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const mT=/^(\d+)(th|st|nd|rd)?/i,hT=/\d+/i,fT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pT={any:[/^b/i,/^(a|c)/i]},xT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gT={any:[/1/i,/2/i,/3/i,/4/i]},vT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ST={ordinalNumber:uT({matchPattern:mT,parsePattern:hT,valueCallback:e=>parseInt(e,10)}),era:Xs({matchPatterns:fT,defaultMatchWidth:"wide",parsePatterns:pT,defaultParseWidth:"any"}),quarter:Xs({matchPatterns:xT,defaultMatchWidth:"wide",parsePatterns:gT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xs({matchPatterns:vT,defaultMatchWidth:"wide",parsePatterns:yT,defaultParseWidth:"any"}),day:Xs({matchPatterns:jT,defaultMatchWidth:"wide",parsePatterns:NT,defaultParseWidth:"any"}),dayPeriod:Xs({matchPatterns:wT,defaultMatchWidth:"any",parsePatterns:bT,defaultParseWidth:"any"})},CT={code:"en-US",formatDistance:qE,formatLong:XE,formatRelative:eT,localize:lT,match:ST,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kT(e){const t=Zt(e);return WE(t,VE(t))+1}function ET(e){const t=Zt(e),r=+Ci(t)-+UE(t);return Math.round(r/Gy)+1}function Vy(e,t){var h,m,p,g;const r=Zt(e),s=r.getFullYear(),a=il(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=zr(e,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const l=Ua(i,t),c=zr(e,0);c.setFullYear(s,0,o),c.setHours(0,0,0,0);const u=Ua(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function TT(e,t){var l,c,u,h;const r=il(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=Vy(e,t),o=zr(e,0);return o.setFullYear(a,0,s),o.setHours(0,0,0,0),Ua(o,t)}function DT(e,t){const r=Zt(e),s=+Ua(r,t)-+TT(r,t);return Math.round(s/Gy)+1}function de(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const _n={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return de(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):de(r+1,2)},d(e,t){return de(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return de(e.getHours()%12||12,t.length)},H(e,t){return de(e.getHours(),t.length)},m(e,t){return de(e.getMinutes(),t.length)},s(e,t){return de(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return de(a,t.length)}},Zr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rf={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return _n.y(e,t)},Y:function(e,t,r,s){const a=Vy(e,s),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return de(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):de(o,t.length)},R:function(e,t){const r=Hy(e);return de(r,t.length)},u:function(e,t){const r=e.getFullYear();return de(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return de(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return de(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return _n.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return de(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=DT(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):de(a,t.length)},I:function(e,t,r){const s=ET(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):de(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_n.d(e,t)},D:function(e,t,r){const s=kT(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):de(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return de(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return de(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return de(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Zr.noon:s===0?a=Zr.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Zr.evening:s>=12?a=Zr.afternoon:s>=4?a=Zr.morning:a=Zr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return _n.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_n.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):de(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):de(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_n.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_n.s(e,t)},S:function(e,t){return _n.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return af(s);case"XXXX":case"XX":return wr(s);case"XXXXX":case"XXX":default:return wr(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return af(s);case"xxxx":case"xx":return wr(s);case"xxxxx":case"xxx":default:return wr(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sf(s,":");case"OOOO":default:return"GMT"+wr(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sf(s,":");case"zzzz":default:return"GMT"+wr(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return de(s,t.length)},T:function(e,t,r){const s=e.getTime();return de(s,t.length)}};function sf(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),o=s%60;return o===0?r+String(a):r+String(a)+t+de(o,2)}function af(e,t){return e%60===0?(e>0?"-":"+")+de(Math.abs(e)/60,2):wr(e,t)}function wr(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=de(Math.trunc(s/60),2),o=de(s%60,2);return r+a+t+o}const of=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Yy=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},RT=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return of(e,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",of(s,t)).replace("{{time}}",Yy(a,t))},MT={p:Yy,P:RT},PT=/^D+$/,AT=/^Y+$/,OT=["D","DD","YY","YYYY"];function IT(e){return PT.test(e)}function FT(e){return AT.test(e)}function _T(e,t,r){const s=LT(e,t,r);if(console.warn(s),OT.includes(e))throw new RangeError(s)}function LT(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$T=/^'([^]*?)'?$/,WT=/''/g,UT=/[a-zA-Z]/;function yn(e,t,r){var h,m,p,g;const s=il(),a=s.locale??CT,o=s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=s.weekStartsOn??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,l=Zt(e);if(!HE(l))throw new RangeError("Invalid time value");let c=t.match(zT).map(j=>{const v=j[0];if(v==="p"||v==="P"){const N=MT[v];return N(j,a.formatLong)}return j}).join("").match(BT).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const v=j[0];if(v==="'")return{isToken:!1,value:GT(j)};if(rf[v])return{isToken:!0,value:j};if(v.match(UT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const v=j.value;(FT(v)||IT(v))&&_T(v,t,String(e));const N=rf[v[0]];return N(l,v,a.localize,u)}).join("")}function GT(e){const t=e.match($T);return t?t[1].replace(WT,"'"):e}function HT(){const e=It(),[t,r]=d.useState([]),[s,a]=d.useState(!1),{temperatureRecords:o,isLoading:i,fetchFromGoogleSheets:l,getTodayRecord:c}=sd(),{markTaskCompleted:u,recordUserSubmission:h}=xa();d.useEffect(()=>{(async()=>{await l();const f=c();f&&(u("fridge-temps"),h("fridge-temps",f.user))})()},[l,c,u,h]);const m=(N,f="info")=>{const x=Date.now();r(y=>[...y,{id:x,message:N,type:f}])},p=N=>{r(f=>f.filter(x=>x.id!==N))},g=()=>{l(),a(!1),e(-1)},j=()=>{a(!0)},v=o.slice(0,5);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Fridge/Chiller Temperature Checks"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Daily temperature monitoring for all chillers and freezer"})]}),n.jsx(BE,{onComplete:g,onShowToast:m,onWizardStart:j}),!s&&n.jsxs(V,{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ve,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Recent Temperature Checks"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Last 5 temperature records"})]})]})}),n.jsx(q,{children:i?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):v.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No temperature records found"}):n.jsx("div",{className:"space-y-4",children:v.map((N,f)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-3 transition-all duration-300 hover:shadow-md hover:border-primary/30 hover:scale-[1.01] animate-in fade-in slide-in-from-left-4",style:{animationDelay:`${f*100}ms`},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:yn(new Date(N.date),"EEEE, MMMM d, yyyy")}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Recorded by ",N.user]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:yn(new Date(N.timestamp),"h:mm a")})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[N.chillers.map((x,y)=>n.jsxs("div",{className:"text-center p-2 bg-muted/50 rounded",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:x.unit}),n.jsxs("div",{className:"font-mono font-semibold",children:[x.temperature,"C"]})]},y)),N.freezer&&n.jsxs("div",{className:"text-center p-2 bg-muted/50 rounded",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:N.freezer.unit}),n.jsxs("div",{className:"font-mono font-semibold",children:[N.freezer.temperature,"C"]})]})]})]},N.id||f))})})]})]}),n.jsx(mn,{children:t.map(N=>n.jsx(un,{message:N.message,type:N.type,onClose:()=>p(N.id)},N.id))})]})}function yr({title:e,description:t}){return n.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:e}),n.jsx("p",{className:"text-muted-foreground text-lg",children:t})]}),n.jsxs(V,{children:[n.jsxs(X,{className:"text-center pb-3",children:[n.jsx(Cb,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx(J,{className:"text-2xl",children:"Coming Soon"}),n.jsx(Ne,{className:"text-base",children:"This module is currently under development"})]}),n.jsx(q,{className:"text-center text-sm text-muted-foreground",children:"Check back later for updates"})]})]})}const Ue=by,VT=Sy,qy=d.forwardRef(({className:e,...t},r)=>n.jsx(Ou,{ref:r,className:Z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qy.displayName=Ou.displayName;const _e=d.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(VT,{children:[n.jsx(qy,{}),n.jsxs(Iu,{ref:s,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Lu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground flex items-center justify-center",children:[n.jsx(vg,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_e.displayName=Iu.displayName;const Le=({className:e,...t})=>n.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Le.displayName="DialogHeader";const Ky=({className:e,...t})=>n.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ky.displayName="DialogFooter";const Be=d.forwardRef(({className:e,...t},r)=>n.jsx(Fu,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));Be.displayName=Fu.displayName;const Bu=d.forwardRef(({className:e,...t},r)=>n.jsx(_u,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));Bu.displayName=_u.displayName;var YT=Symbol.for("react.lazy"),ki=Ha[" use ".trim().toString()];function qT(e){return typeof e=="object"&&e!==null&&"then"in e}function Qy(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===YT&&"_payload"in e&&qT(e._payload)}function KT(e){const t=QT(e),r=d.forwardRef((s,a)=>{let{children:o,...i}=s;Qy(o)&&typeof ki=="function"&&(o=ki(o._payload));const l=d.Children.toArray(o),c=l.find(XT);if(c){const u=c.props.children,h=l.map(m=>m===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:m);return n.jsx(t,{...i,ref:a,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return n.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function QT(e){const t=d.forwardRef((r,s)=>{let{children:a,...o}=r;if(Qy(a)&&typeof ki=="function"&&(a=ki(a._payload)),d.isValidElement(a)){const i=eD(a),l=JT(o,a.props);return a.type!==d.Fragment&&(l.ref=s?Ls(s,i):i),d.cloneElement(a,l)}return d.Children.count(a)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZT=Symbol("radix.slottable");function XT(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZT}function JT(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function eD(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nD=tD.reduce((e,t)=>{const r=KT(`Primitive.${t}`),s=d.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),rD="Label",Zy=d.forwardRef((e,t)=>n.jsx(nD.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Zy.displayName=rD;var Xy=Zy;const sD=ru("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=d.forwardRef(({className:e,...t},r)=>n.jsx(Xy,{ref:r,className:Z(sD(),e),...t}));O.displayName=Xy.displayName;function aD(e,t=[]){let r=[];function s(o,i){const l=d.createContext(i);l.displayName=o+"Context";const c=r.length;r=[...r,i];const u=m=>{var f;const{scope:p,children:g,...j}=m,v=((f=p==null?void 0:p[e])==null?void 0:f[c])||l,N=d.useMemo(()=>j,Object.values(j));return n.jsx(v.Provider,{value:N,children:g})};u.displayName=o+"Provider";function h(m,p){var v;const g=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,j=d.useContext(g);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,h]}const a=()=>{const o=r.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,oD(a,...t)]}function oD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var iD=Symbol.for("react.lazy"),Ei=Ha[" use ".trim().toString()];function lD(e){return typeof e=="object"&&e!==null&&"then"in e}function Jy(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===iD&&"_payload"in e&&lD(e._payload)}function cD(e){const t=dD(e),r=d.forwardRef((s,a)=>{let{children:o,...i}=s;Jy(o)&&typeof Ei=="function"&&(o=Ei(o._payload));const l=d.Children.toArray(o),c=l.find(mD);if(c){const u=c.props.children,h=l.map(m=>m===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:m);return n.jsx(t,{...i,ref:a,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return n.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function dD(e){const t=d.forwardRef((r,s)=>{let{children:a,...o}=r;if(Jy(a)&&typeof Ei=="function"&&(a=Ei(a._payload)),d.isValidElement(a)){const i=fD(a),l=hD(o,a.props);return a.type!==d.Fragment&&(l.ref=s?Ls(s,i):i),d.cloneElement(a,l)}return d.Children.count(a)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uD=Symbol("radix.slottable");function mD(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uD}function hD(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function fD(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ej=pD.reduce((e,t)=>{const r=cD(`Primitive.${t}`),s=d.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),zu="Progress",$u=100,[xD]=aD(zu),[gD,vD]=xD(zu),tj=d.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:o=yD,...i}=e;(a||a===0)&&!lf(a)&&console.error(jD(`${a}`,"Progress"));const l=lf(a)?a:$u;s!==null&&!cf(s,l)&&console.error(ND(`${s}`,"Progress"));const c=cf(s,l)?s:null,u=Ti(c)?o(c,l):void 0;return n.jsx(gD,{scope:r,value:c,max:l,children:n.jsx(ej.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ti(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":sj(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});tj.displayName=zu;var nj="ProgressIndicator",rj=d.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=vD(nj,r);return n.jsx(ej.div,{"data-state":sj(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});rj.displayName=nj;function yD(e,t){return`${Math.round(e/t*100)}%`}function sj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ti(e){return typeof e=="number"}function lf(e){return Ti(e)&&!isNaN(e)&&e>0}function cf(e,t){return Ti(e)&&!isNaN(e)&&e<=t&&e>=0}function jD(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$u}\`.`}function ND(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$u} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var aj=tj,wD=rj;const Ae=d.forwardRef(({className:e,value:t,...r},s)=>n.jsx(aj,{ref:s,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(wD,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ae.displayName=aj.displayName;const bD="https://script.google.com/macros/s/AKfycbxgS84Em_zCCa7xWbGaB0YcBEXbG24zZ2LO6D3H8fhJi0OxSYAqescXD99r2CK5bpSy/exec",oj=Me()(Pe((e,t)=>({batchChecks:[],isLoading:!1,lastFetchTime:null,fetchError:null,setLoading:r=>{e({isLoading:r})},fetchFromGoogleSheets:async()=>{console.log(" fetchFromGoogleSheets called for batch checks"),e({isLoading:!0,fetchError:null});try{const r=await fetch(bD,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({batchChecks:s.data,lastFetchTime:new Date().toISOString(),fetchError:null}),console.log(" Batch checks fetched:",s.data.length);else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addBatchCheck:r=>{e(s=>({batchChecks:[r,...s.batchChecks]}))},addLocalRecord:r=>{e(s=>({batchChecks:[r,...s.batchChecks]}))},getBatchChecks:()=>t().batchChecks,getTodayChecks:()=>{const r=new Date().toISOString().split("T")[0];return t().batchChecks.filter(s=>s.date===r)},deleteBatchCheck:r=>{e(s=>({batchChecks:s.batchChecks.filter(a=>a.id!==r)}))},clearAll:()=>{e({batchChecks:[]})}}),{name:"taquero-batch-checks"})),SD="https://script.google.com/macros/s/AKfycbxgS84Em_zCCa7xWbGaB0YcBEXbG24zZ2LO6D3H8fhJi0OxSYAqescXD99r2CK5bpSy/exec";function CD({open:e,onClose:t,onSuccess:r}){const{currentUser:s}=We(),{addLocalRecord:a}=oj(),[o,i]=d.useState(1),[l]=d.useState(new Date().toISOString().split("T")[0]),[c]=d.useState(new Date().toTimeString().slice(0,5)),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState("minutes"),[C,R]=d.useState(!1),[k,D]=d.useState(!1),b=5,S=o/b*100,T=parseFloat(v),E=v.trim()!=="",I=()=>{i(1),h(""),p(""),j(""),N(""),x(""),w("minutes"),R(!1)},z=()=>{C&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(I(),t())},F=()=>{o===1&&R(!0),o<b&&i(o+1)},B=()=>{o>1&&i(o-1)},G=L=>{i(L)},A=async()=>{if(!s){alert("Error: No user logged in");return}D(!0);const L=`batch-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,$={unixTimestamp:Math.floor(new Date().getTime()/1e3),staffName:s.name,proteinCooked:u==="Other"?m:u,typeOfCheck:_(g),temperature:T,durationInTemperature:`${f} ${y}`,cookingProteinBatchID:L};try{await fetch(SD,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});const oe={id:L,date:l,time:c,foodType:u,customFood:u==="Other"?m:void 0,checkType:g,temperature:T,timeAtTemperature:`${f} ${y}`,completedBy:s.name,timestamp:new Date().toISOString()};a(oe),console.log(" Batch check submitted successfully"),I(),t(),r==null||r()}catch(oe){console.error(" Error submitting batch check:",oe),alert("Error submitting batch check. Please try again."),D(!1)}},_=L=>{switch(L){case"initial":return"Individual";case"weekly":return"Weekly Batch";case"confirm":return"One item in each batch";default:return""}};return n.jsx(Ue,{open:e,onOpenChange:z,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[k&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Saving to Google Sheets..."})]})}),n.jsx(Le,{children:n.jsx(Be,{children:o===b?"Review Your Batch Check":"New Batch Check"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",o," of ",b]}),n.jsxs("span",{children:[Math.round(S),"%"]})]}),n.jsx(Ae,{value:S,className:"h-2"})]}),n.jsxs("div",{className:"py-6",children:[o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"What food are you checking?"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${u==="Chicken"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>h("Chicken"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Dr,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium",children:"Chicken"})]})}),n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${u==="Beef"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>h("Beef"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Dr,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium",children:"Beef"})]})}),n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${u==="Pork"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>h("Pork"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Dr,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium",children:"Pork"})]})}),n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${u==="Other"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>h("Other"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Eb,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium",children:"Other"})]})})]}),u==="Other"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{children:"Specify food type"}),n.jsx(W,{value:m,onChange:L=>p(L.target.value),placeholder:"Enter food type...",className:"h-12"})]})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Which type of check?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${g==="weekly"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>j("weekly"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ob,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium",children:"Weekly Batch"})]})}),n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${g==="initial"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>j("initial"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Lb,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium",children:"Individual"})]})}),n.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${g==="confirm"?"border-primary ring-2 ring-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>j("confirm"),children:n.jsxs(q,{className:"p-4 text-center space-y-2",children:[n.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ve,{className:"h-5 w-5 text-primary"})}),n.jsx("div",{className:"font-medium text-sm",children:"One item in each batch"})]})})]})]}),o===3&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{className:"text-base",children:"What temperature did the probe read?"}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{type:"text",inputMode:"decimal",value:v,onChange:L=>{const P=L.target.value;if(P===""||/^\d*\.?\d*$/.test(P)){const $=parseFloat(P);(P===""||$>=0&&$<=300)&&N(P)}},placeholder:"Enter temperature",className:"h-16 text-2xl pr-12"}),n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl text-muted-foreground",children:"C"})]})]})}),o===4&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{className:"text-base",children:"How long did it stay at this temperature?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(W,{type:"text",inputMode:"numeric",value:f,onChange:L=>{const P=L.target.value;if(P===""||/^\d+$/.test(P)){const $=parseInt(P);(P===""||$>=0&&$<=999)&&x(P)}},placeholder:"Enter duration",className:"h-16 text-xl flex-1"}),n.jsxs("div",{className:"flex border rounded-md",children:[n.jsx(M,{type:"button",variant:y==="minutes"?"default":"ghost",onClick:()=>w("minutes"),className:"h-16 rounded-r-none",children:"Minutes"}),n.jsx(M,{type:"button",variant:y==="hours"?"default":"ghost",onClick:()=>w("hours"),className:"h-16 rounded-l-none",children:"Hours"})]})]})]})}),o===5&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Date"}),n.jsx("div",{className:"font-medium text-sm",children:new Date(l+"T00:00").toLocaleDateString("en-NZ",{month:"short",day:"numeric"})})]})]})}),n.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),n.jsx("div",{className:"font-medium text-sm",children:c})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Food"}),n.jsx("div",{className:"font-medium",children:u==="Other"?m:u})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>G(1),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Check Type"}),n.jsx("div",{className:"font-medium",children:_(g)})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>G(2),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Temperature"}),n.jsxs("div",{className:"font-medium",children:[v,"C"]})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>G(3),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Time at Temp"}),n.jsxs("div",{className:"font-medium",children:[f," ",y]})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>G(4),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"flex items-center p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed by"}),n.jsx("div",{className:"font-medium text-sm",children:s==null?void 0:s.name})]})]})})]})]}),n.jsxs("div",{className:"flex gap-3 border-t pt-4",children:[o>1&&o<=b&&n.jsx(M,{variant:"outline",onClick:B,className:"h-12 min-h-[48px] flex-1",children:" Back"}),o<b&&n.jsx(M,{onClick:F,disabled:o===1&&!u||o===1&&u==="Other"&&!m.trim()||o===2&&!g||o===3&&!E||o===4&&!f.trim(),className:"h-12 min-h-[48px] flex-1",children:"Continue "}),o===b&&n.jsx(M,{onClick:A,disabled:k,className:"h-12 min-h-[48px] flex-1",children:k?"Saving...":"Save & Close"})]})]})})}function kD(){const{batchChecks:e,fetchFromGoogleSheets:t,isLoading:r}=oj(),[s,a]=d.useState(!1),[o,i]=d.useState([]);d.useEffect(()=>{t()},[t]);const l=(m,p="info")=>{const g=Date.now();i(j=>[...j,{id:g,message:m,type:p}])},c=m=>{i(p=>p.filter(g=>g.id!==m))},u=()=>{t(),l("Batch check saved to Google Sheets!","success")},h=m=>{switch(m){case"initial":return"Initial probe";case"weekly":return"Weekly batch check";case"confirm":return"Confirm method";case"doner":return"Doner kebabs";default:return m}};return n.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cooking Proteins - Batch"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Temperature batch checks for chicken, beef, and pork"})]}),n.jsxs(M,{size:"lg",onClick:()=>a(!0),className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Add Batch Check"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ar,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Recent Batch Checks"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Last 10 temperature records"})]})]})}),n.jsx(q,{children:r?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No batch checks recorded yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Add Batch Check" to create your first record'})]}):n.jsx("div",{className:"space-y-4",children:e.slice(0,10).map((m,p)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-3 transition-all duration-300 hover:shadow-md hover:border-primary/30 hover:scale-[1.01]",style:{animationDelay:`${p*100}ms`},children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"font-semibold",children:new Date(m.date+"T00:00").toLocaleDateString("en-NZ",{weekday:"short",month:"long",day:"numeric"})}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx("div",{className:"text-sm text-muted-foreground",children:m.time})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.completedBy,"  ",h(m.checkType)]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm",children:[n.jsxs("div",{className:"p-2 bg-muted/50 rounded",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Food"}),n.jsx("div",{className:"font-medium",children:m.foodType==="Other"?m.customFood:m.foodType})]}),n.jsxs("div",{className:"p-2 bg-muted/50 rounded",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Temp"}),n.jsxs("div",{className:"font-mono font-semibold",children:[m.temperature,"C"]})]}),n.jsxs("div",{className:"p-2 bg-muted/50 rounded",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Duration"}),n.jsx("div",{className:"font-medium",children:m.timeAtTemperature})]})]})]},m.id))})})]}),n.jsx(CD,{open:s,onClose:()=>a(!1),onSuccess:u}),n.jsx(mn,{children:o.map(m=>n.jsx(un,{message:m.message,type:m.type,onClose:()=>c(m.id)},m.id))})]})}const ij="https://script.google.com/macros/s/AKfycbxCuLVrqdTBnjPZpbMVyWArCR78Iq6fi6a8vGTZTJSAFjcL65J934tcHp23Z0Oxr4dbhw/exec";async function lj(e,t){try{const r={methodId:e.id,itemDescription:e.itemDescription,cookingMethod:e.cookingMethod,batchNumber:t.batchNumber,date:t.date,temperature:t.temperature,timeAtTemp:t.timeAtTemp,completedBy:t.completedBy,unixTimestamp:Math.floor(new Date(t.timestamp).getTime()/1e3),status:t.batchNumber===3?"proven":e.status,createdBy:e.createdBy,createdAt:e.createdAt};return await fetch(ij,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),{success:!0}}catch(r){return console.error(" Error saving to Google Sheets:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}const Wu=Me()(Pe((e,t)=>({methods:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{console.log(" fetchFromGoogleSheets called for proving methods"),e({isLoading:!0,fetchError:null});try{const r=await fetch(ij,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({methods:s.data,lastFetchTime:new Date().toISOString(),fetchError:null}),console.log(" Proving methods fetched:",s.data.length);else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},createMethod:r=>{e(s=>({methods:[r,...s.methods]}))},addBatchToMethod:(r,s)=>{e(a=>({methods:a.methods.map(o=>{if(o.id===r){const i=[...o.batches,s],l=i.length===3;return{...o,batches:i,status:l?"proven":"in-progress",provenAt:l?new Date().toISOString():o.provenAt}}return o})}))},deleteMethod:r=>{e(s=>({methods:s.methods.filter(a=>a.id!==r)}))},resetMethod:r=>{e(s=>({methods:s.methods.map(a=>a.id===r?{...a,batches:[],status:"in-progress",provenAt:void 0}:a)}))},getMethods:()=>t().methods,getInProgressMethods:()=>t().methods.filter(r=>r.status==="in-progress"),getProvenMethods:()=>t().methods.filter(r=>r.status==="proven"),getMethodById:r=>t().methods.find(s=>s.id===r)}),{name:"taquero-proving-methods"})),le=d.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));le.displayName="Textarea";function ED({open:e,onClose:t,onSuccess:r}){const{currentUser:s}=We(),{createMethod:a}=Wu(),[o,i]=d.useState(1),[l,c]=d.useState(""),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v]=d.useState(new Date().toISOString().split("T")[0]),[N]=d.useState(new Date().toTimeString().slice(0,5)),[f,x]=d.useState(!1),[y,w]=d.useState(!1),C=5,R=o/C*100,k=parseFloat(m),D=m.trim()!=="",b=()=>{i(1),c(""),h(""),p(""),j(""),x(!1)},S=()=>{f&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(b(),t())},T=()=>{o===1&&x(!0),o<C&&i(o+1)},E=()=>{o>1&&i(o-1)},I=F=>{i(F)},z=async()=>{if(!s){alert("Error: No user logged in");return}w(!0);const F=`method-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,B={batchNumber:1,date:v,temperature:k,timeAtTemp:`${g} ${g==="1"?"minute":"minutes"}`,completedBy:s.name,timestamp:new Date().toISOString()},G={id:F,itemDescription:l,cookingMethod:u,status:"in-progress",batches:[B],createdAt:new Date().toISOString(),createdBy:s.name};try{const A=await lj(G,B);A.success||console.warn(" Failed to save to Google Sheets:",A.error),a(G),b(),t(),r==null||r()}catch(A){console.error(" Error creating method:",A),alert("Error creating method. Please try again.")}finally{w(!1)}};return n.jsx(Ue,{open:e,onOpenChange:S,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[y&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Saving to Google Sheets..."})]})}),n.jsx(Le,{children:n.jsx(Be,{children:o===C?"Review & Create Method":"Create New Method"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",o," of ",C]}),n.jsxs("span",{children:[Math.round(R),"%"]})]}),n.jsx(Ae,{value:R,className:"h-2"})]}),n.jsxs("div",{className:"py-6",children:[o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"What are you cooking?"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Describe the item, including type, size, and weight"}),n.jsx(W,{value:l,onChange:F=>c(F.target.value),placeholder:"e.g., 2kg chicken roast x4",className:"h-16 text-xl"})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Describe your cooking method"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Include oven temperature, cooking time, and target internal temperature"}),n.jsx(le,{value:u,onChange:F=>h(F.target.value),placeholder:"e.g., Put in pre-heated oven at 220C for 2 hours intended that the thickest part of the meat reaches 75C for 30 seconds",className:"min-h-[120px] text-lg"})]}),o===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[n.jsx("p",{className:"text-sm font-medium",children:"Recording Batch 1 of 3"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You'll need to record 2 more batches to prove this method works"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{className:"text-base",children:"Internal temperature at thickest part"}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{type:"text",inputMode:"decimal",value:m,onChange:F=>{const B=F.target.value;if(B===""||/^\d*\.?\d*$/.test(B)){const G=parseFloat(B);(B===""||G>=0&&G<=300)&&p(B)}},placeholder:"Enter temperature",className:"h-16 text-2xl pr-12"}),n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl text-muted-foreground",children:"C"})]})]})]}),o===4&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{className:"text-base",children:"Time at this temperature (minutes)"}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{type:"text",inputMode:"numeric",value:g,onChange:F=>{const B=F.target.value;if(B===""||/^\d+$/.test(B)){const G=parseInt(B);(B===""||G>=0&&G<=999)&&j(B)}},placeholder:"Enter time in minutes",className:"h-16 text-xl pr-24"}),n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg text-muted-foreground",children:"minutes"})]})]})}),o===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Review Your Method"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Item"}),n.jsx("div",{className:"font-medium",children:l})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>I(1),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Cooking Method"}),n.jsx("div",{className:"font-medium text-sm line-clamp-2",children:u})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>I(2),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("div",{className:"flex items-center p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Batch 1 Date"}),n.jsx("div",{className:"font-medium text-sm",children:new Date(v+"T00:00").toLocaleDateString("en-NZ",{month:"long",day:"numeric"})})]})]})}),n.jsx("div",{className:"flex items-center p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),n.jsx("div",{className:"font-medium text-sm",children:N})]})]})})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border space-y-2",children:[n.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Ve,{className:"h-4 w-4"}),"Batch 1 Results"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Temperature:"})," ",n.jsxs("span",{className:"font-mono font-semibold",children:[m,"C"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Time:"})," ",n.jsxs("span",{className:"font-medium",children:[g," ",g==="1"?"minute":"minutes"]})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["By ",s==null?void 0:s.name]})]}),n.jsx("div",{className:"p-3 bg-muted/30 border rounded-lg",children:n.jsxs("p",{className:"text-sm",children:["You'll need to record ",n.jsx("strong",{children:"2 more batches"})," to prove this method works"]})})]})]})]}),n.jsxs("div",{className:"flex gap-3 border-t pt-4",children:[o>1&&o<=C&&n.jsx(M,{variant:"outline",onClick:E,className:"h-12 min-h-[48px] flex-1",children:" Back"}),o<C&&n.jsx(M,{onClick:T,disabled:o===1&&!l.trim()||o===2&&!u.trim()||o===3&&!D,className:"h-12 min-h-[48px] flex-1",children:"Continue "}),o===C&&n.jsx(M,{onClick:z,disabled:y||!g.trim(),className:"h-12 min-h-[48px] flex-1",children:y?"Creating...":"Create Method & Record Batch 1"})]})]})})}function TD({open:e,onClose:t,onSuccess:r,method:s}){const{addBatchToMethod:a}=Wu(),{currentUser:o}=We(),[i,l]=d.useState(1),[c,u]=d.useState(new Date().toISOString().split("T")[0]),[h,m]=d.useState(""),[p,g]=d.useState(""),[j,v]=d.useState(!1),N=4,f=s.batches.length+1,x=()=>{l(1),u(new Date().toISOString().split("T")[0]),m(""),g(""),t()},y=()=>{i<N&&l(i+1)},w=()=>{i>1&&l(i-1)},C=async()=>{if(!o){alert("Error: No user logged in");return}v(!0);try{const k={batchNumber:f,date:c,temperature:parseFloat(h),timeAtTemp:`${p} ${p==="1"?"minute":"minutes"}`,completedBy:o.name,timestamp:new Date().toISOString()},D=await lj(s,k);D.success||console.warn(" Failed to save to Google Sheets:",D.error),a(s.id,k);const b=f===3;x(),r(b)}catch(k){console.error(" Error saving batch:",k),alert("Error saving batch. Please try again.")}finally{v(!1)}},R=()=>{switch(i){case 1:return c!=="";case 2:return h!==""&&parseFloat(h)>0;case 3:return p!==""&&parseFloat(p)>0;case 4:return!0;default:return!1}};return n.jsx(Ue,{open:e,onOpenChange:x,children:n.jsxs(_e,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[j&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Saving to Google Sheets..."})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"text-2xl",children:["Add Batch ",f,"/3"]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",i," of ",N]}),n.jsxs("span",{children:[Math.round(i/N*100),"%"]})]}),n.jsx(Ae,{value:i/N*100,className:"h-2"})]}),n.jsxs("div",{className:"bg-muted rounded-lg border p-4",children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Recording batch for:"}),n.jsx("p",{className:"text-base font-semibold",children:s.itemDescription})]}),i===1&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"date",className:"text-base",children:"What date was this batch cooked?"}),n.jsx(W,{id:"date",type:"date",value:c,onChange:k=>u(k.target.value),max:new Date().toISOString().split("T")[0],className:"h-16 text-xl"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the date when this batch was prepared"})]})}),i===2&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"temperature",className:"text-base",children:"Temperature at thickest part (C)"}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{id:"temperature",type:"text",inputMode:"decimal",value:h,onChange:k=>{const D=k.target.value;(D===""||/^\d*\.?\d*$/.test(D))&&m(D)},placeholder:"e.g., 75",className:"h-16 text-xl pr-12"}),n.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl text-muted-foreground",children:"C"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Measure at the thickest part of the food"})]})}),i===3&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{className:"text-base",children:"Time at this temperature (minutes)"}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{type:"text",inputMode:"numeric",value:p,onChange:k=>{const D=k.target.value;(D===""||/^\d*\.?\d*$/.test(D))&&g(D)},placeholder:"Enter time in minutes",className:"h-16 text-xl pr-24"}),n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg text-muted-foreground",children:"minutes"})]})]})}),i===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Review Batch ",f]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-muted/50 rounded-lg border p-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),n.jsx("p",{className:"font-medium",children:new Date(c).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg border p-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Temperature at thickest part"}),n.jsxs("p",{className:"font-medium",children:[h,"C"]})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg border p-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Time at temperature"}),n.jsxs("p",{className:"font-medium",children:[p," ",p==="1"?"minute":"minutes"]})]})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg border p-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed by"}),n.jsx("p",{className:"font-medium",children:o==null?void 0:o.name})]}),f===3&&n.jsx("div",{className:"bg-muted/30 border rounded-lg p-4",children:n.jsxs("p",{className:"text-sm font-medium",children:["This is the final batch! Once recorded, this method will be marked as ",n.jsx("span",{className:"text-green-600 font-semibold",children:"Proven"}),"."]})})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[i>1&&n.jsxs(M,{variant:"outline",onClick:w,className:"flex-1",size:"lg",children:[n.jsx(iu,{className:"h-4 w-4 mr-1"}),"Back"]}),i<N?n.jsxs(M,{onClick:y,disabled:!R(),className:"flex-1",size:"lg",children:["Next",n.jsx(_s,{className:"h-4 w-4 ml-1"})]}):n.jsx(M,{onClick:C,disabled:!R()||j,className:"flex-1",size:"lg",children:j?"Saving...":f===3?"Complete & Prove Method":"Record Batch"})]})]})]})})}function DD(){const{methods:e,isLoading:t,fetchFromGoogleSheets:r}=Wu(),[s,a]=d.useState([]),[o,i]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(null);d.useEffect(()=>{r()},[r]);const m=(f,x="info")=>{const y=Date.now();a(w=>[...w,{id:y,message:f,type:x}])},p=f=>{a(x=>x.filter(y=>y.id!==f))},g=()=>{m("Method created with Batch 1! Record 2 more batches to prove it works.","success")},j=f=>{h(f),c(!0)},v=f=>{m(f?" Method proven! You have completed 3 successful batches.":`Batch recorded! ${u?3-u.batches.length-1:0} more batch${u&&3-u.batches.length-1===1?"":"es"} to go.`,"success"),h(null)},N=e.slice(0,99);return n.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Proving the Cooking Method"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Validate cooking methods with 3 consecutive successful batches"})]}),n.jsxs(M,{size:"lg",onClick:()=>i(!0),className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Create New Method"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(bb,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Your Methods"}),e.length>=100&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Last 99 methods (in-progress and proven)"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):N.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No methods created yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Create New Method" to validate your first cooking method'})]}):n.jsx("div",{className:"space-y-4",children:N.map((f,x)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4 transition-all duration-300 hover:shadow-md hover:border-primary/30 hover:scale-[1.01]",style:{animationDelay:`${x*100}ms`},children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-lg",children:f.itemDescription}),f.status==="proven"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-800 text-xs font-medium",children:[n.jsx(Rs,{className:"h-3 w-3"}),"Method Proven"]}):n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-background border text-foreground text-xs font-medium",children:[f.batches.length,"/3 Batches"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.cookingMethod})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{value:f.batches.length/3*100,className:"h-2"}),n.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:n.jsx("span",{children:f.batches.length===3?`Proven on ${new Date(f.provenAt).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})}`:`${f.batches.length}/3 batches complete`})})]}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(y=>{const w=f.batches.find(C=>C.batchNumber===y);return w?n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 bg-muted/30 rounded",children:[n.jsx(Rs,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[n.jsxs("span",{className:"font-medium",children:[y,y===1?"st":y===2?"nd":"rd",":"]}),n.jsx("span",{children:new Date(w.date).toLocaleDateString("en-NZ",{day:"numeric",month:"short"})}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsxs("span",{className:"font-mono",children:[w.temperature,"C"]}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx("span",{children:w.timeAtTemp}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx("span",{children:w.completedBy})]})]},y):n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 text-muted-foreground",children:[n.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),n.jsxs("span",{children:[y,y===1?"st":y===2?"nd":"rd",": Not recorded yet"]})]},y)})}),f.status==="in-progress"&&n.jsxs(M,{onClick:()=>j(f),className:"w-full",size:"lg",children:[n.jsx(he,{className:"h-4 w-4 mr-2"}),"Add Next Batch (",f.batches.length+1,"/3)"]})]},f.id))})})]}),n.jsx(ED,{open:o,onClose:()=>i(!1),onSuccess:g}),u&&n.jsx(TD,{open:l,onClose:()=>{c(!1),h(null)},onSuccess:v,method:u}),n.jsx(mn,{children:s.map(f=>n.jsx(un,{message:f.message,type:f.type,onClose:()=>p(f.id)},f.id))})]})}const cj="https://script.google.com/macros/s/AKfycbyOtf6NcCqd8YUnfhkOgMSb1oLvp0DdQc0m-cMS0Du7auPw6G4e4P77SEhLoxEmtPAN/exec";async function dj(e,t){try{const r={methodId:e.id,foodItem:e.foodItem,coolingMethod:e.coolingMethod,batchNumber:t.batchNumber,date:t.date,startTime:t.startTime,startTemp:t.startTemp,secondTimeCheck:t.secondTimeCheck,secondTempCheck:t.secondTempCheck,thirdTimeCheck:t.thirdTimeCheck,thirdTempCheck:t.thirdTempCheck,completedBy:t.completedBy,unixTimestamp:Math.floor(new Date(t.timestamp).getTime()/1e3),status:t.batchNumber===3?"proven":e.status,createdBy:e.createdBy,createdAt:e.createdAt};return await fetch(cj,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),{success:!0}}catch(r){return console.error(" Error saving to Google Sheets:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}const Uu=Me()(Pe((e,t)=>({methods:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{console.log(" fetchFromGoogleSheets called for cooling methods"),e({isLoading:!0,fetchError:null});try{const r=await fetch(cj,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({methods:s.data,lastFetchTime:new Date().toISOString(),fetchError:null}),console.log(" Cooling methods fetched:",s.data.length);else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},createMethod:r=>{e(s=>({methods:[r,...s.methods]}))},addBatchToMethod:(r,s)=>{e(a=>({methods:a.methods.map(o=>{if(o.id===r){const i=[...o.batches,s],l=i.length===3;return{...o,batches:i,status:l?"proven":"in-progress",provenAt:l?new Date().toISOString():o.provenAt}}return o})}))},deleteMethod:r=>{e(s=>({methods:s.methods.filter(a=>a.id!==r)}))},resetMethod:r=>{e(s=>({methods:s.methods.map(a=>a.id===r?{...a,batches:[],status:"in-progress",provenAt:void 0}:a)}))},getMethods:()=>t().methods,getInProgressMethods:()=>t().methods.filter(r=>r.status==="in-progress"),getProvenMethods:()=>t().methods.filter(r=>r.status==="proven"),getMethodById:r=>t().methods.find(s=>s.id===r)}),{name:"taquero-proving-cooling"}));function RD({open:e,onClose:t,onSuccess:r}){const{currentUser:s}=We(),{createMethod:a}=Uu(),[o,i]=d.useState(1),[l,c]=d.useState(""),[u,h]=d.useState(""),[m,p]=d.useState(new Date().toTimeString().slice(0,5)),[g,j]=d.useState("60"),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState(""),[C,R]=d.useState(""),[k]=d.useState(new Date().toISOString().split("T")[0]),[D,b]=d.useState(!1),[S,T]=d.useState(!1),[E,I]=d.useState(""),z=7,F=o/z*100,B=()=>{i(1),c(""),h(""),p(new Date().toTimeString().slice(0,5)),j("60"),N(""),x(""),w(""),R(""),b(!1)},G=()=>{D&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(B(),t())},A=()=>{o===1&&b(!0),o<z&&i(o+1)},_=()=>{o>1&&i(o-1)},L=async()=>{if(!s){alert("Error: No user logged in");return}T(!0),I("Creating cooling method...");const P=`cooling-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,$={batchNumber:1,date:k,startTime:m,startTemp:parseFloat(g),secondTimeCheck:v,secondTempCheck:parseFloat(f),thirdTimeCheck:y,thirdTempCheck:parseFloat(C),completedBy:s.name,timestamp:new Date().toISOString()},oe={id:P,foodItem:l,coolingMethod:u,status:"in-progress",batches:[$],createdAt:new Date().toISOString(),createdBy:s.name};a(oe);try{I("Saving to Google Sheets...");const ce=await dj(oe,$);ce.success?console.log(" Saved to Google Sheets"):console.warn(" Failed to save to Google Sheets:",ce.error)}catch(ce){console.error(" Error saving to Google Sheets:",ce)}T(!1),B(),r==null||r(),t()};return n.jsx(Ue,{open:e,onOpenChange:G,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[S&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto"}),n.jsx("p",{className:"text-lg font-medium",children:E})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-5 w-5 text-primary"}),"New Cooling method - Batch 1"]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Step ",o," of ",z]}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(F),"%"]})]}),n.jsx(Ae,{value:F,className:"h-2"})]}),o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"What food are you cooling?"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Describe the food item (type, size, weight, etc.)"}),n.jsx(le,{value:l,onChange:P=>c(P.target.value),placeholder:"e.g., 1 litre of butter chicken curry",className:"min-h-[120px] text-lg",autoFocus:!0})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Describe your cooling method"}),n.jsx(le,{value:u,onChange:P=>h(P.target.value),placeholder:"e.g., Curry was divided into five (5) 250mL containers and placed on cooling racks, then placed in the fridge at the second temperature check",className:"min-h-[140px] text-lg",autoFocus:!0})]}),o===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Date of Batch 1"}),n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"date",value:k,className:"h-16 text-xl pl-12"})]})]}),o===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Start time (when food reaches 60C)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:m,onChange:P=>p(P.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-6",children:"Start temperature"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Temperature when food reaches 60C"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:g,onChange:P=>j(P.target.value),placeholder:"60.0",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),o===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"2nd temperature check"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food needs to get from 60C to 21C (or room temp, whichever is lower) in 2 hours or less"}),n.jsx(O,{className:"text-base mt-4",children:"2nd check time"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:v,onChange:P=>N(P.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-4",children:"2nd check temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:f,onChange:P=>x(P.target.value),placeholder:"21.0 or below",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),o===6&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"3rd temperature check"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food needs to get from 21C to 5C (or lower) in a further 4 hours or less"}),n.jsx(O,{className:"text-base mt-4",children:"3rd check time"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:y,onChange:P=>w(P.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-4",children:"3rd check temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:C,onChange:P=>R(P.target.value),placeholder:"5.0 or below",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),o===7&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Review Batch 1"}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food Item"}),n.jsx("p",{className:"font-medium",children:l})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cooling Method"}),n.jsx("p",{className:"font-medium",children:u})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),n.jsx("p",{className:"font-medium",children:new Date(k).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Start (60C)"}),n.jsxs("p",{className:"font-medium",children:[m," - ",g,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"2nd Check (60C  21C)"}),n.jsxs("p",{className:"font-medium",children:[v," - ",f,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"3rd Check (21C  5C)"}),n.jsxs("p",{className:"font-medium",children:[y," - ",C,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed By"}),n.jsx("p",{className:"font-medium",children:s==null?void 0:s.name})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[o===1&&n.jsx(M,{variant:"outline",onClick:G,className:"flex-1",disabled:S,children:"Cancel"}),o>1&&n.jsx(M,{variant:"outline",onClick:_,className:"flex-1",disabled:S,children:"Back"}),o<z&&n.jsx(M,{onClick:A,className:"flex-1",disabled:o===1&&!l.trim()||o===2&&!u.trim()||o===4&&(!m||!g)||o===5&&(!v||!f)||o===6&&(!y||!C),children:"Next"}),o===z&&n.jsx(M,{onClick:L,className:"flex-1",disabled:S,children:"Create Method"})]})]})})}function MD({open:e,onClose:t,onSuccess:r,method:s}){const{currentUser:a}=We(),{addBatchToMethod:o}=Uu(),i=s.batches.length+1,[l,c]=d.useState(1),[u,h]=d.useState(new Date().toTimeString().slice(0,5)),[m,p]=d.useState("60"),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState(""),[C]=d.useState(new Date().toISOString().split("T")[0]),[R,k]=d.useState(!1),[D,b]=d.useState(""),S=5,T=l/S*100,E=()=>{c(1),h(new Date().toTimeString().slice(0,5)),p("60"),j(""),N(""),x(""),w("")},I=()=>{l<S&&c(l+1)},z=()=>{l>1&&c(l-1)},F=async()=>{if(!a){alert("Error: No user logged in");return}k(!0),b(`Adding Batch ${i}...`);const B={batchNumber:i,date:C,startTime:u,startTemp:parseFloat(m),secondTimeCheck:g,secondTempCheck:parseFloat(v),thirdTimeCheck:f,thirdTempCheck:parseFloat(y),completedBy:a.name,timestamp:new Date().toISOString()};o(s.id,B);const G=i===3;try{b("Saving to Google Sheets...");const A=await dj(s,B);A.success?console.log(" Saved to Google Sheets"):console.warn(" Failed to save to Google Sheets:",A.error)}catch(A){console.error(" Error saving to Google Sheets:",A)}k(!1),E(),r==null||r(G),t()};return n.jsx(Ue,{open:e,onOpenChange:t,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[R&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto"}),n.jsx("p",{className:"text-lg font-medium",children:D})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-5 w-5 text-primary"}),"Add Batch ",i]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Step ",l," of ",S]}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(T),"%"]})]}),n.jsx(Ae,{value:T,className:"h-2"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food Item"}),n.jsx("p",{className:"font-medium",children:s.foodItem})]}),l===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(O,{className:"text-base",children:["Date of Batch ",i]}),n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"date",value:C,className:"h-16 text-xl pl-12"})]})]}),l===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Start time (when food reaches 60C)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:u,onChange:B=>h(B.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-6",children:"Start temperature"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Temperature when food reaches 60C"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:m,onChange:B=>p(B.target.value),placeholder:"60.0",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),l===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"2nd temperature check"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food needs to get from 60C to 21C (or room temp, whichever is lower) in 2 hours or less"}),n.jsx(O,{className:"text-base mt-4",children:"2nd check time"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:g,onChange:B=>j(B.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-4",children:"2nd check temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:v,onChange:B=>N(B.target.value),placeholder:"21.0 or below",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),l===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"3rd temperature check"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food needs to get from 21C to 5C (or lower) in a further 4 hours or less"}),n.jsx(O,{className:"text-base mt-4",children:"3rd check time"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:f,onChange:B=>x(B.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-4",children:"3rd check temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:y,onChange:B=>w(B.target.value),placeholder:"5.0 or below",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),l===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Review Batch ",i]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),n.jsx("p",{className:"font-medium",children:new Date(C).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Start (60C)"}),n.jsxs("p",{className:"font-medium",children:[u," - ",m,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"2nd Check (60C  21C)"}),n.jsxs("p",{className:"font-medium",children:[g," - ",v,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"3rd Check (21C  5C)"}),n.jsxs("p",{className:"font-medium",children:[f," - ",y,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed By"}),n.jsx("p",{className:"font-medium",children:a==null?void 0:a.name})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l===1&&n.jsx(M,{variant:"outline",onClick:t,className:"flex-1",disabled:R,children:"Cancel"}),l>1&&n.jsx(M,{variant:"outline",onClick:z,className:"flex-1",disabled:R,children:"Back"}),l<S&&n.jsx(M,{onClick:I,className:"flex-1",disabled:l===2&&(!u||!m)||l===3&&(!g||!v)||l===4&&(!f||!y),children:"Next"}),l===S&&n.jsxs(M,{onClick:F,className:"flex-1",disabled:R,children:["Add Batch ",i]})]})]})})}function PD(){const{methods:e,isLoading:t,fetchFromGoogleSheets:r}=Uu(),[s,a]=d.useState([]),[o,i]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(null);d.useEffect(()=>{r()},[r]);const m=(f,x="info")=>{const y=Date.now();a(w=>[...w,{id:y,message:f,type:x}])},p=f=>{a(x=>x.filter(y=>y.id!==f))},g=()=>{m("Cooling method created with Batch 1! Record 2 more batches to prove it works.","success")},j=f=>{h(f),c(!0)},v=f=>{m(f?" Cooling method proven! You have completed 3 successful batches.":`Batch recorded! ${u?3-u.batches.length-1:0} more batch${u&&3-u.batches.length-1===1?"":"es"} to go.`,"success"),h(null)},N=e.slice(0,99);return n.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Proving Cooling Method"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Validate cooling methods with 3 consecutive successful batches"})]}),n.jsxs(M,{size:"lg",onClick:()=>i(!0),className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Create New Cooling Method"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ur,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Your Cooling Methods"}),e.length>=100&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Last 99 methods (in-progress and proven)"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):N.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No cooling methods created yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Create New Cooling Method" to validate your first cooling method'})]}):n.jsx("div",{className:"space-y-4",children:N.map((f,x)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4 transition-all duration-300 hover:shadow-md hover:border-primary/30 hover:scale-[1.01]",style:{animationDelay:`${x*100}ms`},children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-lg",children:f.foodItem}),f.status==="proven"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-800 text-xs font-medium",children:[n.jsx(Rs,{className:"h-3 w-3"}),"Method Proven"]}):n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-background border text-foreground text-xs font-medium",children:[f.batches.length,"/3 Batches"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.coolingMethod})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{value:f.batches.length/3*100,className:"h-2"}),n.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:n.jsx("span",{children:f.batches.length===3?`Proven on ${new Date(f.provenAt).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})}`:`${f.batches.length}/3 batches complete`})})]}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(y=>{const w=f.batches.find(C=>C.batchNumber===y);return w?n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 bg-muted/30 rounded",children:[n.jsx(Rs,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[n.jsxs("span",{className:"font-medium",children:[y,y===1?"st":y===2?"nd":"rd",":"]}),n.jsx("span",{children:new Date(w.date).toLocaleDateString("en-NZ",{day:"numeric",month:"short"})}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsxs("span",{className:"font-mono",children:[w.startTemp,"C  ",w.secondTempCheck,"C  ",w.thirdTempCheck,"C"]}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx("span",{children:w.completedBy})]})]},y):n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 text-muted-foreground",children:[n.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),n.jsxs("span",{children:[y,y===1?"st":y===2?"nd":"rd",": Not recorded yet"]})]},y)})}),f.status==="in-progress"&&n.jsxs(M,{onClick:()=>j(f),className:"w-full",size:"lg",children:[n.jsx(he,{className:"h-4 w-4 mr-2"}),"Add Next Batch (",f.batches.length+1,"/3)"]})]},f.id))})})]}),n.jsx(RD,{open:o,onClose:()=>i(!1),onSuccess:g}),u&&n.jsx(MD,{open:l,onClose:()=>{c(!1),h(null)},onSuccess:v,method:u}),n.jsx(mn,{children:s.map(f=>n.jsx(un,{message:f.message,type:f.type,onClose:()=>p(f.id)},f.id))})]})}const uj="https://script.google.com/macros/s/AKfycbxDT8PJzuo1sPDVldlHDH-rkYJp5O6wleomkSFsKBBlu8GKLJmhjC2mlL54WQ1p41onJQ/exec";async function mj(e,t){try{const r={methodId:e.id,itemDescription:e.itemDescription,reheatingMethod:e.reheatingMethod,batchNumber:t.batchNumber,date:t.date,internalTemp:t.internalTemp,completedBy:t.completedBy,unixTimestamp:Math.floor(new Date(t.timestamp).getTime()/1e3),status:t.batchNumber===3?"proven":e.status,createdBy:e.createdBy,createdAt:e.createdAt};return await fetch(uj,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),{success:!0}}catch(r){return console.error(" Error saving to Google Sheets:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}const Gu=Me()(Pe((e,t)=>({methods:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(uj,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({methods:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},createMethod:r=>{e(s=>({methods:[r,...s.methods]}))},addBatchToMethod:(r,s)=>{e(a=>({methods:a.methods.map(o=>{if(o.id===r){const i=[...o.batches,s],l=i.length===3;return{...o,batches:i,status:l?"proven":"in-progress",provenAt:l?new Date().toISOString():o.provenAt}}return o})}))},getMethods:()=>t().methods,getMethodById:r=>t().methods.find(s=>s.id===r)}),{name:"taquero-proving-reheating"}));function AD({open:e,onClose:t,onSuccess:r}){const{currentUser:s}=We(),{createMethod:a}=Gu(),[o,i]=d.useState(1),[l,c]=d.useState(""),[u,h]=d.useState(""),[m,p]=d.useState(new Date().toISOString().split("T")[0]),[g,j]=d.useState("75"),[v,N]=d.useState(!1),[f,x]=d.useState(!1),[y,w]=d.useState(""),C=5,R=o/C*100,k=()=>{i(1),c(""),h(""),p(new Date().toISOString().split("T")[0]),j("75"),N(!1)},D=()=>{v&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(k(),t())},b=()=>{o===1&&N(!0),o<C&&i(o+1)},S=()=>{o>1&&i(o-1)},T=async()=>{if(!s){alert("Error: No user logged in");return}x(!0),w("Creating reheating method...");const E=`reheating-method-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,I={batchNumber:1,date:m,internalTemp:parseFloat(g),completedBy:s.name,timestamp:new Date().toISOString()},z={id:E,itemDescription:l,reheatingMethod:u,status:"in-progress",batches:[I],createdAt:new Date().toISOString(),createdBy:s.name};a(z);try{w("Saving to Google Sheets...");const F=await mj(z,I);F.success?console.log(" Saved to Google Sheets"):console.warn(" Failed to save to Google Sheets:",F.error)}catch(F){console.error(" Error saving to Google Sheets:",F)}x(!1),k(),r==null||r(),t()};return n.jsx(Ue,{open:e,onOpenChange:D,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto"}),n.jsx("p",{className:"text-lg font-medium",children:y})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"flex items-center gap-2",children:[n.jsx(ar,{className:"h-5 w-5 text-primary"}),"New Reheating Method"]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Step ",o," of ",C]}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(R),"%"]})]}),n.jsx(Ae,{value:R,className:"h-2"})]}),o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Item Description"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type, size, weight"}),n.jsx(W,{value:l,onChange:E=>c(E.target.value),placeholder:"e.g., 5 litres vegetable soup",className:"h-16 text-xl",autoFocus:!0})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Reheating Method"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Describe the full reheating process"}),n.jsx(le,{value:u,onChange:E=>h(E.target.value),placeholder:"e.g., Heat all 5 litres in a 10 litre pot on stove on med/high for 15 minutes until the center of the liquid is 75C",className:"min-h-[140px] text-lg",autoFocus:!0})]}),o===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Batch 1: Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"date",value:m,onChange:E=>p(E.target.value),className:"h-16 text-xl pl-12"})]})]}),o===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Batch 1: Internal Temperature"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Must be at least 75C at the coolest part (liquid) or middle (solid)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:g,onChange:E=>j(E.target.value),placeholder:"75.0",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",autoFocus:!0})]})]}),o===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Review Reheating Method"}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Item Description"}),n.jsx("p",{className:"font-medium",children:l})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reheating Method"}),n.jsx("p",{className:"font-medium",children:u})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Batch 1 - Date"}),n.jsx("p",{className:"font-medium",children:new Date(m).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Batch 1 - Internal Temperature"}),n.jsxs("p",{className:"font-medium",children:[g,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created By"}),n.jsx("p",{className:"font-medium",children:s==null?void 0:s.name})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[o===1&&n.jsx(M,{variant:"outline",onClick:D,className:"flex-1",disabled:f,children:"Cancel"}),o>1&&n.jsx(M,{variant:"outline",onClick:S,className:"flex-1",disabled:f,children:"Back"}),o<C&&n.jsx(M,{onClick:b,className:"flex-1",disabled:o===1&&!l.trim()||o===2&&!u.trim()||o===4&&!g,children:"Next"}),o===C&&n.jsx(M,{onClick:T,className:"flex-1",disabled:f,children:"Create Method"})]})]})})}function OD({open:e,onClose:t,onSuccess:r,method:s}){const{currentUser:a}=We(),{addBatchToMethod:o}=Gu(),[i,l]=d.useState(1),[c,u]=d.useState(new Date().toISOString().split("T")[0]),[h,m]=d.useState("75"),[p,g]=d.useState(!1),[j,v]=d.useState(!1),[N,f]=d.useState(""),x=s.batches.length+1,y=3,w=i/y*100,C=()=>{l(1),u(new Date().toISOString().split("T")[0]),m("75"),g(!1)},R=()=>{p&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(C(),t())},k=()=>{i===1&&g(!0),i<y&&l(i+1)},D=()=>{i>1&&l(i-1)},b=async()=>{if(!a){alert("Error: No user logged in");return}v(!0),f("Adding batch...");const S={batchNumber:x,date:c,internalTemp:parseFloat(h),completedBy:a.name,timestamp:new Date().toISOString()};o(s.id,S);const T=x===3;try{f("Saving to Google Sheets...");const E=await mj(s,S);E.success?console.log(" Saved to Google Sheets"):console.warn(" Failed to save to Google Sheets:",E.error)}catch(E){console.error(" Error saving to Google Sheets:",E)}v(!1),C(),r==null||r(T),t()};return n.jsx(Ue,{open:e,onOpenChange:R,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[j&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto"}),n.jsx("p",{className:"text-lg font-medium",children:N})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"flex items-center gap-2",children:[n.jsx(ar,{className:"h-5 w-5 text-primary"}),"Add Batch ",x,"/3"]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reheating Method"}),n.jsx("p",{className:"font-medium text-lg",children:s.itemDescription})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Step ",i," of ",y]}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(w),"%"]})]}),n.jsx(Ae,{value:w,className:"h-2"})]}),i===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(O,{className:"text-base",children:["Batch ",x,": Date"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"date",value:c,onChange:S=>u(S.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]})]}),i===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(O,{className:"text-base",children:["Batch ",x,": Internal Temperature"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Must be at least 75C at the coolest part (liquid) or middle (solid)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:h,onChange:S=>m(S.target.value),placeholder:"75.0",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",autoFocus:!0})]})]}),i===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Review Batch ",x]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Item"}),n.jsx("p",{className:"font-medium",children:s.itemDescription})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),n.jsx("p",{className:"font-medium",children:new Date(c).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Internal Temperature"}),n.jsxs("p",{className:"font-medium",children:[h,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed By"}),n.jsx("p",{className:"font-medium",children:a==null?void 0:a.name})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[i===1&&n.jsx(M,{variant:"outline",onClick:R,className:"flex-1",disabled:j,children:"Cancel"}),i>1&&n.jsx(M,{variant:"outline",onClick:D,className:"flex-1",disabled:j,children:"Back"}),i<y&&n.jsx(M,{onClick:k,className:"flex-1",disabled:i===2&&!h,children:"Next"}),i===y&&n.jsx(M,{onClick:b,className:"flex-1",disabled:j,children:"Add Batch"})]})]})})}function ID(){const{methods:e,isLoading:t,fetchFromGoogleSheets:r}=Gu(),[s,a]=d.useState([]),[o,i]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(null);d.useEffect(()=>{r()},[r]);const m=(f,x="info")=>{const y=Date.now();a(w=>[...w,{id:y,message:f,type:x}])},p=f=>{a(x=>x.filter(y=>y.id!==f))},g=()=>{m("Reheating method created with Batch 1! Record 2 more batches to prove it works.","success")},j=f=>{h(f),c(!0)},v=f=>{m(f?" Reheating method proven! You have completed 3 successful batches.":`Batch recorded! ${u?3-u.batches.length-1:0} more batch${u&&3-u.batches.length-1===1?"":"es"} to go.`,"success"),h(null)},N=e.slice(0,99);return n.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Proving Reheating Method"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Validate reheating methods with 3 consecutive successful batches"})]}),n.jsxs(M,{size:"lg",onClick:()=>i(!0),className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Create New Reheating Method"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ar,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Your Reheating Methods"}),e.length>=100&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Last 99 methods (in-progress and proven)"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):N.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No reheating methods created yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Create New Reheating Method" to validate your first reheating method'})]}):n.jsx("div",{className:"space-y-4",children:N.map((f,x)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-4 transition-all duration-300 hover:shadow-md hover:border-primary/30 hover:scale-[1.01]",style:{animationDelay:`${x*100}ms`},children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-lg",children:f.itemDescription}),f.status==="proven"?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-800 text-xs font-medium",children:[n.jsx(Rs,{className:"h-3 w-3"}),"Method Proven"]}):n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-background border text-foreground text-xs font-medium",children:[f.batches.length,"/3 Batches"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.reheatingMethod})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{value:f.batches.length/3*100,className:"h-2"}),n.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:n.jsx("span",{children:f.batches.length===3?`Proven on ${new Date(f.provenAt).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})}`:`${f.batches.length}/3 batches complete`})})]}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(y=>{const w=f.batches.find(C=>C.batchNumber===y);return w?n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 bg-muted/30 rounded",children:[n.jsx(Rs,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[n.jsxs("span",{className:"font-medium",children:[y,y===1?"st":y===2?"nd":"rd",":"]}),n.jsx("span",{children:new Date(w.date).toLocaleDateString("en-NZ",{day:"numeric",month:"short"})}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsxs("span",{className:"font-mono",children:[w.internalTemp,"C"]}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx("span",{children:w.completedBy})]})]},y):n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 text-muted-foreground",children:[n.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),n.jsxs("span",{children:[y,y===1?"st":y===2?"nd":"rd",": Not recorded yet"]})]},y)})}),f.status==="in-progress"&&n.jsxs(M,{onClick:()=>j(f),className:"w-full",size:"lg",children:[n.jsx(he,{className:"h-4 w-4 mr-2"}),"Add Next Batch (",f.batches.length+1,"/3)"]})]},f.id))})})]}),n.jsx(AD,{open:o,onClose:()=>i(!1),onSuccess:g}),u&&n.jsx(OD,{open:l,onClose:()=>{c(!1),h(null)},onSuccess:v,method:u}),n.jsx(mn,{children:s.map(f=>n.jsx(un,{message:f.message,type:f.type,onClose:()=>p(f.id)},f.id))})]})}const hj="https://script.google.com/macros/s/AKfycbwKeROQFAY1e7uKNa1iQ5kP9m5r7FpURvC7Wy7CkhWGgyW8f_3wktIMKvivRE3YyolR/exec";async function fj(e){try{const t={id:e.id,staffName:e.staffName,symptoms:e.symptoms||"",dateSick:e.dateSick,dateReturned:e.dateReturned||"",actionTaken:e.actionTaken||"",checkedBy:e.checkedBy,unixTimestamp:Math.floor(new Date(e.timestamp).getTime()/1e3),status:e.status};return await fetch(`${hj}?module=staff-sickness`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error(" Error saving to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Hu=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(`${hj}?module=staff-sickness`,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>{e(s=>({records:[r,...s.records]}))},updateRecordStatus:(r,s)=>{e(a=>({records:a.records.map(o=>o.id===r?{...o,dateReturned:s,status:"returned"}:o)}))},deleteRecord:r=>{e(s=>({records:s.records.filter(a=>a.id!==r)}))},getRecords:()=>t().records,getSickRecords:()=>t().records.filter(r=>r.status==="sick"),getReturnedRecords:()=>t().records.filter(r=>r.status==="returned"),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-staff-sickness"}));function FD({open:e,onClose:t,onSuccess:r}){const{currentUser:s}=We(),{addRecord:a}=Hu(),[o,i]=d.useState(1),[l,c]=d.useState(""),[u,h]=d.useState(""),[m,p]=d.useState(new Date().toISOString().split("T")[0]),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState(!1),[y,w]=d.useState(!1),C=4,R=o/C*100,k=()=>{i(1),c(""),h(""),p(new Date().toISOString().split("T")[0]),j(""),N(""),x(!1)},D=()=>{f&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(k(),t())},b=()=>{o===1&&x(!0),o<C&&i(o+1)},S=()=>{o>1&&i(o-1)},T=I=>{i(I)},E=async()=>{if(!s){alert("Error: No user logged in");return}w(!0);const I=`sick-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,z=g.trim()!=="",F={id:I,staffName:l,symptoms:u.trim()||void 0,dateSick:m,dateReturned:z?g:void 0,actionTaken:v.trim()||void 0,checkedBy:s.name,timestamp:new Date().toISOString(),status:z?"returned":"sick"};try{const B=await fj(F);B.success||console.warn(" Failed to save to Google Sheets:",B.error),a(F),k(),t(),r==null||r()}catch(B){console.error(" Error creating record:",B),alert("Error creating record. Please try again.")}finally{w(!1)}};return n.jsx(Ue,{open:e,onOpenChange:D,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[y&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Saving to Google Sheets..."})]})}),n.jsx(Le,{children:n.jsx(Be,{children:o===C?"Review Sickness Record":"Record Staff Sickness"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",o," of ",C]}),n.jsxs("span",{children:[Math.round(R),"%"]})]}),n.jsx(Ae,{value:R,className:"h-2"})]}),n.jsxs("div",{className:"py-6",children:[o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Who is sick?"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the staff member's full name"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(W,{value:l,onChange:I=>c(I.target.value),placeholder:"e.g., John Smith",className:"h-16 text-xl pl-12"})]})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"What are their symptoms? (Optional)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This is optional but can be useful for tracking patterns"}),n.jsxs("div",{className:"relative",children:[n.jsx(_b,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),n.jsx(le,{value:u,onChange:I=>h(I.target.value),placeholder:"e.g., Fever and vomiting",className:"min-h-[120px] text-lg pl-12 pt-3"})]})]}),o===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"When did they become sick?"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the date they were unable to work"}),n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground z-10 pointer-events-none"}),n.jsx(W,{type:"date",value:m,onChange:I=>p(I.target.value),max:new Date().toISOString().split("T")[0],className:"h-16 text-xl pl-12"})]})]}),o===4&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{htmlFor:"dateReturned",className:"text-base",children:"Date returned to work (Optional)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave blank if still sick"}),n.jsx(W,{id:"dateReturned",type:"date",value:g,onChange:I=>j(I.target.value),min:m,className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Action taken (Optional)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:'Record any actions taken (e.g., "Stayed home, symptoms stopped 02/04/17")'}),n.jsxs("div",{className:"relative",children:[n.jsx(hg,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),n.jsx(le,{value:v,onChange:I=>N(I.target.value),placeholder:"e.g., Stayed home, symptoms stopped after 2 days",className:"min-h-[100px] text-lg pl-12 pt-3"})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-6",children:[n.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Review Record"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Staff Member"}),n.jsx("div",{className:"font-medium",children:l})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>T(1),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),u&&n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Symptoms"}),n.jsx("div",{className:"font-medium text-sm",children:u})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>T(2),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Date Became Sick"}),n.jsx("div",{className:"font-medium",children:new Date(m).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>T(3),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),g&&n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Date Returned"}),n.jsx("div",{className:"font-medium",children:new Date(g).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>T(4),className:"h-8 w-8 p-0",children:n.jsx(Wt,{className:"h-3 w-3"})})]}),v&&n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Action Taken"}),n.jsx("div",{className:"font-medium text-sm",children:v})]}),n.jsx("div",{className:"flex items-center p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Checked by"}),n.jsx("div",{className:"font-medium text-sm",children:s==null?void 0:s.name})]})})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 border-t pt-4",children:[o>1&&o<=C&&n.jsx(M,{variant:"outline",onClick:S,className:"h-12 min-h-[48px] flex-1",children:" Back"}),o<C&&n.jsx(M,{onClick:b,disabled:o===1&&!l.trim()||o===3&&!m,className:"h-12 min-h-[48px] flex-1",children:"Continue "}),o===C&&n.jsx(M,{onClick:E,disabled:y,className:"h-12 min-h-[48px] flex-1",children:y?"Saving...":"Save Record"})]})]})})}function _D({open:e,onClose:t,onSuccess:r,record:s}){const{updateRecordStatus:a}=Hu(),[o,i]=d.useState(""),[l,c]=d.useState(!1);d.useEffect(()=>{s&&i(s.dateReturned||new Date().toISOString().split("T")[0])},[s]);const u=()=>{i(""),t()},h=async()=>{if(s){c(!0);try{const m={...s,dateReturned:o,status:"returned"},p=await fj(m);p.success||console.warn(" Failed to save to Google Sheets:",p.error),a(s.id,o),u(),r==null||r()}catch(m){console.error(" Error updating record:",m),alert("Error updating record. Please try again.")}finally{c(!1)}}};return s?n.jsx(Ue,{open:e,onOpenChange:u,children:n.jsxs(_e,{className:"max-w-md",children:[l&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Updating record..."})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"flex items-center gap-2",children:[n.jsx(ir,{className:"h-5 w-5 text-green-600"}),(s==null?void 0:s.status)==="returned"?"Edit Return Date":"Mark as Recovered"]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg border",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Staff Member"}),n.jsx("div",{className:"font-semibold text-lg",children:s.staffName}),n.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Sick since ",new Date(s.dateSick).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"returnDate",className:"text-base",children:"When did they return to work?"}),n.jsxs("div",{className:"relative",children:[n.jsx(wb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground z-10 pointer-events-none"}),n.jsx(W,{id:"returnDate",type:"date",value:o,onChange:m=>i(m.target.value),min:s.dateSick,max:new Date().toISOString().split("T")[0],className:"h-14 text-lg pl-12"})]})]})]}),n.jsxs("div",{className:"flex gap-3 border-t pt-4",children:[n.jsx(M,{variant:"outline",onClick:u,disabled:l,className:"h-12 flex-1",children:"Cancel"}),n.jsx(M,{onClick:h,disabled:l||!o,className:"h-12 flex-1",children:l?"Updating...":(s==null?void 0:s.status)==="returned"?"Update Return Date":"Mark as Recovered"})]})]})}):null}function LD(){const{records:e,isLoading:t,fetchFromGoogleSheets:r}=Hu(),[s,a]=d.useState([]),[o,i]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(null);d.useEffect(()=>{r()},[r]);const m=(f,x="info")=>{const y=Date.now();a(w=>[...w,{id:y,message:f,type:x}])},p=f=>{a(x=>x.filter(y=>y.id!==f))},g=()=>{m("Sickness record added successfully","success")},j=f=>{h(f),c(!0)},v=()=>{m("Staff member marked as recovered","success"),h(null)},N=[...e].sort((f,x)=>new Date(x.timestamp).getTime()-new Date(f.timestamp).getTime()).slice(0,50);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Staff Sickness"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Track staff health and sickness records"})]}),n.jsxs(M,{size:"lg",onClick:()=>i(!0),className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Record Staff Sickness"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(cu,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Sickness Records"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All staff sickness records"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):N.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No records yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Record Staff Sickness" to add your first entry'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[n.jsx("th",{className:"pb-3 font-medium",children:"Name"}),n.jsx("th",{className:"pb-3 font-medium",children:"Symptoms"}),n.jsx("th",{className:"pb-3 font-medium",children:"Date Sick"}),n.jsx("th",{className:"pb-3 font-medium",children:"Date Returned"}),n.jsx("th",{className:"pb-3 font-medium",children:"Action Taken"}),n.jsx("th",{className:"pb-3 font-medium",children:"Checked By"}),n.jsx("th",{className:"pb-3 font-medium text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:N.map(f=>n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"py-3 font-medium",children:f.staffName}),n.jsx("td",{className:"py-3 text-muted-foreground max-w-[200px] truncate",children:f.symptoms||"-"}),n.jsx("td",{className:"py-3",children:new Date(f.dateSick).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"})}),n.jsx("td",{className:"py-3",children:f.dateReturned?new Date(f.dateReturned).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"}):"-"}),n.jsx("td",{className:"py-3 text-muted-foreground max-w-[200px] truncate",children:f.actionTaken||"-"}),n.jsx("td",{className:"py-3",children:f.checkedBy}),n.jsx("td",{className:"py-3",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>j(f),className:"h-8 w-8 p-0 hover:bg-green-100 dark:hover:bg-green-900/20",title:f.status==="returned"?"Edit return date":"Mark as recovered",children:n.jsx(ir,{className:`h-4 w-4 ${f.status==="returned"?"text-green-600":"text-muted-foreground"}`})})})})]},f.id))})]})})})]}),n.jsx(FD,{open:o,onClose:()=>i(!1),onSuccess:g}),n.jsx(_D,{open:l,onClose:()=>{c(!1),h(null)},onSuccess:v,record:u}),n.jsx(mn,{children:s.map(f=>n.jsx(un,{message:f.message,type:f.type,onClose:()=>p(f.id)},f.id))})]})}const pj="https://script.google.com/macros/s/AKfycby8gcfPCWLbzPlE5jHGavGNO39gUvcrJ59_i8SlWcqfTaDu0FCM79-HpZZpvfFHp-bH/exec";async function BD(e){try{const t={id:e.id,foodType:e.foodType,dateCooked:e.dateCooked,startTime:e.startTime,startTemp:e.startTemp,secondTimeCheck:e.secondTimeCheck,secondTempCheck:e.secondTempCheck,thirdTimeCheck:e.thirdTimeCheck,thirdTempCheck:e.thirdTempCheck,coolingMethod:e.coolingMethod,completedBy:e.completedBy,unixTimestamp:Math.floor(new Date(e.timestamp).getTime()/1e3)};return await fetch(`${pj}?module=cooling-batch-checks`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error(" Error saving to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const xj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(`${pj}?module=cooling-batch-checks`,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>{e(s=>({records:[r,...s.records]}))},deleteRecord:r=>{e(s=>({records:s.records.filter(a=>a.id!==r)}))},getRecords:()=>t().records}),{name:"taquero-cooling-batch-checks"}));function zD({open:e,onClose:t,onSuccess:r}){const{currentUser:s}=We(),{addRecord:a}=xj(),[o,i]=d.useState(1),[l,c]=d.useState(""),[u,h]=d.useState(new Date().toISOString().split("T")[0]),[m,p]=d.useState(new Date().toTimeString().slice(0,5)),[g,j]=d.useState("60"),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState(""),[C,R]=d.useState(""),[k,D]=d.useState(""),[b,S]=d.useState(!1),[T,E]=d.useState(!1),[I,z]=d.useState(""),F=7,B=o/F*100,G=()=>{i(1),c(""),h(new Date().toISOString().split("T")[0]),p(new Date().toTimeString().slice(0,5)),j("60"),N(""),x(""),w(""),R(""),D(""),S(!1)},A=()=>{b&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(G(),t())},_=()=>{o===1&&S(!0),o<F&&i(o+1)},L=()=>{o>1&&i(o-1)},P=async()=>{if(!s){alert("Error: No user logged in");return}E(!0),z("Adding batch check...");const oe={id:`batch-check-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,foodType:l,dateCooked:u,startTime:m,startTemp:parseFloat(g),secondTimeCheck:v,secondTempCheck:parseFloat(f),thirdTimeCheck:y,thirdTempCheck:parseFloat(C),coolingMethod:k,completedBy:s.name,timestamp:new Date().toISOString()};a(oe);try{z("Saving to Google Sheets...");const ce=await BD(oe);ce.success?console.log(" Saved to Google Sheets"):console.warn(" Failed to save to Google Sheets:",ce.error)}catch(ce){console.error(" Error saving to Google Sheets:",ce)}E(!1),G(),r==null||r(),t()};return n.jsx(Ue,{open:e,onOpenChange:A,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[T&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto"}),n.jsx("p",{className:"text-lg font-medium",children:I})]})}),n.jsx(Le,{children:n.jsxs(Be,{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-5 w-5 text-primary"}),"Add Batch Check"]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Step ",o," of ",F]}),n.jsxs("span",{className:"text-muted-foreground",children:[Math.round(B),"%"]})]}),n.jsx(Ae,{value:B,className:"h-2"})]}),o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Food Type"}),n.jsx(W,{value:l,onChange:$=>c($.target.value),placeholder:"e.g., Butter chicken curry",className:"h-16 text-xl",autoFocus:!0})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Date Cooked"}),n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"date",value:u,onChange:$=>h($.target.value),className:"h-16 text-xl pl-12"})]})]}),o===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Start time (when food reaches 60C)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:m,onChange:$=>p($.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-6",children:"Start temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:g,onChange:$=>j($.target.value),placeholder:"60.0",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),o===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"2nd temperature check"}),n.jsx(O,{className:"text-base mt-4",children:"2nd check time"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:v,onChange:$=>N($.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-4",children:"2nd check temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:f,onChange:$=>x($.target.value),placeholder:"21.0 or below",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),o===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"3rd temperature check"}),n.jsx(O,{className:"text-base mt-4",children:"3rd check time"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"time",value:y,onChange:$=>w($.target.value),className:"h-16 text-xl pl-12",autoFocus:!0})]}),n.jsx(O,{className:"text-base mt-4",children:"3rd check temperature"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),n.jsx(W,{type:"number",step:"0.1",value:C,onChange:$=>R($.target.value),placeholder:"5.0 or below",className:"h-16 text-xl pl-12 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]}),o===6&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{className:"text-base",children:"Cooling Method"}),n.jsx(le,{value:k,onChange:$=>D($.target.value),placeholder:"e.g., Divided into 5x250mL containers, placed on cooling racks, then placed in fridge at 2nd temperature check",className:"min-h-[140px] text-lg",autoFocus:!0})]}),o===7&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Review Batch Check"}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Food Type"}),n.jsx("p",{className:"font-medium",children:l})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Date Cooked"}),n.jsx("p",{className:"font-medium",children:new Date(u).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Start (60C)"}),n.jsxs("p",{className:"font-medium",children:[m," - ",g,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"2nd Check (60C  21C)"}),n.jsxs("p",{className:"font-medium",children:[v," - ",f,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"3rd Check (21C  5C)"}),n.jsxs("p",{className:"font-medium",children:[y," - ",C,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cooling Method"}),n.jsx("p",{className:"font-medium",children:k})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed By"}),n.jsx("p",{className:"font-medium",children:s==null?void 0:s.name})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[o===1&&n.jsx(M,{variant:"outline",onClick:A,className:"flex-1",disabled:T,children:"Cancel"}),o>1&&n.jsx(M,{variant:"outline",onClick:L,className:"flex-1",disabled:T,children:"Back"}),o<F&&n.jsx(M,{onClick:_,className:"flex-1",disabled:o===1&&!l.trim()||o===3&&(!m||!g)||o===4&&(!v||!f)||o===5&&(!y||!C)||o===6&&!k.trim(),children:"Next"}),o===F&&n.jsx(M,{onClick:P,className:"flex-1",disabled:T,children:"Add Batch Check"})]})]})})}function $D(){const{records:e,isLoading:t,fetchFromGoogleSheets:r}=xj(),[s,a]=d.useState([]),[o,i]=d.useState(!1);d.useEffect(()=>{r()},[r]);const l=(m,p="info")=>{const g=Date.now();a(j=>[...j,{id:g,message:m,type:p}])},c=m=>{a(p=>p.filter(g=>g.id!==m))},u=()=>{l("Batch check record added successfully","success")},h=[...e].sort((m,p)=>new Date(p.timestamp).getTime()-new Date(m.timestamp).getTime()).slice(0,50);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cooling Batch Checks"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Weekly cooling checks for freshly cooked food"})]}),n.jsxs(M,{size:"lg",onClick:()=>i(!0),className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Add Batch Check"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ur,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Batch Check Records"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All cooling batch check records"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):h.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No records yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Add Batch Check" to add your first entry'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[n.jsx("th",{className:"pb-3 font-medium",children:"Food Type"}),n.jsx("th",{className:"pb-3 font-medium",children:"Date Cooked"}),n.jsx("th",{className:"pb-3 font-medium",children:"Start"}),n.jsx("th",{className:"pb-3 font-medium",children:"2nd Check"}),n.jsx("th",{className:"pb-3 font-medium",children:"3rd Check"}),n.jsx("th",{className:"pb-3 font-medium",children:"Cooling Method"}),n.jsx("th",{className:"pb-3 font-medium",children:"Completed By"})]})}),n.jsx("tbody",{className:"divide-y",children:h.map(m=>n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"py-3 font-medium",children:m.foodType}),n.jsx("td",{className:"py-3",children:new Date(m.dateCooked).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"})}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:m.startTime}),n.jsxs("div",{className:"font-medium",children:[m.startTemp,"C"]})]})}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:m.secondTimeCheck}),n.jsxs("div",{className:"font-medium",children:[m.secondTempCheck,"C"]})]})}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:m.thirdTimeCheck}),n.jsxs("div",{className:"font-medium",children:[m.thirdTempCheck,"C"]})]})}),n.jsx("td",{className:"py-3 text-muted-foreground max-w-[250px] truncate",children:m.coolingMethod}),n.jsx("td",{className:"py-3",children:m.completedBy})]},m.id))})]})})})]}),n.jsx(zD,{open:o,onClose:()=>i(!1),onSuccess:u}),n.jsx(mn,{children:s.map(m=>n.jsx(un,{message:m.message,type:m.type,onClose:()=>c(m.id)},m.id))})]})}const Vu="https://script.google.com/macros/s/AKfycbwmSfN7KKDheU7KVXD3EyYkCApSN_Git6XgnG6yHaX7QENXlHlrvngCzHO582yVE68gHA/exec";async function df(e){try{const t={id:e.id,dishName:e.dishName,ingredients:e.ingredients,allergens:e.allergens,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Vu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error(" Error saving to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function WD(e){try{const t={id:e.id,dishName:e.dishName,ingredients:e.ingredients,allergens:e.allergens,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Vu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error(" Error deleting from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const gj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(Vu,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>{e(s=>({records:[r,...s.records]}))},updateRecord:(r,s)=>{e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)}))},deleteRecord:r=>{e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)}))},getRecords:()=>t().records.filter(r=>r.status!=="deleted"),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-allergens"}));function UD(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ll="Checkbox",[GD]=gr(ll),[HD,Yu]=GD(ll);function VD(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:m}=e,[p,g]=Zi({prop:r,defaultProp:a??!1,onChange:c,caller:ll}),[j,v]=d.useState(null),[N,f]=d.useState(null),x=d.useRef(!1),y=j?!!i||!!j.closest("form"):!0,w={checked:p,disabled:o,setChecked:g,control:j,setControl:v,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:nr(a)?!1:a,isFormControl:y,bubbleInput:N,setBubbleInput:f};return n.jsx(HD,{scope:t,...w,children:YD(m)?m(w):s})}var vj="CheckboxTrigger",yj=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:j}=Yu(vj,e),v=Te(a,h),N=d.useRef(c);return d.useEffect(()=>{const f=o==null?void 0:o.form;if(f){const x=()=>m(N.current);return f.addEventListener("reset",x),()=>f.removeEventListener("reset",x)}},[o,m]),n.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":nr(c)?"mixed":c,"aria-required":u,"data-state":Sj(c),"data-disabled":l?"":void 0,disabled:l,value:i,...s,ref:v,onKeyDown:ne(t,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:ne(r,f=>{m(x=>nr(x)?!0:!x),j&&g&&(p.current=f.isPropagationStopped(),p.current||f.stopPropagation())})})});yj.displayName=vj;var qu=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...m}=e;return n.jsx(VD,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>n.jsxs(n.Fragment,{children:[n.jsx(yj,{...m,ref:t,__scopeCheckbox:r}),p&&n.jsx(bj,{__scopeCheckbox:r})]})})});qu.displayName=ll;var jj="CheckboxIndicator",Nj=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,o=Yu(jj,r);return n.jsx(Rn,{present:s||nr(o.checked)||o.checked===!0,children:n.jsx(Se.span,{"data-state":Sj(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Nj.displayName=jj;var wj="CheckboxBubbleInput",bj=d.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:m,bubbleInput:p,setBubbleInput:g}=Yu(wj,e),j=Te(r,g),v=UD(o),N=Bg(s);d.useEffect(()=>{const x=p;if(!x)return;const y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set,R=!a.current;if(v!==o&&C){const k=new Event("click",{bubbles:R});x.indeterminate=nr(o),C.call(x,nr(o)?!1:o),x.dispatchEvent(k)}},[p,v,o,a]);const f=d.useRef(nr(o)?!1:o);return n.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,required:l,disabled:c,name:u,value:h,form:m,...t,tabIndex:-1,ref:j,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});bj.displayName=wj;function YD(e){return typeof e=="function"}function nr(e){return e==="indeterminate"}function Sj(e){return nr(e)?"indeterminate":e?"checked":"unchecked"}const Vn=d.forwardRef(({className:e,...t},r)=>n.jsx(qu,{ref:r,className:Z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(Nj,{className:Z("flex items-center justify-center text-current"),children:n.jsx(ou,{className:"h-4 w-4"})})}));Vn.displayName=qu.displayName;const Po={common:["Gluten (wheat, barley, rye, oats)","Milk","Egg","Soy","Peanuts","Fish","Sesame","Sulphites"],treeNuts:["Almonds","Brazil nuts","Cashews","Hazelnuts","Macadamias","Pecans","Pine nuts","Pistachios","Walnuts"],shellfish:["Crustacea (prawns, crab)","Molluscs (mussels, oysters)"],other:["Lupin"]};function qD({open:e,onClose:t,onSuccess:r,editingRecord:s}){const{currentUser:a}=We(),{addRecord:o,updateRecord:i}=gj(),[l,c]=d.useState(1),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState([]),[v,N]=d.useState(!1),[f,x]=d.useState(!1),y=!!s,w=3,C=l/w*100;d.useEffect(()=>{s&&e&&(h(s.dishName),p(s.ingredients),j(s.allergens))},[s,e]);const R=()=>{c(1),h(""),p(""),j([]),N(!1)},k=()=>{v&&!y&&!window.confirm("You have unsaved data. Are you sure you want to close?")||(R(),t())},D=()=>{l===1&&N(!0),l<w&&c(l+1)},b=()=>{l>1&&c(l-1)},S=F=>{j(B=>B.includes(F)?B.filter(G=>G!==F):[...B,F])},T=async()=>{if(!a){alert("Error: No user logged in");return}x(!0);try{if(y&&s){const F={...s,dishName:u,ingredients:m,allergens:g,updatedAt:new Date().toISOString()},B=await df(F);B.success||console.warn(" Failed to save to Google Sheets:",B.error),i(s.id,{dishName:u,ingredients:m,allergens:g})}else{const B={id:`allergen-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,dishName:u,ingredients:m,allergens:g,createdBy:a.name,createdAt:new Date().toISOString(),status:"active"},G=await df(B);G.success||console.warn(" Failed to save to Google Sheets:",G.error),o(B)}R(),t(),r==null||r()}catch(F){console.error(" Error saving record:",F),alert("Error saving record. Please try again.")}finally{x(!1)}},E=u.trim().length>0,I=m.trim().length>0,z=g.length>0;return n.jsx(Ue,{open:e,onOpenChange:k,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Saving to Google Sheets..."})]})}),n.jsx(Le,{children:n.jsx(Be,{children:y?"Edit Allergen Record":"Add Allergen Record"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",l," of ",w]}),n.jsxs("span",{children:[Math.round(C),"%"]})]}),n.jsx(Ae,{value:C,className:"h-2"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[l===1&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Dr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Dish Name"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Enter the name of the dish or menu item"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"dishName",children:"Dish Name *"}),n.jsx(W,{id:"dishName",value:u,onChange:F=>h(F.target.value),placeholder:"e.g., Cookie, Beef Tacos, Caesar Salad",className:"text-base",autoFocus:!0})]})]})]})}),l===2&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Db,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Ingredients"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"List all ingredients used in this dish"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"ingredients",children:"Ingredients *"}),n.jsx(le,{id:"ingredients",value:m,onChange:F=>p(F.target.value),placeholder:"e.g., Flour, eggs, butter, milk, sugar, chocolate chips",className:"text-base min-h-[120px]",autoFocus:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate ingredients with commas or new lines"})]})]})]})}),l===3&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Fr,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Allergens"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select all allergens present in this dish"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Common Allergens"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Po.common.map(F=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vn,{id:`allergen-${F}`,checked:g.includes(F),onCheckedChange:()=>S(F)}),n.jsx(O,{htmlFor:`allergen-${F}`,className:"text-sm font-normal cursor-pointer",children:F})]},F))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Tree Nuts"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Po.treeNuts.map(F=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vn,{id:`allergen-${F}`,checked:g.includes(F),onCheckedChange:()=>S(F)}),n.jsx(O,{htmlFor:`allergen-${F}`,className:"text-sm font-normal cursor-pointer",children:F})]},F))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Shellfish"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Po.shellfish.map(F=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vn,{id:`allergen-${F}`,checked:g.includes(F),onCheckedChange:()=>S(F)}),n.jsx(O,{htmlFor:`allergen-${F}`,className:"text-sm font-normal cursor-pointer",children:F})]},F))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Other"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Po.other.map(F=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vn,{id:`allergen-${F}`,checked:g.includes(F),onCheckedChange:()=>S(F)}),n.jsx(O,{htmlFor:`allergen-${F}`,className:"text-sm font-normal cursor-pointer",children:F})]},F))})]}),g.length>0&&n.jsxs("div",{className:"pt-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Selected allergens (",g.length,"):"]}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.map(F=>n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:F},F))})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx("div",{children:l===1?n.jsx(M,{variant:"outline",onClick:k,children:"Cancel"}):n.jsx(M,{variant:"outline",onClick:b,children:"Back"})}),n.jsx("div",{children:l<w?n.jsx(M,{onClick:D,disabled:l===1&&!E||l===2&&!I,children:"Next"}):n.jsx(M,{onClick:T,disabled:!z||f,children:y?"Update Record":"Save Record"})})]})]})})}function KD(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=gj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(b,S="info")=>{const T=Date.now();o(E=>[...E,{id:T,message:b,type:S}])},f=b=>{o(S=>S.filter(T=>T.id!==b))},x=()=>{N("Allergen record added successfully","success")},y=()=>{N("Allergen record updated successfully","success")},w=b=>{u(b),l(!0)},C=b=>{v(b),g(!0)},R=async()=>{j&&(await WD(j),s(j.id),N("Allergen record deleted successfully","success"),v(null)),g(!1)},k=b=>{m(S=>{const T=new Set(S);return T.has(b)?T.delete(b):T.add(b),T})},D=[...e].sort((b,S)=>new Date(S.createdAt).getTime()-new Date(b.createdAt).getTime()).slice(0,50);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Allergens in My Food"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Track allergens in your dishes to help inform customers"})]}),n.jsxs(M,{size:"lg",onClick:()=>{u(null),l(!0)},className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Add Allergen Record"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Dr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Allergen Records"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.length>0?`${D.length} dish${D.length!==1?"es":""} recorded`:"No records yet"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):D.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No records yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Add Allergen Record" to add your first dish'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[n.jsx("th",{className:"pb-3 font-medium w-8"}),n.jsx("th",{className:"pb-3 font-medium",children:"Dish Name"}),n.jsx("th",{className:"pb-3 font-medium",children:"Allergens"}),n.jsx("th",{className:"pb-3 font-medium",children:"Created By"}),n.jsx("th",{className:"pb-3 font-medium",children:"Date"}),n.jsx("th",{className:"pb-3 font-medium text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:D.map(b=>{const S=h.has(b.id);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"py-3",children:n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>k(b.id),className:"h-6 w-6 p-0",children:S?n.jsx(pr,{className:"h-4 w-4"}):n.jsx(cn,{className:"h-4 w-4"})})}),n.jsx("td",{className:"py-3 font-medium",children:b.dishName}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.allergens.slice(0,3).map((T,E)=>n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:T},E)),b.allergens.length>3&&n.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:["+",b.allergens.length-3," more"]})]})}),n.jsx("td",{className:"py-3",children:b.createdBy}),n.jsx("td",{className:"py-3",children:new Date(b.createdAt).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"})}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>w(b),className:"h-8 w-8 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",title:"Edit record",children:n.jsx(xr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(b),className:"h-8 w-8 p-0 hover:bg-red-100 dark:hover:bg-red-900/20",title:"Delete record",children:n.jsx(Ft,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]})})]},b.id),S&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"py-4 px-4 bg-muted/30",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Ingredients:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.ingredients})]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"All Allergens:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:b.allergens.map((T,E)=>n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:T},E))})]}),b.updatedAt&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Last updated: ",new Date(b.updatedAt).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})})},`${b.id}-expanded`)]})})})]})})})]}),n.jsx(qD,{open:i,onClose:()=>{l(!1),u(null)},onSuccess:c?y:x,editingRecord:c}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Allergen Record"}),n.jsxs(wt,{children:['Are you sure you want to delete the allergen record for "',j==null?void 0:j.dishName,'"? This action cannot be undone.']})]}),n.jsxs(jt,{children:[n.jsx(St,{onClick:()=>v(null),children:"Cancel"}),n.jsx(bt,{onClick:R,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),n.jsx(mn,{children:a.map(b=>n.jsx(un,{message:b.message,type:b.type,onClose:()=>f(b.id)},b.id))})]})}const Ku="https://script.google.com/macros/s/AKfycbxBp8M_cohQeaUNZP5R5nQrJ00XcQUfUCSF92_dAFj9ppPGkBE769DuAo-cMMNiGGcY/exec";async function uf(e){try{const t={id:e.id,businessName:e.businessName,siteRegistrationNumber:e.siteRegistrationNumber,contactPerson:e.contactPerson,phone:e.phone,email:e.email,address:e.address,orderDays:e.orderDays,deliveryDays:e.deliveryDays,customArrangement:e.customArrangement,goodsSupplied:e.goodsSupplied,comments:e.comments,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Ku,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error(" Error saving to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function QD(e){try{const t={id:e.id,businessName:e.businessName,siteRegistrationNumber:e.siteRegistrationNumber,contactPerson:e.contactPerson,phone:e.phone,email:e.email,address:e.address,orderDays:e.orderDays,deliveryDays:e.deliveryDays,customArrangement:e.customArrangement,goodsSupplied:e.goodsSupplied,comments:e.comments,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Ku,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error(" Error deleting from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Cj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(Ku,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>{e(s=>({records:[r,...s.records]}))},updateRecord:(r,s)=>{e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)}))},deleteRecord:r=>{e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)}))},getRecords:()=>t().records.filter(r=>r.status!=="deleted"),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-suppliers"})),mf=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function ZD({open:e,onClose:t,onSuccess:r,editingRecord:s}){const{currentUser:a}=We(),{addRecord:o,updateRecord:i}=Cj(),[l,c]=d.useState(1),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState(""),[C,R]=d.useState([]),[k,D]=d.useState([]),[b,S]=d.useState(""),[T,E]=d.useState(""),[I,z]=d.useState(""),[F,B]=d.useState(!1),[G,A]=d.useState(!1),_=!!s,L=4,P=l/L*100;d.useEffect(()=>{s&&e&&(h(s.businessName),p(s.siteRegistrationNumber||""),j(s.contactPerson),N(s.phone||""),x(s.email||""),w(s.address),R(s.orderDays),D(s.deliveryDays),S(s.customArrangement||""),E(s.goodsSupplied),z(s.comments||""))},[s,e]);const $=()=>{c(1),h(""),p(""),j(""),N(""),x(""),w(""),R([]),D([]),S(""),E(""),z(""),B(!1)},oe=()=>{F&&!_&&!window.confirm("You have unsaved data. Are you sure you want to close?")||($(),t())},ce=()=>{l===1&&B(!0),l<L&&c(l+1)},ot=()=>{l>1&&c(l-1)},ke=K=>{b.trim().length>0&&S(""),R(Je=>Je.includes(K)?Je.filter(An=>An!==K):[...Je,K])},Q=K=>{b.trim().length>0&&S(""),D(Je=>Je.includes(K)?Je.filter(An=>An!==K):[...Je,K])},_t=K=>{K.trim().length>0&&(C.length>0||k.length>0)&&(R([]),D([])),S(K)},qe=async()=>{if(!a){alert("Error: No user logged in");return}A(!0);try{if(_&&s){const K={...s,businessName:u,siteRegistrationNumber:m.trim()||void 0,contactPerson:g,phone:v.trim()||void 0,email:f.trim()||void 0,address:y,orderDays:C,deliveryDays:k,customArrangement:b.trim()||void 0,goodsSupplied:T,comments:I.trim()||void 0,updatedAt:new Date().toISOString()},Je=await uf(K);Je.success||console.warn(" Failed to save to Google Sheets:",Je.error),i(s.id,{businessName:u,siteRegistrationNumber:m.trim()||void 0,contactPerson:g,phone:v.trim()||void 0,email:f.trim()||void 0,address:y,orderDays:C,deliveryDays:k,customArrangement:b.trim()||void 0,goodsSupplied:T,comments:I.trim()||void 0})}else{const Je={id:`supplier-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,businessName:u,siteRegistrationNumber:m.trim()||void 0,contactPerson:g,phone:v.trim()||void 0,email:f.trim()||void 0,address:y,orderDays:C,deliveryDays:k,customArrangement:b.trim()||void 0,goodsSupplied:T,comments:I.trim()||void 0,createdBy:a.name,createdAt:new Date().toISOString(),status:"active"},An=await uf(Je);An.success||console.warn(" Failed to save to Google Sheets:",An.error),o(Je)}$(),t(),r==null||r()}catch(K){console.error(" Error saving record:",K),alert("Error saving record. Please try again.")}finally{A(!1)}},hn=u.trim().length>0,ee=g.trim().length>0&&y.trim().length>0,Pn=C.length>0&&k.length>0||b.trim().length>0,vr=T.trim().length>0;return n.jsx(Ue,{open:e,onOpenChange:oe,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[G&&n.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),n.jsx("div",{className:"text-lg font-semibold",children:"Saving to Google Sheets..."})]})}),n.jsx(Le,{children:n.jsx(Be,{children:_?"Edit Supplier":"Add Trusted Supplier"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",l," of ",L]}),n.jsxs("span",{children:[Math.round(P),"%"]})]}),n.jsx(Ae,{value:P,className:"h-2"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[l===1&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(_r,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Business Information"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Enter the supplier's business details"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"businessName",children:"Business Name *"}),n.jsx(W,{id:"businessName",value:u,onChange:K=>h(K.target.value),placeholder:"e.g., Cheesy Pete",className:"text-base",autoFocus:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"siteRegistrationNumber",children:"Site Registration Number (optional)"}),n.jsx(W,{id:"siteRegistrationNumber",value:m,onChange:K=>p(K.target.value),placeholder:"e.g., MPI000010",className:"text-base font-mono"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"MPI registration number under Food Act or Animal Products Act"})]})]})]})}),l===2&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Xa,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Enter contact details for this supplier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"contactPerson",children:"Contact Person *"}),n.jsx(W,{id:"contactPerson",value:g,onChange:K=>j(K.target.value),placeholder:"e.g., Peter Ronnie",className:"text-base",autoFocus:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"phone",children:"Phone (optional)"}),n.jsx(W,{id:"phone",value:v,onChange:K=>N(K.target.value),placeholder:"e.g., 021 123 456",className:"text-base"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"email",children:"Email (optional)"}),n.jsx(W,{id:"email",type:"email",value:f,onChange:K=>x(K.target.value),placeholder:"e.g., orders@cheesypete.co.nz",className:"text-base"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"address",children:"Address *"}),n.jsx(le,{id:"address",value:y,onChange:K=>w(K.target.value),placeholder:`e.g., Cheesy Pete
44 Main Street
Cityville`,className:"text-base min-h-[100px]"})]})]})]})}),l===3&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Dn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Order & Delivery Schedule"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select the days for ordering and delivery, or specify a custom arrangement"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(O,{children:"Days to place orders"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:mf.map(K=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vn,{id:`order-${K}`,checked:C.includes(K),onCheckedChange:()=>ke(K)}),n.jsx(O,{htmlFor:`order-${K}`,className:"text-sm font-normal cursor-pointer",children:K})]},K))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(O,{children:"Days to receive delivery"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:mf.map(K=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vn,{id:`delivery-${K}`,checked:k.includes(K),onCheckedChange:()=>Q(K)}),n.jsx(O,{htmlFor:`delivery-${K}`,className:"text-sm font-normal cursor-pointer",children:K})]},K))})]}),n.jsxs("div",{className:"space-y-2 pt-3 border-t",children:[n.jsx(O,{htmlFor:"customArrangement",children:"Custom arrangement (optional)"}),n.jsx(le,{id:"customArrangement",value:b,onChange:K=>_t(K.target.value),placeholder:`e.g., We arrange deliveries on an ad-hoc basis
No fixed schedule - call when needed`,className:"text-base min-h-[80px]"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this if you have a custom arrangement instead of fixed days"})]})]})]})}),l===4&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-muted/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(pg,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Products & Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"List the goods supplied and any additional notes"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"goodsSupplied",children:"Goods Supplied *"}),n.jsx(le,{id:"goodsSupplied",value:T,onChange:K=>E(K.target.value),placeholder:`e.g., cheddar
brie
mozzarella`,className:"text-base min-h-[120px]",autoFocus:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"List each product on a new line"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"comments",children:"Comments (optional)"}),n.jsx(le,{id:"comments",value:I,onChange:K=>z(K.target.value),placeholder:`e.g., doesn't like last minute orders but can do next day delivery
closes at 2pm on thursdays`,className:"text-base min-h-[100px]"})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx("div",{children:l===1?n.jsx(M,{variant:"outline",onClick:oe,children:"Cancel"}):n.jsx(M,{variant:"outline",onClick:ot,children:"Back"})}),n.jsx("div",{children:l<L?n.jsx(M,{onClick:ce,disabled:l===1&&!hn||l===2&&!ee||l===3&&!Pn,children:"Next"}):n.jsx(M,{onClick:qe,disabled:!vr||G,children:_?"Update Supplier":"Add Supplier"})})]})]})})}function XD(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=Cj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(b,S="info")=>{const T=Date.now();o(E=>[...E,{id:T,message:b,type:S}])},f=b=>{o(S=>S.filter(T=>T.id!==b))},x=()=>{N("Supplier added successfully","success")},y=()=>{N("Supplier updated successfully","success")},w=b=>{u(b),l(!0)},C=b=>{v(b),g(!0)},R=async()=>{j&&(await QD(j),s(j.id),N("Supplier deleted successfully","success"),v(null)),g(!1)},k=b=>{m(S=>{const T=new Set(S);return T.has(b)?T.delete(b):T.add(b),T})},D=[...e].sort((b,S)=>new Date(S.createdAt).getTime()-new Date(b.createdAt).getTime()).slice(0,50);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"My Trusted Suppliers"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Track trusted suppliers for food safety and recall purposes"})]}),n.jsxs(M,{size:"lg",onClick:()=>{u(null),l(!0)},className:"h-12 px-6 min-h-[48px] w-full sm:w-auto",children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Add Supplier"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(_r,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Trusted Suppliers"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.length>0?`${D.length} supplier${D.length!==1?"s":""} registered`:"No suppliers yet"})]})]})}),n.jsx(q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):D.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{className:"text-lg font-medium",children:"No suppliers yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Add Supplier" to add your first trusted supplier'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{className:"text-left text-sm text-muted-foreground",children:[n.jsx("th",{className:"pb-3 font-medium w-8"}),n.jsx("th",{className:"pb-3 font-medium",children:"Business Name"}),n.jsx("th",{className:"pb-3 font-medium",children:"Registration #"}),n.jsx("th",{className:"pb-3 font-medium",children:"Contact"}),n.jsx("th",{className:"pb-3 font-medium",children:"Phone"}),n.jsx("th",{className:"pb-3 font-medium text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:D.map(b=>{const S=h.has(b.id);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"py-3",children:n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>k(b.id),className:"h-6 w-6 p-0",children:S?n.jsx(pr,{className:"h-4 w-4"}):n.jsx(cn,{className:"h-4 w-4"})})}),n.jsx("td",{className:"py-3 font-medium",children:b.businessName}),n.jsx("td",{className:"py-3 font-mono text-xs",children:b.siteRegistrationNumber}),n.jsx("td",{className:"py-3",children:b.contactPerson}),n.jsx("td",{className:"py-3",children:b.phone}),n.jsx("td",{className:"py-3",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>w(b),className:"h-8 w-8 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",title:"Edit supplier",children:n.jsx(xr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(b),className:"h-8 w-8 p-0 hover:bg-red-100 dark:hover:bg-red-900/20",title:"Delete supplier",children:n.jsx(Ft,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]})})]},b.id),S&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"py-4 px-4 bg-muted/30",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Email:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.email})]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Address:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:b.address})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Days to place orders:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:b.orderDays.length>0?b.orderDays.map((T,E)=>n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:T},E)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"N/A"})})]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Days to receive delivery:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:b.deliveryDays.length>0?b.deliveryDays.map((T,E)=>n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:T},E)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"N/A"})})]})]}),b.customArrangement&&n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Custom arrangement:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:b.customArrangement})]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Goods supplied:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:b.goodsSupplied})]}),b.comments&&n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Comments:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:b.comments})]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t",children:["Added by ",b.createdBy," on ",new Date(b.createdAt).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"}),b.updatedAt&&n.jsxs("span",{children:["  Last updated: ",new Date(b.updatedAt).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})})},`${b.id}-expanded`)]})})})]})})})]}),n.jsx(ZD,{open:i,onClose:()=>{l(!1),u(null)},onSuccess:c?y:x,editingRecord:c}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Supplier"}),n.jsxs(wt,{children:['Are you sure you want to delete "',j==null?void 0:j.businessName,'"? This action cannot be undone.']})]}),n.jsxs(jt,{children:[n.jsx(St,{onClick:()=>v(null),children:"Cancel"}),n.jsx(bt,{onClick:R,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),n.jsx(mn,{children:a.map(b=>n.jsx(un,{message:b.message,type:b.type,onClose:()=>f(b.id)},b.id))})]})}const Qu="https://script.google.com/macros/s/AKfycbySJO0jwPwx04IFLE9ZfNQRGKPzNW0X9h64fOZfjnag3SZ9sH2Bh49SDntXrK8ycOaq9Q/exec";async function hf(e){try{const t={id:e.id,deliveryDate:e.deliveryDate,supplierName:e.supplierName,supplierContact:e.supplierContact,batchLotId:e.batchLotId,typeOfFood:e.typeOfFood,quantity:e.quantity,unit:e.unit,requiresTempCheck:e.requiresTempCheck,temperature:e.temperature,taskDoneBy:e.taskDoneBy,notes:e.notes,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Qu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving delivery to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function JD(e){try{const t={id:e.id,deliveryDate:e.deliveryDate,supplierName:e.supplierName,supplierContact:e.supplierContact,batchLotId:e.batchLotId,typeOfFood:e.typeOfFood,quantity:e.quantity,unit:e.unit,requiresTempCheck:e.requiresTempCheck,temperature:e.temperature,taskDoneBy:e.taskDoneBy,notes:e.notes,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Qu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting delivery from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const kj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(Qu,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch deliveries")}catch(r){console.error("Error fetching deliveries from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.deliveryDate).getTime()-new Date(s.deliveryDate).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-supplier-deliveries"})),e3=["kg","L","units","boxes","trays"];function t3({open:e,onClose:t,onSuccess:r,editingRecord:s}){const{currentUser:a}=We(),{addRecord:o,updateRecord:i}=kj(),[l,c]=d.useState(1),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState(""),[C,R]=d.useState("kg"),[k,D]=d.useState(null),[b,S]=d.useState(""),[T,E]=d.useState(!1),[I,z]=d.useState(""),[F,B]=d.useState(""),[G,A]=d.useState(!1),_=!!s,L=4,P=l/L*100;d.useEffect(()=>{var ee;s&&e&&(h(s.supplierName),p(s.supplierContact),j(s.deliveryDate),N(s.batchLotId||""),x(s.typeOfFood),w(s.quantity.toString()),R(s.unit),D(s.requiresTempCheck),S(((ee=s.temperature)==null?void 0:ee.toString())||""),B(s.notes||""))},[s,e]),d.useEffect(()=>{if(e&&!s){const ee=new Date().toISOString().split("T")[0];j(ee)}},[e,s]),d.useEffect(()=>{e||setTimeout(()=>{$()},200)},[e]);const $=()=>{c(1),h(""),p(""),j(""),N(""),x(""),w(""),R("kg"),D(null),S(""),B(""),E(!1),z("")},oe=()=>{G||t()},ce=()=>{l<L&&c(l+1)},ot=()=>{l>1&&c(l-1)};d.useEffect(()=>{if(k&&b){const ee=parseFloat(b);isNaN(ee)||(ee>=0&&ee>5?(E(!0),z(" Cold food should be stored at 5C or below")):ee<0&&ee>-18?(E(!0),z(" Frozen food should be stored at -18C or below")):(E(!1),z("")))}else E(!1),z("")},[b,k]);const ke=async()=>{if(!a){alert("Error: No user logged in");return}A(!0);try{if(_&&s){const ee={...s,deliveryDate:g,supplierName:u.trim(),supplierContact:m.trim(),batchLotId:v.trim()||void 0,typeOfFood:f.trim(),quantity:parseFloat(y),unit:C,requiresTempCheck:k,temperature:k?parseFloat(b):void 0,notes:F.trim()||void 0,updatedAt:new Date().toISOString()};await hf(ee),i(s.id,{deliveryDate:g,supplierName:u.trim(),supplierContact:m.trim(),batchLotId:v.trim()||void 0,typeOfFood:f.trim(),quantity:parseFloat(y),unit:C,requiresTempCheck:k,temperature:k?parseFloat(b):void 0,notes:F.trim()||void 0})}else{const Pn={id:`delivery-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,deliveryDate:g,supplierName:u.trim(),supplierContact:m.trim(),batchLotId:v.trim()||void 0,typeOfFood:f.trim(),quantity:parseFloat(y),unit:C,requiresTempCheck:k,temperature:k?parseFloat(b):void 0,taskDoneBy:a.name,notes:F.trim()||void 0,createdAt:new Date().toISOString(),status:"active"};await hf(Pn),o(Pn)}r==null||r(),$(),t()}catch(ee){console.error("Error saving delivery record:",ee),alert("Error saving delivery record. Please try again.")}finally{A(!1)}},Q=u.trim().length>0&&m.trim().length>0,_t=g.length>0&&f.trim().length>0&&y.trim().length>0&&!isNaN(parseFloat(y))&&parseFloat(y)>0,qe=k!==null&&(!k||b.trim().length>0&&!isNaN(parseFloat(b))),hn=ee=>new Date(ee).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"});return n.jsx(Ue,{open:e,onOpenChange:oe,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Le,{children:n.jsx(Be,{className:"text-2xl",children:_?"Edit Delivery Record":"Record Supplier Delivery"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",l," of ",L]}),n.jsxs("span",{children:[Math.round(P),"% complete"]})]}),n.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${P}%`}})})]}),l===1&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Supplier Details"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the name and contact details of the supplier"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"supplierName",children:"Supplier Name"}),n.jsx(W,{id:"supplierName",value:u,onChange:ee=>h(ee.target.value),placeholder:"e.g., Farmods, Fresh Foods Ltd",className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"supplierContact",children:"Supplier Contact Details"}),n.jsx(W,{id:"supplierContact",value:m,onChange:ee=>p(ee.target.value),placeholder:"e.g., South Farm Townsville, Ph: 09-123-4567",className:"h-16 text-xl"})]})]})]})}),l===2&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Details"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Record what was delivered and when"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"deliveryDate",children:"Delivery Date"}),n.jsx(W,{id:"deliveryDate",type:"date",value:g,onChange:ee=>j(ee.target.value),className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"batchLotId",children:"Batch / Lot ID (optional)"}),n.jsx(W,{id:"batchLotId",value:v,onChange:ee=>N(ee.target.value),placeholder:"e.g., 4251708",className:"h-16 text-xl"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Found on delivery invoice or product label"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"typeOfFood",children:"Type of Food"}),n.jsx(W,{id:"typeOfFood",value:f,onChange:ee=>x(ee.target.value),placeholder:"e.g., fresh chicken breast, vegetables, milk",className:"h-16 text-xl"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"quantity",children:"Quantity"}),n.jsx(W,{id:"quantity",type:"number",step:"0.01",min:"0",value:y,onChange:ee=>w(ee.target.value),placeholder:"e.g., 5",className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"unit",children:"Unit"}),n.jsx("select",{id:"unit",value:C,onChange:ee=>R(ee.target.value),className:"flex h-16 w-full rounded-md border border-input bg-background px-3 py-2 text-xl ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:e3.map(ee=>n.jsx("option",{value:ee,children:ee},ee))})]})]})]})]})}),l===3&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Temperature Check"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Does this food require temperature control?"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(V,{className:`p-6 cursor-pointer transition-all border-2 ${k===!0?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,onClick:()=>D(!0),children:n.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[n.jsx(Ve,{className:"h-12 w-12"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:"YES"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cold, frozen, or hot food"})]})]})}),n.jsx(V,{className:`p-6 cursor-pointer transition-all border-2 ${k===!1?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,onClick:()=>D(!1),children:n.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[n.jsx(Bb,{className:"h-12 w-12"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:"NO"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Shelf-stable food"})]})]})})]}),k===!0&&n.jsxs("div",{className:"space-y-2 pt-4",children:[n.jsx(O,{htmlFor:"temperature",children:"Temperature (C)"}),n.jsx(W,{id:"temperature",type:"number",step:"0.1",value:b,onChange:ee=>S(ee.target.value),placeholder:"e.g., 4",className:"h-16 text-xl"}),T&&n.jsxs("div",{className:"flex items-start gap-2 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg mt-3",children:[n.jsx(Fr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:I})]})]})]})}),l===4&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Review & Submit"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Please review the delivery details before submitting"}),n.jsx("div",{className:"space-y-4 p-4 bg-secondary/50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Date"}),n.jsx("p",{className:"font-medium",children:hn(g)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Supplier"}),n.jsx("p",{className:"font-medium",children:u})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact"}),n.jsx("p",{className:"font-medium",children:m})]}),v&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Batch/Lot ID"}),n.jsx("p",{className:"font-medium",children:v})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Type of Food"}),n.jsx("p",{className:"font-medium",children:f})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantity"}),n.jsxs("p",{className:"font-medium",children:[y," ",C]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Temperature Check"}),n.jsx("p",{className:"font-medium",children:k?`${b}C`:"Not required"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Task Done By"}),n.jsx("p",{className:"font-medium",children:(a==null?void 0:a.name)||"Unknown"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Additional Notes (optional)"}),n.jsx(le,{id:"notes",value:F,onChange:ee=>B(ee.target.value),placeholder:"Any additional information about this delivery...",className:"text-base min-h-[100px]"})]})]})}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx(M,{variant:"outline",onClick:l===1?oe:ot,disabled:G,children:l===1?"Cancel":"Back"}),l<L?n.jsx(M,{onClick:ce,disabled:l===1&&!Q||l===2&&!_t||l===3&&!qe,children:"Next"}):n.jsx(M,{onClick:ke,disabled:G,children:G?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Delivery"})]})]})})}function n3(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=kj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(S,T="success")=>{const E=Date.now().toString();o(I=>[...I,{id:E,message:S,type:T}]),setTimeout(()=>{o(I=>I.filter(z=>z.id!==E))},3e3)},f=()=>{N("Delivery record saved successfully!"),r()},x=S=>{u(S),l(!0)},y=S=>{v(S),g(!0)},w=async()=>{if(j)try{await JD(j),s(j.id),N("Delivery record deleted successfully!"),g(!1),v(null)}catch(S){console.error("Error deleting delivery:",S),N("Error deleting delivery record","error")}},C=S=>{m(T=>{const E=new Set(T);return E.has(S)?E.delete(S):E.add(S),E})},R=()=>{l(!1),u(null)},k=S=>new Date(S).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=S=>new Date(S).toLocaleString("en-NZ",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),b=[...e].filter(S=>S.status!=="deleted").sort((S,T)=>new Date(T.deliveryDate).getTime()-new Date(S.deliveryDate).getTime()).slice(0,20);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Trusted Supplier Deliveries"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Record all deliveries from suppliers for food safety compliance and traceability"})]}),n.jsxs(M,{size:"lg",className:"w-full md:w-auto",onClick:()=>l(!0),children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Record New Delivery"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Recent Deliveries",t&&n.jsx(Fe,{className:"h-4 w-4 animate-spin ml-2"})]})}),n.jsx(q,{children:b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(or,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No delivery records yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "Record New Delivery" to add your first delivery record'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Supplier"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Food Type"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Quantity"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Temp"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Received By"}),n.jsx("th",{className:"text-right p-3 font-semibold text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:b.map(S=>n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>C(S.id),children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[h.has(S.id)?n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:k(S.deliveryDate)})]})}),n.jsx("td",{className:"p-3",children:n.jsx("div",{children:n.jsx("p",{className:"font-medium",children:S.supplierName})})}),n.jsx("td",{className:"p-3",children:n.jsx("p",{className:"truncate max-w-[200px]",children:S.typeOfFood})}),n.jsxs("td",{className:"p-3",children:[S.quantity," ",S.unit]}),n.jsx("td",{className:"p-3",children:S.requiresTempCheck?n.jsxs("span",{className:"font-medium",children:[S.temperature,"C"]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"N/A"})}),n.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:S.taskDoneBy}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex justify-end gap-2",onClick:T=>T.stopPropagation(),children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(S),className:"h-8 w-8 p-0",children:n.jsx(xr,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(S),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:n.jsx(Ft,{className:"h-4 w-4"})})]})})]},S.id),h.has(S.id)&&n.jsx("tr",{className:"bg-muted/30",children:n.jsx("td",{colSpan:7,className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Delivery Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Supplier Contact:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.supplierContact})]}),S.batchLotId&&n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Batch/Lot ID:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.batchLotId})]}),n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Temperature Check:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.requiresTempCheck?`Required: ${S.temperature}C`:"Not required"})]})]}),S.notes&&n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Notes:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:S.notes})]}),n.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Recorded: ",D(S.createdAt)]}),S.updatedAt&&n.jsxs("p",{children:["Last updated: ",D(S.updatedAt)]})]})]})})})]}))})]})})})]}),n.jsx(t3,{open:i,onClose:R,onSuccess:f,editingRecord:c}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Delivery Record?"}),n.jsx(wt,{children:"Are you sure you want to delete this delivery record? This action cannot be undone."})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:a.map(S=>n.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg ${S.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"} animate-in slide-in-from-bottom-5`,children:S.message},S.id))})]})}const Zu="https://script.google.com/macros/s/AKfycbzijEByks2fbcUU-JsyJmPfmv7AoPz4XtqjZ-IpD92AYHI1iRkFqnFc9WMJitb5TSZT8Q/exec";async function ff(e){try{const t={id:e.id,checkDate:e.checkDate,typeOfFood:e.typeOfFood,temperature:e.temperature,taskDoneBy:e.taskDoneBy,notes:e.notes,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Zu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving transport temp check to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function r3(e){try{const t={id:e.id,checkDate:e.checkDate,typeOfFood:e.typeOfFood,temperature:e.temperature,taskDoneBy:e.taskDoneBy,notes:e.notes,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Zu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting transport temp check from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Ej=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(Zu,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch transport temp checks")}catch(r){console.error("Error fetching transport temp checks from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.checkDate).getTime()-new Date(s.checkDate).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-transport-temp-checks"}));function s3({open:e,onClose:t,onSuccess:r,editingRecord:s}){const{currentUser:a}=We(),{addRecord:o,updateRecord:i}=Ej(),[l,c]=d.useState(1),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(!1),[f,x]=d.useState(""),[y,w]=d.useState("warning"),[C,R]=d.useState(""),[k,D]=d.useState(!1),b=!!s,S=3,T=l/S*100;d.useEffect(()=>{s&&e&&(h(s.checkDate),p(s.typeOfFood),j(s.temperature.toString()),R(s.notes||""))},[s,e]),d.useEffect(()=>{if(e&&!s){const L=new Date().toISOString().split("T")[0];h(L)}},[e,s]),d.useEffect(()=>{e||setTimeout(()=>{E()},200)},[e]);const E=()=>{c(1),h(""),p(""),j(""),R(""),N(!1),x(""),w("warning")},I=()=>{k||t()},z=()=>{l<S&&c(l+1)},F=()=>{l>1&&c(l-1)};d.useEffect(()=>{if(g){const L=parseFloat(g);isNaN(L)||(L>8?(N(!0),w("danger"),x(" Temperature is unsafe (>8C). According to 2/4 hour rule, food should be discarded.")):L>5?(N(!0),w("warning"),x(" Temperature is borderline (5-8C). Monitor closely.")):(N(!1),x("")))}else N(!1),x("")},[g]);const B=async()=>{if(!a){alert("Error: No user logged in");return}D(!0);try{if(b&&s){const L={...s,checkDate:u,typeOfFood:m.trim(),temperature:parseFloat(g),notes:C.trim()||void 0,updatedAt:new Date().toISOString()};await ff(L),i(s.id,{checkDate:u,typeOfFood:m.trim(),temperature:parseFloat(g),notes:C.trim()||void 0})}else{const P={id:`transport-temp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkDate:u,typeOfFood:m.trim(),temperature:parseFloat(g),taskDoneBy:a.name,notes:C.trim()||void 0,createdAt:new Date().toISOString(),status:"active"};await ff(P),o(P)}r==null||r(),E(),t()}catch(L){console.error("Error saving transport temp check:",L),alert("Error saving temperature check. Please try again.")}finally{D(!1)}},G=u.length>0&&m.trim().length>0,A=g.trim().length>0&&!isNaN(parseFloat(g)),_=L=>new Date(L).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"});return n.jsx(Ue,{open:e,onOpenChange:I,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Le,{children:n.jsx(Be,{className:"text-2xl",children:b?"Edit Temperature Check":"Record Transport Temperature Check"})}),n.jsxs("div",{className:"flex items-start gap-2 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[n.jsx(Tb,{className:"h-5 w-5 text-blue-600 dark:text-blue-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-400",children:"Only for food transported for more than 4 hours"}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 mt-1",children:"Record temperature after food has been out of temperature control for more than 4 hours during transport."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",l," of ",S]}),n.jsxs("span",{children:[Math.round(T),"% complete"]})]}),n.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),l===1&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Food Details"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the date and type of food being transported"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"checkDate",children:"Date"}),n.jsx(W,{id:"checkDate",type:"date",value:u,onChange:L=>h(L.target.value),className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"typeOfFood",children:"Type of Food"}),n.jsx(W,{id:"typeOfFood",value:m,onChange:L=>p(L.target.value),placeholder:"e.g., milk, yoghurt, meat, prepared meals",className:"h-16 text-xl"})]})]})]})}),l===2&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Temperature Check"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Record the temperature after more than 4 hours out of temperature control"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"temperature",children:"Temperature (C)"}),n.jsx(W,{id:"temperature",type:"number",step:"0.1",value:g,onChange:L=>j(L.target.value),placeholder:"e.g., 4.5",className:"h-16 text-xl"})]}),v&&n.jsxs("div",{className:`flex items-start gap-2 p-4 border rounded-lg mt-3 ${y==="danger"?"bg-red-500/10 border-red-500/20":"bg-yellow-500/10 border-yellow-500/20"}`,children:[n.jsx(Fr,{className:`h-5 w-5 flex-shrink-0 mt-0.5 ${y==="danger"?"text-red-600 dark:text-red-500":"text-yellow-600 dark:text-yellow-500"}`}),n.jsx("p",{className:`text-sm ${y==="danger"?"text-red-700 dark:text-red-400":"text-yellow-700 dark:text-yellow-400"}`,children:f})]}),n.jsxs("div",{className:"mt-4 p-4 bg-secondary/50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"2/4 Hour Rule Reference:"}),n.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[n.jsx("li",{children:" 5C: Safe temperature"}),n.jsx("li",{children:" 5-8C: Borderline - monitor closely"}),n.jsx("li",{children:" >8C: Unsafe - should be discarded"})]})]})]})}),l===3&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Review & Submit"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Please review the temperature check details before submitting"}),n.jsx("div",{className:"space-y-4 p-4 bg-secondary/50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Date"}),n.jsx("p",{className:"font-medium",children:_(u)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Type of Food"}),n.jsx("p",{className:"font-medium",children:m})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Temperature"}),n.jsxs("p",{className:"font-medium",children:[g,"C"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Checked By"}),n.jsx("p",{className:"font-medium",children:(a==null?void 0:a.name)||"Unknown"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Additional Notes (optional)"}),n.jsx(le,{id:"notes",value:C,onChange:L=>R(L.target.value),placeholder:"Any additional information about this temperature check...",className:"text-base min-h-[100px]"})]})]})}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx(M,{variant:"outline",onClick:l===1?I:F,disabled:k,children:l===1?"Cancel":"Back"}),l<S?n.jsx(M,{onClick:z,disabled:l===1&&!G||l===2&&!A,children:"Next"}):n.jsx(M,{onClick:B,disabled:k,children:k?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Check"})]})]})})}function a3(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=Ej(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(E,I="success")=>{const z=Date.now().toString();o(F=>[...F,{id:z,message:E,type:I}]),setTimeout(()=>{o(F=>F.filter(B=>B.id!==z))},3e3)},f=()=>{N("Temperature check saved successfully!"),r()},x=E=>{u(E),l(!0)},y=E=>{v(E),g(!0)},w=async()=>{if(j)try{await r3(j),s(j.id),N("Temperature check deleted successfully!"),g(!1),v(null)}catch(E){console.error("Error deleting temp check:",E),N("Error deleting temperature check","error")}},C=E=>{m(I=>{const z=new Set(I);return z.has(E)?z.delete(E):z.add(E),z})},R=()=>{l(!1),u(null)},k=E=>new Date(E).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=E=>new Date(E).toLocaleString("en-NZ",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),b=E=>E<=5?"safe":E<=8?"borderline":"unsafe",S=E=>{switch(E){case"safe":return"bg-green-500";case"borderline":return"bg-yellow-500";case"unsafe":return"bg-red-500"}},T=[...e].filter(E=>E.status!=="deleted").sort((E,I)=>new Date(I.checkDate).getTime()-new Date(E.checkDate).getTime()).slice(0,20);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Transported Food Temperature Checks"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Record temperature checks for food transported for more than 4 hours"})]}),n.jsxs(M,{size:"lg",className:"w-full md:w-auto",onClick:()=>l(!0),children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Record Temperature Check"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Recent Temperature Checks",t&&n.jsx(Fe,{className:"h-4 w-4 animate-spin ml-2"})]})}),n.jsx(q,{children:T.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(or,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No temperature checks yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "Record Temperature Check" to add your first check'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Type of Food"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Temperature"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Checked By"}),n.jsx("th",{className:"text-right p-3 font-semibold text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:T.map(E=>{const I=b(E.temperature);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>C(E.id),children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[h.has(E.id)?n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:k(E.checkDate)})]})}),n.jsx("td",{className:"p-3",children:n.jsx("p",{className:"truncate max-w-[200px]",children:E.typeOfFood})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${S(I)}`}),n.jsxs("span",{className:"font-medium",children:[E.temperature,"C"]})]})}),n.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:E.taskDoneBy}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex justify-end gap-2",onClick:z=>z.stopPropagation(),children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(E),className:"h-8 w-8 p-0",children:n.jsx(xr,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(E),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:n.jsx(Ft,{className:"h-4 w-4"})})]})})]},E.id),h.has(E.id)&&n.jsx("tr",{className:"bg-muted/30",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Check Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Temperature Status:"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[I==="safe"&&" Safe (5C)",I==="borderline"&&" Borderline (5-8C)",I==="unsafe"&&" Unsafe (>8C) - Should be discarded"]})]}),E.notes&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("strong",{className:"text-sm",children:"Notes:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:E.notes})]})]}),n.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Recorded: ",D(E.createdAt)]}),E.updatedAt&&n.jsxs("p",{children:["Last updated: ",D(E.updatedAt)]})]})]})})})]})})})]})})})]}),n.jsx(s3,{open:i,onClose:R,onSuccess:f,editingRecord:c}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Temperature Check?"}),n.jsx(wt,{children:"Are you sure you want to delete this temperature check record? This action cannot be undone."})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:a.map(E=>n.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg ${E.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"} animate-in slide-in-from-bottom-5`,children:E.message},E.id))})]})}const Xu="https://script.google.com/macros/s/AKfycbwFXF0DwiXO2zziIBv3EQQoOC8Drhjht4N-1EVHizPORaIZL26JFsx6JfVehnrnRrpC/exec";async function pf(e){try{const t={id:e.id,businessName:e.businessName,contactDetails:e.contactDetails,productSupplied:e.productSupplied,quantity:e.quantity,unit:e.unit,dateSupplied:e.dateSupplied,taskDoneBy:e.taskDoneBy,notes:e.notes,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Xu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving B2B sale to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function o3(e){try{const t={id:e.id,businessName:e.businessName,contactDetails:e.contactDetails,productSupplied:e.productSupplied,quantity:e.quantity,unit:e.unit,dateSupplied:e.dateSupplied,taskDoneBy:e.taskDoneBy,notes:e.notes,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Xu,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting B2B sale from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Tj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(Xu,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch B2B sales")}catch(r){console.error("Error fetching B2B sales from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.dateSupplied).getTime()-new Date(s.dateSupplied).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-b2b-sales"})),i3=["units","kg","L","boxes","trays","dozen"];function l3({open:e,onClose:t,onSuccess:r,editingRecord:s}){const{currentUser:a}=We(),{addRecord:o,updateRecord:i}=Tj(),[l,c]=d.useState(1),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState("units"),[y,w]=d.useState(""),[C,R]=d.useState(""),[k,D]=d.useState(!1),b=!!s,S=4,T=l/S*100;d.useEffect(()=>{s&&e&&(h(s.businessName),p(s.contactDetails),j(s.productSupplied),N(s.quantity.toString()),x(s.unit),w(s.dateSupplied),R(s.notes||""))},[s,e]),d.useEffect(()=>{if(e&&!s){const P=new Date().toISOString().split("T")[0];w(P)}},[e,s]),d.useEffect(()=>{e||setTimeout(()=>{E()},200)},[e]);const E=()=>{c(1),h(""),p(""),j(""),N(""),x("units"),w(""),R("")},I=()=>{k||t()},z=()=>{l<S&&c(l+1)},F=()=>{l>1&&c(l-1)},B=async()=>{if(!a){alert("Error: No user logged in");return}D(!0);try{if(b&&s){const P={...s,businessName:u.trim(),contactDetails:m.trim(),productSupplied:g.trim(),quantity:parseFloat(v),unit:f,dateSupplied:y,notes:C.trim()||void 0,updatedAt:new Date().toISOString()};await pf(P),i(s.id,{businessName:u.trim(),contactDetails:m.trim(),productSupplied:g.trim(),quantity:parseFloat(v),unit:f,dateSupplied:y,notes:C.trim()||void 0})}else{const $={id:`b2b-sale-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,businessName:u.trim(),contactDetails:m.trim(),productSupplied:g.trim(),quantity:parseFloat(v),unit:f,dateSupplied:y,taskDoneBy:a.name,notes:C.trim()||void 0,createdAt:new Date().toISOString(),status:"active"};await pf($),o($)}r==null||r(),E(),t()}catch(P){console.error("Error saving B2B sale:",P),alert("Error saving B2B sale record. Please try again.")}finally{D(!1)}},G=u.trim().length>0&&m.trim().length>0,A=g.trim().length>0&&v.trim().length>0&&!isNaN(parseFloat(v))&&parseFloat(v)>0,_=y.length>0,L=P=>new Date(P).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"});return n.jsx(Ue,{open:e,onOpenChange:I,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Le,{children:n.jsx(Be,{className:"text-2xl",children:b?"Edit B2B Sale Record":"Record Business Sale"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",l," of ",S]}),n.jsxs("span",{children:[Math.round(T),"% complete"]})]}),n.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),l===1&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Business Details"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the name and contact details of the business customer"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"businessName",children:"Business Name"}),n.jsx(W,{id:"businessName",value:u,onChange:P=>h(P.target.value),placeholder:"e.g., PJ's Burger Truck",className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"contactDetails",children:"Contact Details"}),n.jsx(le,{id:"contactDetails",value:m,onChange:P=>p(P.target.value),placeholder:`Address, phone, email
e.g., 123 Main Street, Auckland. 027 345 789`,className:"text-base min-h-[100px]"})]})]})]})}),l===2&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Details"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter what product you supplied and how much"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"productSupplied",children:"Product Supplied"}),n.jsx(W,{id:"productSupplied",value:g,onChange:P=>j(P.target.value),placeholder:"e.g., burger buns, pastries, sauces",className:"h-16 text-xl"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"quantity",children:"Quantity"}),n.jsx(W,{id:"quantity",type:"number",step:"0.01",min:"0",value:v,onChange:P=>N(P.target.value),placeholder:"e.g., 200",className:"h-16 text-xl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"unit",children:"Unit"}),n.jsx("select",{id:"unit",value:f,onChange:P=>x(P.target.value),className:"flex h-16 w-full rounded-md border border-input bg-background px-3 py-2 text-xl ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:i3.map(P=>n.jsx("option",{value:P,children:P},P))})]})]})]})]})}),l===3&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Supply Date"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"When was this product supplied to the business?"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"dateSupplied",children:"Date Supplied"}),n.jsx(W,{id:"dateSupplied",type:"date",value:y,onChange:P=>w(P.target.value),className:"h-16 text-xl"})]})]})}),l===4&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Review & Submit"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Please review the B2B sale details before submitting"}),n.jsx("div",{className:"space-y-4 p-4 bg-secondary/50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Business Name"}),n.jsx("p",{className:"font-medium",children:u})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Date Supplied"}),n.jsx("p",{className:"font-medium",children:L(y)})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact Details"}),n.jsx("p",{className:"font-medium text-sm whitespace-pre-line",children:m})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Product Supplied"}),n.jsx("p",{className:"font-medium",children:g})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantity"}),n.jsxs("p",{className:"font-medium",children:[v," ",f]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Task Done By"}),n.jsx("p",{className:"font-medium",children:(a==null?void 0:a.name)||"Unknown"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Additional Notes (optional)"}),n.jsx(le,{id:"notes",value:C,onChange:P=>R(P.target.value),placeholder:"Any additional information about this sale...",className:"text-base min-h-[100px]"})]})]})}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx(M,{variant:"outline",onClick:l===1?I:F,disabled:k,children:l===1?"Cancel":"Back"}),l<S?n.jsx(M,{onClick:z,disabled:l===1&&!G||l===2&&!A||l===3&&!_,children:"Next"}):n.jsx(M,{onClick:B,disabled:k,children:k?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Sale"})]})]})})}function c3(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=Tj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(S,T="success")=>{const E=Date.now().toString();o(I=>[...I,{id:E,message:S,type:T}]),setTimeout(()=>{o(I=>I.filter(z=>z.id!==E))},3e3)},f=()=>{N("B2B sale recorded successfully!"),r()},x=S=>{u(S),l(!0)},y=S=>{v(S),g(!0)},w=async()=>{if(j)try{await o3(j),s(j.id),N("B2B sale deleted successfully!"),g(!1),v(null)}catch(S){console.error("Error deleting B2B sale:",S),N("Error deleting B2B sale","error")}},C=S=>{m(T=>{const E=new Set(T);return E.has(S)?E.delete(S):E.add(S),E})},R=()=>{l(!1),u(null)},k=S=>new Date(S).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=S=>new Date(S).toLocaleString("en-NZ",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),b=[...e].filter(S=>S.status!=="deleted").sort((S,T)=>new Date(T.dateSupplied).getTime()-new Date(S.dateSupplied).getTime()).slice(0,20);return n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Selling Food to Other Businesses"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Track food supplied to business customers for traceability and recall purposes"})]}),n.jsxs(M,{size:"lg",className:"w-full md:w-auto",onClick:()=>l(!0),children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Record Business Sale"]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"Recent B2B Sales",t&&n.jsx(Fe,{className:"h-4 w-4 animate-spin ml-2"})]})}),n.jsx(q,{children:b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_r,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No B2B sales recorded yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "Record Business Sale" to add your first sale to a business customer'})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Business"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Product"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Quantity"}),n.jsx("th",{className:"text-left p-3 font-semibold text-sm",children:"Done By"}),n.jsx("th",{className:"text-right p-3 font-semibold text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:b.map(S=>n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>C(S.id),children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[h.has(S.id)?n.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:k(S.dateSupplied)})]})}),n.jsx("td",{className:"p-3",children:n.jsx("p",{className:"font-medium",children:S.businessName})}),n.jsx("td",{className:"p-3",children:n.jsx("p",{className:"truncate max-w-[200px]",children:S.productSupplied})}),n.jsxs("td",{className:"p-3",children:[S.quantity," ",S.unit]}),n.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:S.taskDoneBy}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex justify-end gap-2",onClick:T=>T.stopPropagation(),children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(S),className:"h-8 w-8 p-0",children:n.jsx(xr,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(S),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:n.jsx(Ft,{className:"h-4 w-4"})})]})})]},S.id),h.has(S.id)&&n.jsx("tr",{className:"bg-muted/30",children:n.jsx("td",{colSpan:6,className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Sale Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Contact Details:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:S.contactDetails})]}),S.notes&&n.jsxs("div",{children:[n.jsx("strong",{className:"text-sm",children:"Notes:"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:S.notes})]})]}),n.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Recorded: ",D(S.createdAt)]}),S.updatedAt&&n.jsxs("p",{children:["Last updated: ",D(S.updatedAt)]})]})]})})})]}))})]})})})]}),n.jsx(l3,{open:i,onClose:R,onSuccess:f,editingRecord:c}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete B2B Sale Record?"}),n.jsx(wt,{children:"Are you sure you want to delete this B2B sale record? This action cannot be undone."})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:a.map(S=>n.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg ${S.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"} animate-in slide-in-from-bottom-5`,children:S.message},S.id))})]})}const Ju="https://script.google.com/macros/s/AKfycbwO0Sj8BLlHAORdv-_3HIZ3yc5LKUpMZ9ZmO3HdPygJFGYHRfa03-Giz7OGU4SrwSYJ/exec";async function d3(e){try{const t={id:e.id,cleaningTask:e.cleaningTask,dateCompleted:e.dateCompleted,cleaningMethod:e.cleaningMethod,completedBy:e.completedBy,notes:e.notes,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Ju,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving cleaning record to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function u3(e){try{const t={id:e.id,cleaningTask:e.cleaningTask,dateCompleted:e.dateCompleted,cleaningMethod:e.cleaningMethod,completedBy:e.completedBy,notes:e.notes,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(Ju,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting cleaning record from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Dj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(Ju,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch cleaning records")}catch(r){console.error("Error fetching cleaning records from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.dateCompleted).getTime()-new Date(s.dateCompleted).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-cleaning-closing"}));function m3({onComplete:e,onCancel:t}){const[r,s]=d.useState(1),a=Dj(k=>k.addRecord),[o,i]=d.useState(""),[l,c]=d.useState(""),[u,h]=d.useState(new Date().toISOString().split("T")[0]),[m,p]=d.useState(""),[g,j]=d.useState(""),v=2,N=r/v*100,f=()=>o.trim().length>0&&l.trim().length>0,x=()=>m.trim().length>0,y=()=>{if(r===1&&!f()){alert("Please fill in what was cleaned and how it was cleaned.");return}r<v&&s(r+1)},w=()=>{r>1&&s(r-1)},C=k=>new Date(k).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),R=async()=>{if(!x()){alert("Please enter who completed the cleaning.");return}const D={id:`cleaning-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cleaningTask:o,dateCompleted:u,cleaningMethod:l,completedBy:m,notes:g.trim().length>0?g:void 0,createdAt:new Date().toISOString(),status:"active"};a(D),d3(D),e()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",r," of ",v]}),n.jsxs("span",{children:[Math.round(N),"%"]})]}),n.jsx(Ae,{value:N,className:"w-full"})]}),r===1&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(_a,{className:"h-5 w-5"}),"Cleaning Details"]}),n.jsx(Ne,{children:"What was cleaned and how?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"cleaningTask",children:["What was cleaned? ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"cleaningTask",placeholder:"e.g., Preparation benches, Floor, Equipment",value:o,onChange:k=>i(k.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Examples: Preparation benches, Floor mopping, Equipment, Fridge exterior, Sinks"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"cleaningMethod",children:["How was it cleaned? ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:"cleaningMethod",placeholder:"Describe the cleaning method...",value:l,onChange:k=>c(k.target.value),rows:4}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: Clean debris, wipe with hot soapy water, dry with paper towels, apply spray sanitiser"})]})]})]}),r===2&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Completion Details"}),n.jsx(Ne,{children:"When and who completed the cleaning"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"dateCompleted",children:["Date Completed ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"dateCompleted",type:"date",value:u,onChange:k=>h(k.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"completedBy",children:["Completed By ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"completedBy",placeholder:"Staff name",value:m,onChange:k=>p(k.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(le,{id:"notes",placeholder:"Any additional notes...",value:g,onChange:k=>j(k.target.value),rows:3})]}),n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-2",children:[n.jsx("p",{className:"text-sm font-semibold",children:"Review:"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Task:"})," ",o]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Method:"})," ",l]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",C(u)]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between gap-4",children:[n.jsx(M,{variant:"outline",onClick:r===1?t:w,children:r===1?"Cancel":"Back"}),r<v?n.jsx(M,{onClick:y,children:"Next"}):n.jsx(M,{onClick:R,children:"Save Cleaning Record"})]})]})}function h3(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=Dj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(b,S="success")=>{const T=Date.now().toString();o(E=>[...E,{id:T,message:b,type:S}]),setTimeout(()=>{o(E=>E.filter(I=>I.id!==T))},3e3)},f=()=>{N("Cleaning record saved successfully!"),r()},x=b=>{u(b),l(!0)},y=b=>{v(b),g(!0)},w=async()=>{if(j)try{await u3(j),s(j.id),N("Cleaning record deleted successfully!"),g(!1),v(null)}catch(b){console.error("Error deleting cleaning record:",b),N("Error deleting cleaning record","error")}},C=b=>{m(S=>{const T=new Set(S);return T.has(b)?T.delete(b):T.add(b),T})},R=()=>{l(!1),u(null)},k=b=>new Date(b).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=e.filter(b=>b.status==="active").slice(0,20);return n.jsxs("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(_a,{className:"h-8 w-8"}),"Cleaning & Closing"]}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Record cleaning tasks and methods for food safety compliance"})]}),n.jsxs(M,{onClick:()=>l(!0),size:"lg",children:[n.jsx(he,{className:"mr-2 h-5 w-5"}),"Add Cleaning Record"]})]}),i&&n.jsxs(V,{className:"border-2 border-primary",children:[n.jsx(X,{children:n.jsxs(J,{children:[c?"Edit":"Add"," Cleaning Record"]})}),n.jsx(q,{children:n.jsx(m3,{onComplete:()=>{R(),f()},onCancel:R})})]}),t&&n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!t&&D.length>0&&n.jsxs(V,{children:[n.jsx(X,{children:n.jsx(J,{children:"Recent Cleaning Records (Last 20)"})}),n.jsx(q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-semibold",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Cleaning Task"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Completed By"}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:D.map(b=>{const S=h.has(b.id);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"p-3",children:k(b.dateCompleted)}),n.jsx("td",{className:"p-3 font-medium",children:b.cleaningTask}),n.jsx("td",{className:"p-3",children:b.completedBy}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(b.id),children:S?n.jsx(pr,{className:"h-4 w-4"}):n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(b),children:n.jsx(xr,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(b),children:n.jsx(Ft,{className:"h-4 w-4 text-destructive"})})]})})]},b.id),S&&n.jsx("tr",{className:"bg-muted/30",children:n.jsx("td",{colSpan:4,className:"p-4",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Cleaning Method:"}),n.jsx("p",{className:"mt-1 text-muted-foreground whitespace-pre-wrap",children:b.cleaningMethod})]}),b.notes&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Notes:"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:b.notes})]})]})})})]})})})]})})})]}),!t&&D.length===0&&n.jsx(V,{children:n.jsxs(q,{className:"flex flex-col items-center justify-center p-12",children:[n.jsx(_a,{className:"h-16 w-16 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No cleaning records yet"}),n.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Start recording your cleaning tasks to maintain food safety standards"}),n.jsxs(M,{onClick:()=>l(!0),children:[n.jsx(he,{className:"mr-2 h-5 w-5"}),"Add First Cleaning Record"]})]})}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Cleaning Record?"}),n.jsxs(wt,{children:['This will permanently delete the cleaning record for "',j==null?void 0:j.cleaningTask,'". This action cannot be undone.']})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:w,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})}),n.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:a.map(b=>n.jsx("div",{className:`p-4 rounded-lg shadow-lg ${b.type==="success"?"bg-green-500":"bg-red-500"} text-white`,children:b.message},b.id))})]})}const em="https://script.google.com/macros/s/AKfycbxRjOXZMvklsqZSv5N0uBP1pt4i5N12YX0k4IpphABdzEMNSIDoNEpP-pffj0FGb_Jy/exec";async function f3(e){try{const t={id:e.id,equipmentName:e.equipmentName,dateCompleted:e.dateCompleted,performedBy:e.performedBy,maintenanceDescription:e.maintenanceDescription,checkingFrequency:e.checkingFrequency,notes:e.notes,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(em,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving maintenance record to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function p3(e){try{const t={id:e.id,equipmentName:e.equipmentName,dateCompleted:e.dateCompleted,performedBy:e.performedBy,maintenanceDescription:e.maintenanceDescription,checkingFrequency:e.checkingFrequency,notes:e.notes,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(em,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting maintenance record from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Rj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(em,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch maintenance records")}catch(r){console.error("Error fetching maintenance records from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.dateCompleted).getTime()-new Date(s.dateCompleted).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-equipment-maintenance"}));function x3({onComplete:e,onCancel:t}){const[r,s]=d.useState(1),a=Rj(b=>b.addRecord),[o,i]=d.useState(""),[l,c]=d.useState(""),[u,h]=d.useState(new Date().toISOString().split("T")[0]),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(""),f=2,x=r/f*100,y=()=>o.trim().length>0&&l.trim().length>0,w=()=>m.trim().length>0,C=()=>{if(r===1&&!y()){alert("Please fill in equipment name and maintenance description.");return}r<f&&s(r+1)},R=()=>{r>1&&s(r-1)},k=b=>new Date(b).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=async()=>{if(!w()){alert("Please enter who performed the maintenance.");return}const S={id:`maintenance-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,equipmentName:o,dateCompleted:u,performedBy:m,maintenanceDescription:l,checkingFrequency:g.trim().length>0?g:void 0,notes:v.trim().length>0?v:void 0,createdAt:new Date().toISOString(),status:"active"};a(S),f3(S),e()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",r," of ",f]}),n.jsxs("span",{children:[Math.round(x),"%"]})]}),n.jsx(Ae,{value:x,className:"w-full"})]}),r===1&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(ir,{className:"h-5 w-5"}),"Equipment & Maintenance Details"]}),n.jsx(Ne,{children:"What was serviced and what was done?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"equipmentName",children:["Equipment/Item Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"equipmentName",placeholder:"e.g., Grease Trap, Fridge #1, Water Filter",value:o,onChange:b=>i(b.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Examples: Grease Trap, Fridge, Freezer, Oven, Extractor Fan, Water Filter, Fire Extinguisher"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"maintenanceDescription",children:["Maintenance Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:"maintenanceDescription",placeholder:"Describe what maintenance/repair was done...",value:l,onChange:b=>c(b.target.value),rows:4}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: Full service and clean out of passive grease trap, Temperature calibration check, Filter replacement"})]})]})]}),r===2&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Completion Details"}),n.jsx(Ne,{children:"When and who performed the maintenance"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"dateCompleted",children:["Date Completed ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"dateCompleted",type:"date",value:u,onChange:b=>h(b.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"performedBy",children:["Performed By ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"performedBy",placeholder:"Service provider or staff name",value:m,onChange:b=>p(b.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"e.g., Greg's Grease Trap Services, Staff, John Smith"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"checkingFrequency",children:"Checking Frequency (Optional)"}),n.jsx(W,{id:"checkingFrequency",placeholder:"e.g., 6 monthly, Monthly, Quarterly",value:g,onChange:b=>j(b.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"How often this maintenance should be done (for reference)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(le,{id:"notes",placeholder:"Any additional notes...",value:v,onChange:b=>N(b.target.value),rows:3})]}),n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-2",children:[n.jsx("p",{className:"text-sm font-semibold",children:"Review:"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Equipment:"})," ",o]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Maintenance:"})," ",l]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",k(u)]}),g&&n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Frequency:"})," ",g]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between gap-4",children:[n.jsx(M,{variant:"outline",onClick:r===1?t:R,children:r===1?"Cancel":"Back"}),r<f?n.jsx(M,{onClick:C,children:"Next"}):n.jsx(M,{onClick:D,children:"Save Maintenance Record"})]})]})}function g3(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=Rj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(b,S="success")=>{const T=Date.now().toString();o(E=>[...E,{id:T,message:b,type:S}]),setTimeout(()=>{o(E=>E.filter(I=>I.id!==T))},3e3)},f=()=>{N("Maintenance record saved successfully!"),r()},x=b=>{u(b),l(!0)},y=b=>{v(b),g(!0)},w=async()=>{if(j)try{await p3(j),s(j.id),N("Maintenance record deleted successfully!"),g(!1),v(null)}catch(b){console.error("Error deleting maintenance record:",b),N("Error deleting maintenance record","error")}},C=b=>{m(S=>{const T=new Set(S);return T.has(b)?T.delete(b):T.add(b),T})},R=()=>{l(!1),u(null)},k=b=>new Date(b).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=e.filter(b=>b.status==="active").slice(0,20);return n.jsxs("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(ir,{className:"h-8 w-8"}),"Equipment Maintenance"]}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Track equipment and facility maintenance including water supply"})]}),n.jsxs(M,{onClick:()=>l(!0),size:"lg",children:[n.jsx(he,{className:"mr-2 h-5 w-5"}),"Add Maintenance Record"]})]}),i&&n.jsxs(V,{className:"border-2 border-primary",children:[n.jsx(X,{children:n.jsxs(J,{children:[c?"Edit":"Add"," Maintenance Record"]})}),n.jsx(q,{children:n.jsx(x3,{onComplete:()=>{R(),f()},onCancel:R})})]}),t&&n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!t&&D.length>0&&n.jsxs(V,{children:[n.jsx(X,{children:n.jsx(J,{children:"Recent Maintenance Records (Last 20)"})}),n.jsx(q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-semibold",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Equipment/Item"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Performed By"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Frequency"}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:D.map(b=>{const S=h.has(b.id);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"p-3",children:k(b.dateCompleted)}),n.jsx("td",{className:"p-3 font-medium",children:b.equipmentName}),n.jsx("td",{className:"p-3",children:b.performedBy}),n.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:b.checkingFrequency||"N/A"}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(b.id),children:S?n.jsx(pr,{className:"h-4 w-4"}):n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(b),children:n.jsx(xr,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(b),children:n.jsx(Ft,{className:"h-4 w-4 text-destructive"})})]})})]},b.id),S&&n.jsx("tr",{className:"bg-muted/30",children:n.jsx("td",{colSpan:5,className:"p-4",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Maintenance Description:"}),n.jsx("p",{className:"mt-1 text-muted-foreground whitespace-pre-wrap",children:b.maintenanceDescription})]}),b.notes&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Notes:"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:b.notes})]})]})})})]})})})]})})})]}),!t&&D.length===0&&n.jsx(V,{children:n.jsxs(q,{className:"flex flex-col items-center justify-center p-12",children:[n.jsx(ir,{className:"h-16 w-16 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No maintenance records yet"}),n.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Start tracking equipment maintenance to ensure food safety"}),n.jsxs(M,{onClick:()=>l(!0),children:[n.jsx(he,{className:"mr-2 h-5 w-5"}),"Add First Maintenance Record"]})]})}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Maintenance Record?"}),n.jsxs(wt,{children:['This will permanently delete the maintenance record for "',j==null?void 0:j.equipmentName,'". This action cannot be undone.']})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:w,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})}),n.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:a.map(b=>n.jsx("div",{className:`p-4 rounded-lg shadow-lg ${b.type==="success"?"bg-green-500":"bg-red-500"} text-white`,children:b.message},b.id))})]})}const tm="https://script.google.com/macros/s/AKfycbzU0Uo5khxjHvPXYhhhKBD1qCQ2Oc92YUfindWbmqHhX92Xgh9KWkn8o47p8zcWnv4b/exec";async function v3(e){try{const t={id:e.id,incidentDate:e.incidentDate,personResponsible:e.personResponsible,staffInvolved:e.staffInvolved,category:e.category,whatWentWrong:e.whatWentWrong,whatDidToFix:e.whatDidToFix,preventiveAction:e.preventiveAction,severity:e.severity,incidentStatus:e.incidentStatus,followUpDate:e.followUpDate,notes:e.notes,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(tm,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving incident record to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function y3(e){try{const t={id:e.id,incidentDate:e.incidentDate,personResponsible:e.personResponsible,staffInvolved:e.staffInvolved,category:e.category,whatWentWrong:e.whatWentWrong,whatDidToFix:e.whatDidToFix,preventiveAction:e.preventiveAction,severity:e.severity,incidentStatus:e.incidentStatus,followUpDate:e.followUpDate,notes:e.notes,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(tm,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting incident record from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Mj=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(tm,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch incident records")}catch(r){console.error("Error fetching incident records from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.incidentDate).getTime()-new Date(s.incidentDate).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-incidents"})),xf=[{value:"equipment-failure",label:"Equipment Failure"},{value:"temperature-issue",label:"Temperature Issue"},{value:"contamination",label:"Contamination"},{value:"supplier-problem",label:"Supplier Problem"},{value:"staff-error",label:"Staff Error"},{value:"facility-issue",label:"Facility Issue"},{value:"other",label:"Other"}];function j3({onComplete:e,onCancel:t}){var L;const[r,s]=d.useState(1),a=Mj(P=>P.addRecord),[o,i]=d.useState(new Date().toISOString().split("T")[0]),[l,c]=d.useState(""),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState("equipment-failure"),[v,N]=d.useState(""),[f,x]=d.useState(""),[y,w]=d.useState("moderate"),[C,R]=d.useState(""),[k,D]=d.useState(""),b=5,S=r/b*100,T=()=>l.trim().length>0,E=()=>m.trim().length>=10,I=()=>v.trim().length>=10,z=()=>f.trim().length>=10,F=()=>{if(r===1&&!T()){alert("Please enter who is responsible for reporting this incident.");return}if(r===2&&!E()){alert("Please describe what went wrong (at least 10 characters).");return}if(r===3&&!I()){alert("Please describe what you did to fix it (at least 10 characters).");return}if(r===4&&!z()){alert("Please describe preventive actions (at least 10 characters).");return}r<b&&s(r+1)},B=()=>{r>1&&s(r-1)},G=P=>new Date(P).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),A=P=>{switch(P){case"minor":return" Minor";case"moderate":return" Moderate";case"major":return" Major"}},_=async()=>{const $={id:`incident-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentDate:o,personResponsible:l,staffInvolved:u.trim().length>0?u:l,category:g,whatWentWrong:m,whatDidToFix:v,preventiveAction:f,severity:y,incidentStatus:"open",followUpDate:C.trim().length>0?C:void 0,notes:k.trim().length>0?k:void 0,createdAt:new Date().toISOString(),status:"active"};a($),v3($),e()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Step ",r," of ",b]}),n.jsxs("span",{children:[Math.round(S),"%"]})]}),n.jsx(Ae,{value:S,className:"w-full"})]}),r===1&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(Fr,{className:"h-5 w-5"}),"Incident Details"]}),n.jsx(Ne,{children:"When did it happen and who was involved?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"incidentDate",children:["Incident Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"incidentDate",type:"date",value:o,onChange:P=>i(P.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"personResponsible",children:["Person Responsible (Who Noticed/Reported) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(W,{id:"personResponsible",placeholder:"Staff name",value:l,onChange:P=>c(P.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"staffInvolved",children:"Staff Involved (Optional)"}),n.jsx(W,{id:"staffInvolved",placeholder:"e.g., Richard Thomas, John Johnson",value:u,onChange:P=>h(P.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of staff involved (leave blank if same as reporter)"})]})]})]}),r===2&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"What Went Wrong?"}),n.jsx(Ne,{children:"Describe the incident"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"whatWentWrong",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:"whatWentWrong",placeholder:"Describe what went wrong...",value:m,onChange:P=>p(P.target.value),rows:4}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: Fridge 2 on permanent defrost, Food left out too long, Cross-contamination incident"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:xf.map(P=>n.jsx(M,{type:"button",variant:g===P.value?"default":"outline",onClick:()=>j(P.value),className:"h-auto py-3",children:P.label},P.value))})]})]})]}),r===3&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Immediate Fix"}),n.jsx(Ne,{children:"What did you do to fix it?"})]}),n.jsx(q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"whatDidToFix",children:["Corrective Action Taken ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:"whatDidToFix",placeholder:"Describe what you did to fix it...",value:v,onChange:P=>N(P.target.value),rows:4}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Examples: Called sparky, Moved food to backup fridge, Threw out affected food, Increased cooking time"})]})})]}),r===4&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Preventive Action"}),n.jsx(Ne,{children:"What will you do to stop it happening again?"})]}),n.jsx(q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{htmlFor:"preventiveAction",children:["Prevention Strategy ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:"preventiveAction",placeholder:"Describe what you'll do to prevent this...",value:f,onChange:P=>x(P.target.value),rows:4}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Examples: Added to cleaning schedule, Retrain staff on procedure, Change supplier, Update process"})]})})]}),r===5&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Severity & Follow-up"}),n.jsx(Ne,{children:"Impact level and next steps"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{children:["Severity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs(M,{type:"button",variant:y==="minor"?"default":"outline",onClick:()=>w("minor"),className:"h-auto py-3",children:[" Minor",n.jsx("span",{className:"block text-xs mt-1",children:"No food affected"})]}),n.jsxs(M,{type:"button",variant:y==="moderate"?"default":"outline",onClick:()=>w("moderate"),className:"h-auto py-3",children:[" Moderate",n.jsx("span",{className:"block text-xs mt-1",children:"Food affected but safe"})]}),n.jsxs(M,{type:"button",variant:y==="major"?"default":"outline",onClick:()=>w("major"),className:"h-auto py-3",children:[" Major",n.jsx("span",{className:"block text-xs mt-1",children:"Unsafe food produced"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"followUpDate",children:"Follow-up Date (Optional)"}),n.jsx(W,{id:"followUpDate",type:"date",value:C,onChange:P=>R(P.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Date to verify corrective action (e.g., check in 1 week)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Additional Notes (Optional)"}),n.jsx(le,{id:"notes",placeholder:"Any additional notes...",value:k,onChange:P=>D(P.target.value),rows:3})]}),n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-2",children:[n.jsx("p",{className:"text-sm font-semibold",children:"Review:"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",G(o)]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Reported by:"})," ",l]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Category:"})," ",(L=xf.find(P=>P.value===g))==null?void 0:L.label]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Severity:"})," ",A(y)]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between gap-4",children:[n.jsx(M,{variant:"outline",onClick:r===1?t:B,children:r===1?"Cancel":"Back"}),r<b?n.jsx(M,{onClick:F,children:"Next"}):n.jsx(M,{onClick:_,children:"Save Incident Report"})]})]})}function N3(){const{records:e,isLoading:t,fetchFromGoogleSheets:r,deleteRecord:s}=Mj(),[a,o]=d.useState([]),[i,l]=d.useState(!1),[c,u]=d.useState(null),[h,m]=d.useState(new Set),[p,g]=d.useState(!1),[j,v]=d.useState(null);d.useEffect(()=>{r()},[r]);const N=(T,E="success")=>{const I=Date.now().toString();o(z=>[...z,{id:I,message:T,type:E}]),setTimeout(()=>{o(z=>z.filter(F=>F.id!==I))},3e3)},f=()=>{N("Incident report saved successfully!"),r()},x=T=>{u(T),l(!0)},y=T=>{v(T),g(!0)},w=async()=>{if(j)try{await y3(j),s(j.id),N("Incident report deleted successfully!"),g(!1),v(null)}catch(T){console.error("Error deleting incident report:",T),N("Error deleting incident report","error")}},C=T=>{m(E=>{const I=new Set(E);return I.has(T)?I.delete(T):I.add(T),I})},R=()=>{l(!1),u(null)},k=T=>new Date(T).toLocaleDateString("en-NZ",{day:"numeric",month:"long",year:"numeric"}),D=T=>{switch(T){case"minor":return n.jsx(tr,{className:"bg-green-500",children:" Minor"});case"moderate":return n.jsx(tr,{className:"bg-yellow-500",children:" Moderate"});case"major":return n.jsx(tr,{className:"bg-red-500",children:" Major"})}},b=T=>({"equipment-failure":"Equipment Failure","temperature-issue":"Temperature Issue",contamination:"Contamination","supplier-problem":"Supplier Problem","staff-error":"Staff Error","facility-issue":"Facility Issue",other:"Other"})[T],S=e.filter(T=>T.status==="active").slice(0,30);return n.jsxs("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[n.jsx(Fr,{className:"h-8 w-8 text-red-500"}),"When Something Goes Wrong"]}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Critical incident log for food safety issues and corrective actions"})]}),n.jsxs(M,{onClick:()=>l(!0),size:"lg",variant:"destructive",children:[n.jsx(he,{className:"mr-2 h-5 w-5"}),"Report Incident"]})]}),i&&n.jsxs(V,{className:"border-2 border-red-500",children:[n.jsx(X,{children:n.jsxs(J,{children:[c?"Edit":"Report"," Incident"]})}),n.jsx(q,{children:n.jsx(j3,{onComplete:()=>{R(),f()},onCancel:R})})]}),t&&n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!t&&S.length>0&&n.jsxs(V,{children:[n.jsx(X,{children:n.jsx(J,{children:"Recent Incidents (Last 30)"})}),n.jsx(q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-semibold",children:"Date"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Severity"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Category"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"What Went Wrong"}),n.jsx("th",{className:"text-left p-3 font-semibold",children:"Person Responsible"}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:S.map(T=>{const E=h.has(T.id);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"p-3",children:k(T.incidentDate)}),n.jsx("td",{className:"p-3",children:D(T.severity)}),n.jsx("td",{className:"p-3 text-sm",children:b(T.category)}),n.jsx("td",{className:"p-3 font-medium max-w-xs truncate",children:T.whatWentWrong}),n.jsx("td",{className:"p-3",children:T.personResponsible}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(T.id),children:E?n.jsx(pr,{className:"h-4 w-4"}):n.jsx(cn,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(T),children:n.jsx(xr,{className:"h-4 w-4"})}),n.jsx(M,{variant:"ghost",size:"sm",onClick:()=>y(T),children:n.jsx(Ft,{className:"h-4 w-4 text-destructive"})})]})})]},T.id),E&&n.jsx("tr",{className:"bg-muted/30",children:n.jsx("td",{colSpan:6,className:"p-4",children:n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Staff Involved:"}),n.jsx("p",{className:"text-muted-foreground",children:T.staffInvolved})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Status:"}),n.jsx("p",{className:"text-muted-foreground capitalize",children:T.incidentStatus})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"What Went Wrong:"}),n.jsx("p",{className:"mt-1 text-muted-foreground whitespace-pre-wrap",children:T.whatWentWrong})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"What Did to Fix:"}),n.jsx("p",{className:"mt-1 text-muted-foreground whitespace-pre-wrap",children:T.whatDidToFix})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Preventive Action:"}),n.jsx("p",{className:"mt-1 text-muted-foreground whitespace-pre-wrap",children:T.preventiveAction})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Food Safety Action:"}),n.jsx("p",{className:"mt-1 text-muted-foreground whitespace-pre-wrap",children:T.foodSafetyAction})]}),T.followUpDate&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Follow-up Date:"}),n.jsx("p",{className:"text-muted-foreground",children:k(T.followUpDate)})]}),T.notes&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Notes:"}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:T.notes})]})]})})})]})})})]})})})]}),!t&&S.length===0&&n.jsx(V,{children:n.jsxs(q,{className:"flex flex-col items-center justify-center p-12",children:[n.jsx(Fr,{className:"h-16 w-16 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No incident reports yet"}),n.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Report incidents to track issues, fixes, and preventive actions"}),n.jsxs(M,{onClick:()=>l(!0),variant:"destructive",children:[n.jsx(he,{className:"mr-2 h-5 w-5"}),"Report First Incident"]})]})}),n.jsx(Ot,{open:p,onOpenChange:g,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Incident Report?"}),n.jsx(wt,{children:"This will permanently delete this incident report. This action cannot be undone."})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:w,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})}),n.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:a.map(T=>n.jsx("div",{className:`p-4 rounded-lg shadow-lg ${T.type==="success"?"bg-green-500":"bg-red-500"} text-white`,children:T.message},T.id))})]})}const ro=d.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Z("w-full caption-bottom text-sm",e),...t})}));ro.displayName="Table";const so=d.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Z("[&_tr]:border-b",e),...t}));so.displayName="TableHeader";const ao=d.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Z("[&_tr:last-child]:border-0",e),...t}));ao.displayName="TableBody";const w3=d.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));w3.displayName="TableFooter";const Vt=d.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Z("border-b transition-all duration-200 ease-in-out hover:bg-muted/50 data-[state=selected]:bg-muted hover:shadow-sm",e),...t}));Vt.displayName="TableRow";const ge=d.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ge.displayName="TableHead";const me=d.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Z("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));me.displayName="TableCell";const b3=d.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Z("mt-4 text-sm text-muted-foreground",e),...t}));b3.displayName="TableCaption";const nm="https://script.google.com/macros/s/AKfycbxp2QQhGeF1dgQgqBsOkC5b01iLP6YPrfhaSX7yvJ6CGC2aevDL9Aa_7mnD4Nf0wOrfBg/exec";async function S3(e){try{const t={id:e.id,traceDate:e.traceDate,productType:e.productType,brand:e.brand,batchLotInfo:e.batchLotInfo,supplierName:e.supplierName,supplierContact:e.supplierContact,manufacturerName:e.manufacturerName,manufacturerContact:e.manufacturerContact,dateReceived:e.dateReceived,performedBy:e.performedBy,otherInfo:e.otherInfo,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(nm,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error saving traceability record to Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function C3(e){try{const t={id:e.id,traceDate:e.traceDate,productType:e.productType,brand:e.brand,batchLotInfo:e.batchLotInfo,supplierName:e.supplierName,supplierContact:e.supplierContact,manufacturerName:e.manufacturerName,manufacturerContact:e.manufacturerContact,dateReceived:e.dateReceived,performedBy:e.performedBy,otherInfo:e.otherInfo,createdAt:e.createdAt,updatedAt:new Date().toISOString(),status:"deleted",unixTimestamp:Math.floor(new Date(e.createdAt).getTime()/1e3)};return await fetch(nm,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),{success:!0}}catch(t){return console.error("Error deleting traceability record from Google Sheets:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const aa=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{e({isLoading:!0,fetchError:null});try{const r=await fetch(nm,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({records:s.data,lastFetchTime:new Date().toISOString(),fetchError:null});else throw new Error(s.error||"Failed to fetch traceability records")}catch(r){console.error("Error fetching traceability records from Google Sheets:",r),e({fetchError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.traceDate).getTime()-new Date(s.traceDate).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-traceability"}));function k3({onComplete:e,onCancel:t}){const[r,s]=d.useState(1),a=aa($=>$.addRecord),[o,i]=d.useState(new Date().toISOString().split("T")[0]),[l,c]=d.useState(""),[u,h]=d.useState(""),[m,p]=d.useState(""),[g,j]=d.useState(""),[v,N]=d.useState(""),[f,x]=d.useState(!0),[y,w]=d.useState(""),[C,R]=d.useState(""),[k,D]=d.useState(""),[b,S]=d.useState(""),[T,E]=d.useState(""),I=3,z=r/I*100,F=()=>o.trim().length>0&&l.trim().length>0&&u.trim().length>0&&m.trim().length>0,B=()=>{const $=g.trim().length>0&&v.trim().length>0;return f?$:$&&y.trim().length>0&&C.trim().length>0},G=()=>b.trim().length>0,A=()=>r===1?F():r===2?B():r===3?G():!1,_=()=>{A()&&r<I&&s(r+1)},L=()=>{r>1&&s(r-1)},P=async()=>{if(!A())return;const oe={id:`trace-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,traceDate:o,productType:l,brand:u,batchLotInfo:m,supplierName:g,supplierContact:v,manufacturerName:f?g:y,manufacturerContact:f?v:C,dateReceived:k.trim().length>0?k:void 0,performedBy:b,otherInfo:T.trim().length>0?T:void 0,createdAt:new Date().toISOString(),status:"active"};a(oe),await S3(oe),e()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ",r," of ",I]})}),n.jsx(Ae,{value:z,className:"h-2"})]}),r===1&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Product Information"}),n.jsx(Ne,{children:"Details about the product being traced"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"traceDate",children:"Date of Trace Exercise *"}),n.jsx(W,{id:"traceDate",type:"date",value:o,onChange:$=>i($.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"productType",children:"Product Type *"}),n.jsx(W,{id:"productType",placeholder:"e.g., Dumpling wrapper, Beef mince, Chicken breast",value:l,onChange:$=>c($.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"brand",children:"Brand *"}),n.jsx(W,{id:"brand",placeholder:"e.g., Ying Yang, Tegel, Anchor",value:u,onChange:$=>h($.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"batchLotInfo",children:"Batch / Lot Information *"}),n.jsx(W,{id:"batchLotInfo",placeholder:"e.g., SGH117801, Batch #2024-0712",value:m,onChange:$=>p($.target.value),required:!0})]})]})]}),r===2&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Supplier & Manufacturer"}),n.jsx(Ne,{children:"Contact details for supplier and manufacturer"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"supplierName",children:"Supplier Name *"}),n.jsx(W,{id:"supplierName",placeholder:"e.g., Ying Yang Manufacturing Co",value:g,onChange:$=>j($.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"supplierContact",children:"Supplier Contact Details *"}),n.jsx(le,{id:"supplierContact",placeholder:`Phone, email, address
e.g., +86 23445657
alanlee@yingyang.co.cn`,value:v,onChange:$=>N($.target.value),rows:3,required:!0})]}),n.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[n.jsx(Vn,{id:"sameAsSupplier",checked:f,onCheckedChange:$=>x($===!0)}),n.jsx(O,{htmlFor:"sameAsSupplier",className:"font-normal cursor-pointer",children:"Manufacturer is the same as supplier"})]}),!f&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"manufacturerName",children:"Manufacturer Name *"}),n.jsx(W,{id:"manufacturerName",placeholder:"e.g., Ying Yang Manufacturing Co, Shanghai",value:y,onChange:$=>w($.target.value),required:!f})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"manufacturerContact",children:"Manufacturer Contact Details *"}),n.jsx(le,{id:"manufacturerContact",placeholder:`Contact person, phone, email
e.g., Mr Alan Lee, owner
tel +86 23445657
Email: alanlee@yingyang.co.cn`,value:C,onChange:$=>R($.target.value),rows:4,required:!f})]})]})]})]}),r===3&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Additional Details"}),n.jsx(Ne,{children:"Additional information about the trace exercise"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"dateReceived",children:"Date Product Received"}),n.jsx(W,{id:"dateReceived",type:"date",value:k,onChange:$=>D($.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: When was this product received?"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"performedBy",children:"Trace Performed By *"}),n.jsx(W,{id:"performedBy",placeholder:"Person who performed this trace",value:b,onChange:$=>S($.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"otherInfo",children:"Other Information"}),n.jsx(le,{id:"otherInfo",placeholder:`Additional details such as:
- Certificates of registration
- Registration numbers
- Transportation details
- Product specifications
- Compliance with NZ Food Standards`,value:T,onChange:$=>E($.target.value),rows:8}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Certificates, registration, transportation, specifications, etc."})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Review Summary"}),n.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Product:"})," ",l," (",u,")"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Batch:"})," ",m]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Supplier:"})," ",g]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(o).toLocaleDateString()]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(M,{type:"button",variant:"outline",onClick:r===1?t:L,children:[n.jsx(iu,{className:"w-4 h-4 mr-2"}),r===1?"Cancel":"Back"]}),r<I?n.jsxs(M,{onClick:_,disabled:!A(),children:["Next",n.jsx(_s,{className:"w-4 h-4 ml-2"})]}):n.jsxs(M,{onClick:P,disabled:!A(),children:[n.jsx(gg,{className:"w-4 h-4 mr-2"}),"Save Trace Record"]})]})]})}function E3(){const[e,t]=d.useState(!1),[r,s]=d.useState(new Set),a=aa(h=>h.getRecords()),o=aa(h=>h.deleteRecord),i=aa(h=>h.fetchFromGoogleSheets),l=aa(h=>h.isLoading);d.useEffect(()=>{i()},[i]);const c=async h=>{window.confirm("Are you sure you want to delete this traceability record?")&&(o(h.id),await C3(h))},u=h=>{const m=new Set(r);m.has(h)?m.delete(h):m.add(h),s(m)};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Trace Your Food"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Document traceability exercises from supplier to customer"})]}),n.jsxs(M,{onClick:()=>t(!0),children:[n.jsx(he,{className:"w-4 h-4 mr-2"}),"Add Trace Record"]})]}),n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Traceability Exercise Log"}),n.jsx(Ne,{children:'MPI requires proof of "one step back, one step forward" traceability for recalls'})]}),n.jsx(q,{children:l?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading records..."}):a.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No traceability records yet"}),n.jsx("p",{className:"text-sm",children:"Start by adding your first trace exercise"})]}):n.jsxs(ro,{children:[n.jsx(so,{children:n.jsxs(Vt,{children:[n.jsx(ge,{className:"w-12"}),n.jsx(ge,{children:"Date"}),n.jsx(ge,{children:"Product"}),n.jsx(ge,{children:"Brand"}),n.jsx(ge,{children:"Batch/Lot"}),n.jsx(ge,{children:"Supplier"}),n.jsx(ge,{children:"Performed By"}),n.jsx(ge,{className:"w-24",children:"Actions"})]})}),n.jsx(ao,{children:a.map(h=>{const m=r.has(h.id);return n.jsxs(n.Fragment,{children:[n.jsxs(Vt,{className:"cursor-pointer hover:bg-muted/50",children:[n.jsx(me,{onClick:()=>u(h.id),children:m?n.jsx(cn,{className:"w-4 h-4"}):n.jsx(_s,{className:"w-4 h-4"})}),n.jsx(me,{onClick:()=>u(h.id),children:new Date(h.traceDate).toLocaleDateString()}),n.jsx(me,{onClick:()=>u(h.id),children:h.productType}),n.jsx(me,{onClick:()=>u(h.id),children:h.brand}),n.jsx(me,{onClick:()=>u(h.id),children:n.jsx(tr,{variant:"outline",children:h.batchLotInfo})}),n.jsx(me,{onClick:()=>u(h.id),children:h.supplierName}),n.jsx(me,{onClick:()=>u(h.id),children:h.performedBy}),n.jsx(me,{children:n.jsx(M,{variant:"ghost",size:"icon",onClick:p=>{p.stopPropagation(),c(h)},children:n.jsx(Ft,{className:"w-4 h-4 text-destructive"})})})]},h.id),m&&n.jsx(Vt,{children:n.jsx(me,{colSpan:8,className:"bg-muted/30",children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Supplier Details"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",h.supplierName]}),n.jsxs("p",{className:"whitespace-pre-wrap",children:[n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("br",{}),h.supplierContact]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Manufacturer Details"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",h.manufacturerName]}),n.jsxs("p",{className:"whitespace-pre-wrap",children:[n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("br",{}),h.manufacturerContact]})]})]})]}),h.dateReceived&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Date Received"}),n.jsx("p",{className:"text-sm",children:new Date(h.dateReceived).toLocaleDateString()})]}),h.otherInfo&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Other Information"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.otherInfo})]}),n.jsx("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:n.jsxs("p",{children:["Record created: ",new Date(h.createdAt).toLocaleString()]})})]})})},`${h.id}-details`)]})})})]})})]}),n.jsx(Ue,{open:e,onOpenChange:t,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Le,{children:[n.jsx(Be,{children:"Add Traceability Record"}),n.jsx(Bu,{children:"Document a product trace from supplier to customer for MPI compliance"})]}),n.jsx(k3,{onComplete:()=>t(!1),onCancel:()=>t(!1)})]})})]})}async function T3(e){return console.warn(" Google Sheets URL not configured"),{success:!1,error:"Google Sheets URL not configured"}}async function D3(e){return console.warn(" Google Sheets URL not configured"),{success:!1,error:"Google Sheets URL not configured"}}const oa=Me()(Pe((e,t)=>({records:[],isLoading:!1,lastFetchTime:null,fetchError:null,fetchFromGoogleSheets:async()=>{{console.warn(" Google Sheets URL not configured"),e({fetchError:"Google Sheets URL not configured"});return}},addRecord:r=>e(s=>({records:[r,...s.records]})),updateRecord:(r,s)=>e(a=>({records:a.records.map(o=>o.id===r?{...o,...s,updatedAt:new Date().toISOString()}:o)})),deleteRecord:r=>e(s=>({records:s.records.map(a=>a.id===r?{...a,status:"deleted",updatedAt:new Date().toISOString()}:a)})),getRecords:()=>t().records.filter(s=>s.status!=="deleted").sort((s,a)=>new Date(a.purchaseDate).getTime()-new Date(s.purchaseDate).getTime()),getRecordById:r=>t().records.find(s=>s.id===r)}),{name:"taquero-complaints"}));function R3({onComplete:e,onCancel:t}){const[r,s]=d.useState(1),a=oa(Q=>Q.addRecord),o=We(Q=>Q.currentUser),[i,l]=d.useState(""),[c,u]=d.useState(""),[h,m]=d.useState(new Date().toISOString().split("T")[0]),[p,g]=d.useState(""),[j,v]=d.useState(""),[N,f]=d.useState(""),[x,y]=d.useState(""),[w,C]=d.useState(void 0),[R,k]=d.useState(""),[D,b]=d.useState(""),[S,T]=d.useState((o==null?void 0:o.name)||""),[E,I]=d.useState(""),z=6,F=r/z*100,B=["Illness/Sickness","Foreign Object","Quality Issue","Temperature Issue","Allergen Issue","Other"],G=()=>i.trim().length>0&&c.trim().length>0,A=()=>h.trim().length>0&&p.trim().length>0&&j.trim().length>0,_=()=>x.trim().length>0,L=()=>R.trim().length>0,P=()=>D.trim().length>0,$=()=>S.trim().length>0,oe=()=>r===1?G():r===2?A():r===3?_():r===4?L():r===5?P():r===6?$():!1,ce=()=>{oe()&&r<z&&s(r+1)},ot=()=>{r>1&&s(r-1)},ke=async()=>{if(!oe())return;const _t={id:`complaint-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,customerName:i,customerContact:c,purchaseDate:h,purchaseTime:p,foodItem:j,batchLotNumber:N.trim().length>0?N:void 0,complaintDescription:x,complaintType:w,causeInvestigation:R,actionTakenPreventive:D,resolvedBy:S,resolutionDate:new Date().toISOString().split("T")[0],complaintStatus:"Under Investigation",notes:E.trim().length>0?E:void 0,createdAt:new Date().toISOString(),status:"active"};a(_t),await T3(),e()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ",r," of ",z]})}),n.jsx(Ae,{value:F,className:"h-2"})]}),r===1&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Customer Information"}),n.jsx(Ne,{children:"Who made the complaint?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"customerName",children:"Customer Name *"}),n.jsx(W,{id:"customerName",className:"h-16 text-xl",placeholder:"e.g., Fred Smith",value:i,onChange:Q=>l(Q.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"customerContact",children:"Customer Contact Details *"}),n.jsx(W,{id:"customerContact",className:"h-16 text-xl",placeholder:"e.g., +64 23 456 789 or email@example.com",value:c,onChange:Q=>u(Q.target.value),required:!0})]})]})]}),r===2&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Purchase Details"}),n.jsx(Ne,{children:"When and what did they purchase?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"purchaseDate",children:"Date of Purchase *"}),n.jsx(W,{id:"purchaseDate",type:"date",value:h,onChange:Q=>m(Q.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"purchaseTime",children:"Time of Purchase *"}),n.jsx(W,{id:"purchaseTime",placeholder:"e.g., 12:30 PM, Lunch time",value:p,onChange:Q=>g(Q.target.value),required:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Approximate time is fine"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"foodItem",children:"Food Item Purchased *"}),n.jsx(W,{id:"foodItem",placeholder:"e.g., Mince and cheese pie",value:j,onChange:Q=>v(Q.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"batchLotNumber",children:"Batch / Lot Number"}),n.jsx(W,{id:"batchLotNumber",placeholder:"e.g., Batch made Monday morning (if known)",value:N,onChange:Q=>f(Q.target.value)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: If known"})]})]})]}),r===3&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Complaint Description"}),n.jsx(Ne,{children:"What is the complaint?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"complaintDescription",children:"Complaint *"}),n.jsx(le,{id:"complaintDescription",placeholder:`e.g., Claims pie made them sick

Describe what the customer reported...`,value:x,onChange:Q=>y(Q.target.value),rows:6,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{children:"Complaint Type (Optional Helper)"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(Q=>n.jsx(V,{className:`cursor-pointer transition-colors ${w===Q?"border-primary bg-primary/10":"hover:bg-muted/50"}`,onClick:()=>C(Q),children:n.jsx(q,{className:"p-4",children:n.jsx("p",{className:"text-sm font-medium",children:Q})})},Q))})]})]})]}),r===4&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Investigation & Cause"}),n.jsx(Ne,{children:"What did you find? What caused the problem?"})]}),n.jsx(q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"causeInvestigation",children:"Cause of the Problem *"}),n.jsx(le,{id:"causeInvestigation",placeholder:`e.g., See investigation below. Does not appear to be caused by us

What records did you check?
What did you find?
Was it your fault or not?`,value:R,onChange:Q=>k(Q.target.value),rows:8,required:!0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Document your investigation: What records you checked, what you found, conclusion"})]})})]}),r===5&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Preventive Actions"}),n.jsx(Ne,{children:"What action was taken to stop it happening again?"})]}),n.jsx(q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"actionTakenPreventive",children:"Action Taken to Stop It Happening Again *"}),n.jsx(le,{id:"actionTakenPreventive",placeholder:`e.g., I showed Mr Smith our cooking records for Monday's batch of pies.
I also showed him our hot holding record.
I suggested he speaks to the local council EHO about the matter and if he was still ill his doctor would be able to help as well.

OR

Retrain staff on proper cooking temps
Update our cooking checklist
Increase monitoring frequency`,value:D,onChange:Q=>b(Q.target.value),rows:8,required:!0})]})})]}),r===6&&n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Resolution"}),n.jsx(Ne,{children:"Who managed this complaint?"})]}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"resolvedBy",children:"Managed By or Resolved By *"}),n.jsx(W,{id:"resolvedBy",placeholder:"Staff name",value:S,onChange:Q=>T(Q.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(le,{id:"notes",placeholder:"Any additional information...",value:E,onChange:Q=>I(Q.target.value),rows:4})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Review Summary"}),n.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",i]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Food:"})," ",j]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(h).toLocaleDateString()," at ",p]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Managed By:"})," ",S]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(M,{type:"button",variant:"outline",onClick:r===1?t:ot,children:[n.jsx(iu,{className:"w-4 h-4 mr-2"}),r===1?"Cancel":"Back"]}),r<z?n.jsxs(M,{onClick:ce,disabled:!oe(),children:["Next",n.jsx(_s,{className:"w-4 h-4 ml-2"})]}):n.jsxs(M,{onClick:ke,disabled:!oe(),children:[n.jsx(gg,{className:"w-4 h-4 mr-2"}),"Save Complaint"]})]})]})}function M3(){const[e,t]=d.useState(!1),[r,s]=d.useState(new Set),a=oa(m=>m.getRecords()),o=oa(m=>m.deleteRecord),i=oa(m=>m.fetchFromGoogleSheets),l=oa(m=>m.isLoading);d.useEffect(()=>{i()},[i]);const c=async m=>{window.confirm("Are you sure you want to delete this complaint record?")&&(o(m.id),await D3())},u=m=>{const p=new Set(r);p.has(m)?p.delete(m):p.add(m),s(p)},h=m=>{const p={"Under Investigation":"default","Resolved - Our Fault":"destructive","Resolved - Not Our Fault":"secondary","Resolved - Inconclusive":"outline",Ongoing:"default"};return n.jsx(tr,{variant:p[m]||"default",children:m})};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Customer Complaints Information"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Track and investigate customer complaints for MPI compliance"})]}),n.jsxs(M,{onClick:()=>t(!0),children:[n.jsx(he,{className:"w-4 h-4 mr-2"}),"Add Complaint"]})]}),n.jsxs(V,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Complaint Log"}),n.jsx(Ne,{children:"Document complaints, investigations, and resolutions to show MPI you take complaints seriously"})]}),n.jsx(q,{children:l?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading records..."}):a.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yb,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No complaint records yet"}),n.jsx("p",{className:"text-sm",children:"Start by adding your first customer complaint"})]}):n.jsxs(ro,{children:[n.jsx(so,{children:n.jsxs(Vt,{children:[n.jsx(ge,{className:"w-12"}),n.jsx(ge,{children:"Date"}),n.jsx(ge,{children:"Customer"}),n.jsx(ge,{children:"Food Item"}),n.jsx(ge,{children:"Complaint Type"}),n.jsx(ge,{children:"Status"}),n.jsx(ge,{children:"Resolved By"}),n.jsx(ge,{className:"w-24",children:"Actions"})]})}),n.jsx(ao,{children:a.map(m=>{const p=r.has(m.id);return n.jsxs(n.Fragment,{children:[n.jsxs(Vt,{className:"cursor-pointer hover:bg-muted/50",children:[n.jsx(me,{onClick:()=>u(m.id),children:p?n.jsx(cn,{className:"w-4 h-4"}):n.jsx(_s,{className:"w-4 h-4"})}),n.jsx(me,{onClick:()=>u(m.id),children:new Date(m.purchaseDate).toLocaleDateString()}),n.jsx(me,{onClick:()=>u(m.id),children:m.customerName}),n.jsx(me,{onClick:()=>u(m.id),children:m.foodItem}),n.jsx(me,{onClick:()=>u(m.id),children:m.complaintType?n.jsx(tr,{variant:"outline",children:m.complaintType}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),n.jsx(me,{onClick:()=>u(m.id),children:h(m.complaintStatus)}),n.jsx(me,{onClick:()=>u(m.id),children:m.resolvedBy}),n.jsx(me,{children:n.jsx(M,{variant:"ghost",size:"icon",onClick:g=>{g.stopPropagation(),c(m)},children:n.jsx(Ft,{className:"w-4 h-4 text-destructive"})})})]},m.id),p&&n.jsx(Vt,{children:n.jsx(me,{colSpan:8,className:"bg-muted/30",children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Customer Details"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",m.customerName]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Contact:"})," ",m.customerContact]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Purchase Details"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",new Date(m.purchaseDate).toLocaleDateString()]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Time:"})," ",m.purchaseTime]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Food:"})," ",m.foodItem]}),m.batchLotNumber&&n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Batch/Lot:"})," ",m.batchLotNumber]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Complaint"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.complaintDescription})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Investigation & Cause"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.causeInvestigation})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Action Taken Immediately"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.actionTakenImmediate})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Action to Prevent Recurrence"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.actionTakenPreventive})]})]}),m.linkedIncidentId&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Linked Incident Record"}),n.jsx("p",{className:"text-sm",children:n.jsx(tr,{children:m.linkedIncidentId})})]}),m.notes&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Additional Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.notes})]}),n.jsxs("div",{className:"pt-2 border-t text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Resolved: ",new Date(m.resolutionDate).toLocaleDateString()," ","by ",m.resolvedBy]}),n.jsxs("p",{children:["Record created: ",new Date(m.createdAt).toLocaleString()]})]})]})})},`${m.id}-details`)]})})})]})})]}),n.jsx(Ue,{open:e,onOpenChange:t,children:n.jsxs(_e,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Le,{children:[n.jsx(Be,{children:"Add Customer Complaint"}),n.jsx(Bu,{children:"Document the complaint, investigation, and resolution for MPI compliance"})]}),n.jsx(R3,{onComplete:()=>t(!1),onCancel:()=>t(!1)})]})})]})}const gf=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Js="https://script.google.com/macros/s/AKfycbzUX1FIp1LkGstKP0j2sVs-VUPpDRoJ2D9lnwwT8-bP9MuSNfwPBuocJ5ob0Xym5QTz/exec",Vr=Me()(Pe((e,t)=>({staffMembers:[],isLoading:!1,isSyncing:!1,lastSyncTime:null,syncError:null,setLoading:r=>{e({isLoading:r})},setSyncing:r=>{e({isSyncing:r})},fetchFromGoogleSheets:async()=>{if(console.log(" fetchFromGoogleSheets called"),Js.includes("YOUR_DEPLOYMENT_ID")){console.warn("Google Sheets webhook not configured yet");return}console.log(" Fetching from:",Js),e({isLoading:!0,syncError:null});try{const r=await fetch(Js,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success&&s.data)e({staffMembers:s.data,lastSyncTime:new Date().toISOString(),syncError:null});else throw new Error(s.error||"Failed to fetch data")}catch(r){console.error("Error fetching from Google Sheets:",r),e({syncError:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},syncToGoogleSheets:async(r,s)=>{if(Js.includes("YOUR_DEPLOYMENT_ID")){console.warn("Google Sheets webhook not configured yet");return}e({isSyncing:!0});try{const a=new URLSearchParams;a.append("action",r),a.append("data",JSON.stringify(s)),a.append("timestamp",new Date().toISOString());const o=await fetch(Js,{method:"POST",body:a});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const i=await o.json();if(i.success)e({lastSyncTime:new Date().toISOString(),syncError:null});else throw new Error(i.error||"Sync failed")}catch(a){console.error("Google Sheets sync error:",a),e({syncError:a instanceof Error?a.message:"Sync failed"})}finally{e({isSyncing:!1})}},addStaffMember:async r=>{const s={...r,id:gf(),createdAt:new Date().toISOString(),trainingRecords:[]};e(a=>({staffMembers:[...a.staffMembers,s]})),await t().syncToGoogleSheets("addStaff",s)},updateStaffMember:async(r,s)=>{e(o=>({staffMembers:o.staffMembers.map(i=>i.id===r?{...i,...s}:i)}));const a=t().staffMembers.find(o=>o.id===r);a&&await t().syncToGoogleSheets("updateStaff",a)},deleteStaffMember:async r=>{const s=t().staffMembers.find(a=>a.id===r);e(a=>({staffMembers:a.staffMembers.filter(o=>o.id!==r)})),s&&await t().syncToGoogleSheets("deleteStaff",{id:r})},addTrainingRecord:async(r,s)=>{const a={...s,id:gf(),staffId:r};e(o=>({staffMembers:o.staffMembers.map(i=>i.id===r?{...i,trainingRecords:[a,...i.trainingRecords]}:i)})),await t().syncToGoogleSheets("addTraining",a)},updateTrainingRecord:async(r,s,a)=>{e(l=>({staffMembers:l.staffMembers.map(c=>c.id===r?{...c,trainingRecords:c.trainingRecords.map(u=>u.id===s?{...u,...a}:u)}:c)}));const o=t().staffMembers.find(l=>l.id===r),i=o==null?void 0:o.trainingRecords.find(l=>l.id===s);i&&await t().syncToGoogleSheets("updateTraining",i)},deleteTrainingRecord:async(r,s)=>{e(a=>({staffMembers:a.staffMembers.map(o=>o.id===r?{...o,trainingRecords:o.trainingRecords.filter(i=>i.id!==s)}:o)})),await t().syncToGoogleSheets("deleteTraining",{id:s,staffId:r})},getStaffMember:r=>t().staffMembers.find(s=>s.id===r)}),{name:"taquero-staff-training"}));function P3(e,t){const r=_3(t);return"formatToParts"in r?O3(r,e):I3(r,e)}const A3={year:0,month:1,day:2,hour:3,minute:4,second:5};function O3(e,t){try{const r=e.formatToParts(t),s=[];for(let a=0;a<r.length;a++){const o=A3[r[a].type];o!==void 0&&(s[o]=parseInt(r[a].value,10))}return s}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function I3(e,t){const r=e.format(t),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(s[3],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[4],10),parseInt(s[5],10),parseInt(s[6],10)]}const Ql={},vf=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),F3=vf==="06/25/2014, 00:00:00"||vf==="06/25/2014 00:00:00";function _3(e){return Ql[e]||(Ql[e]=F3?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Ql[e]}function Pj(e,t,r,s,a,o,i){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(s,a,o,i),l}const yf=36e5,L3=6e4,Zl={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Aj(e,t,r){if(!e)return 0;let s=Zl.timezoneZ.exec(e);if(s)return 0;let a,o;if(s=Zl.timezoneHH.exec(e),s)return a=parseInt(s[1],10),jf(a)?-(a*yf):NaN;if(s=Zl.timezoneHHMM.exec(e),s){a=parseInt(s[2],10);const i=parseInt(s[3],10);return jf(a,i)?(o=Math.abs(a)*yf+i*L3,s[1]==="+"?-o:o):NaN}if($3(e)){t=new Date(t||Date.now());const i=r?t:B3(t),l=ad(i,e);return-(r?l:z3(t,l,e))}return NaN}function B3(e){return Pj(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ad(e,t){const r=P3(e,t),s=Pj(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=e.getTime();const o=a%1e3;return a-=o>=0?o:1e3+o,s-a}function z3(e,t,r){let a=e.getTime()-t;const o=ad(new Date(a),r);if(t===o)return t;a-=o-t;const i=ad(new Date(a),r);return o===i?o:Math.max(o,i)}function jf(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const Nf={};function $3(e){if(Nf[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Nf[e]=!0,!0}catch{return!1}}function wf(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const W3=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Xl=36e5,bf=6e4,U3=2,tt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:W3};function G3(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?U3:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const s=H3(e),{year:a,restDateString:o}=V3(s.date,r),i=Y3(o,a);if(i===null||isNaN(i.getTime()))return new Date(NaN);if(i){const l=i.getTime();let c=0,u;if(s.time&&(c=q3(s.time),c===null||isNaN(c)))return new Date(NaN);if(s.timeZone||t.timeZone){if(u=Aj(s.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=wf(new Date(l+c)),u=wf(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function H3(e){const t={};let r=tt.dateTimePattern.exec(e),s;if(r?(t.date=r[1],s=r[3]):(r=tt.datePattern.exec(e),r?(t.date=r[1],s=r[2]):(t.date=null,s=e)),s){const a=tt.timeZone.exec(s);a?(t.time=s.replace(a[1],""),t.timeZone=a[1].trim()):t.time=s}return t}function V3(e,t){if(e){const r=tt.YYY[t],s=tt.YYYYY[t];let a=tt.YYYY.exec(e)||s.exec(e);if(a){const o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=tt.YY.exec(e)||r.exec(e),a){const o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}}return{year:null}}function Y3(e,t){if(t===null)return null;let r,s,a;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let o=tt.MM.exec(e);if(o)return r=new Date(0),s=parseInt(o[1],10)-1,Cf(t,s)?(r.setUTCFullYear(t,s),r):new Date(NaN);if(o=tt.DDD.exec(e),o){r=new Date(0);const i=parseInt(o[1],10);return Z3(t,i)?(r.setUTCFullYear(t,0,i),r):new Date(NaN)}if(o=tt.MMDD.exec(e),o){r=new Date(0),s=parseInt(o[1],10)-1;const i=parseInt(o[2],10);return Cf(t,s,i)?(r.setUTCFullYear(t,s,i),r):new Date(NaN)}if(o=tt.Www.exec(e),o)return a=parseInt(o[1],10)-1,kf(a)?Sf(t,a):new Date(NaN);if(o=tt.WwwD.exec(e),o){a=parseInt(o[1],10)-1;const i=parseInt(o[2],10)-1;return kf(a,i)?Sf(t,a,i):new Date(NaN)}return null}function q3(e){let t,r,s=tt.HH.exec(e);if(s)return t=parseFloat(s[1].replace(",",".")),Jl(t)?t%24*Xl:NaN;if(s=tt.HHMM.exec(e),s)return t=parseInt(s[1],10),r=parseFloat(s[2].replace(",",".")),Jl(t,r)?t%24*Xl+r*bf:NaN;if(s=tt.HHMMSS.exec(e),s){t=parseInt(s[1],10),r=parseInt(s[2],10);const a=parseFloat(s[3].replace(",","."));return Jl(t,r,a)?t%24*Xl+r*bf+a*1e3:NaN}return null}function Sf(e,t,r){t=t||0,r=r||0;const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,o=t*7+r+1-a;return s.setUTCDate(s.getUTCDate()+o),s}const K3=[31,28,31,30,31,30,31,31,30,31,30,31],Q3=[31,29,31,30,31,30,31,31,30,31,30,31];function Oj(e){return e%400===0||e%4===0&&e%100!==0}function Cf(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const s=Oj(e);if(s&&r>Q3[t]||!s&&r>K3[t])return!1}return!0}function Z3(e,t){if(t<1)return!1;const r=Oj(e);return!(r&&t>366||!r&&t>365)}function kf(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function Jl(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}function rm(e,t,r){e=G3(e,r);const s=Aj(t,e,!0),a=new Date(e.getTime()-s),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}const sm="Pacific/Auckland";function Di(e){try{const t=typeof e=="string"?new Date(e):e,r=rm(t,sm);return yn(r,"dd/MM/yyyy")}catch(t){return console.error("Error formatting date:",t),"Invalid date"}}function ec(){const t=rm(new Date,sm);return yn(t,"yyyy-MM-dd")}function X3(){const t=rm(new Date,sm);return yn(t,"dd MMMM yyyy, HH:mm")}function J3(){const{staffMembers:e}=Vr(),t=()=>{window.print()};return e.length===0?null:n.jsxs(n.Fragment,{children:[n.jsxs(V,{className:"mt-8",children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(hg,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(J,{children:"Training Records - All Staff"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Official records for health inspector review"})]})]}),n.jsx(M,{onClick:t,variant:"outline",size:"icon",className:"print:hidden h-10 w-10",children:n.jsx(xg,{className:"h-4 w-4"})})]})}),n.jsxs(q,{children:[n.jsx("div",{className:"space-y-8",children:e.map(r=>n.jsxs("div",{className:"space-y-4 pb-8 border-b last:border-0 last:pb-0",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-semibold",children:r.name}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.trainingRecords.length," training record",r.trainingRecords.length!==1?"s":""]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Position:"})," ",n.jsx("span",{className:"font-medium",children:r.position})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Start Date:"})," ",n.jsx("span",{className:"font-medium",children:r.createdAt?Di(r.createdAt):"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",n.jsx("span",{className:"font-medium",children:r.email||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",n.jsx("span",{className:"font-medium",children:r.phone||"Not provided"})]})]})]}),r.trainingRecords.length>0?n.jsx("div",{className:"rounded-md border",children:n.jsxs(ro,{children:[n.jsx(so,{children:n.jsxs(Vt,{children:[n.jsx(ge,{className:"w-[50%]",children:"Topic (Part of plan covered)"}),n.jsx(ge,{className:"text-center w-[20%]",children:"Staff's name"}),n.jsx(ge,{className:"text-center w-[15%]",children:"Trainer initials"}),n.jsx(ge,{className:"text-center w-[15%]",children:"Date"})]})}),n.jsx(ao,{children:r.trainingRecords.map(s=>n.jsxs(Vt,{children:[n.jsx(me,{className:"font-medium",children:n.jsxs("div",{children:[n.jsx("div",{children:s.topic.split("(")[0].trim()}),s.topic.includes("(")&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["(",s.topic.split("(")[1]]})]})}),n.jsx(me,{className:"text-center",children:n.jsx("span",{className:"font-mono font-bold text-lg",children:r.initials})}),n.jsx(me,{className:"text-center",children:n.jsx("span",{className:"font-mono font-bold text-base",children:s.trainerInitials})}),n.jsx(me,{className:"text-center",children:Di(s.date)})]},s.id))})]})}):n.jsx("div",{className:"text-center py-8 text-muted-foreground border rounded-md",children:"No training records yet"})]},r.id))}),n.jsx("div",{className:"mt-6 pt-6 border-t text-xs text-muted-foreground",children:n.jsxs("p",{children:["Generated: ",X3()]})})]})]}),n.jsx("style",{children:`
        @media print {
          body {
            background: white !important;
          }
          * {
            color: black !important;
            background: white !important;
            border-color: #000 !important;
          }
          .print\\:hidden {
            display: none !important;
          }
          @page {
            margin: 1.5cm;
            size: A4;
          }
          table {
            page-break-inside: auto;
          }
          tr {
            page-break-inside: avoid;
            page-break-after: auto;
          }
          thead {
            display: table-header-group;
          }
          h3 {
            page-break-after: avoid;
          }
        }
      `})]})}function e4(){const e=It(),{staffMembers:t,isLoading:r,fetchFromGoogleSheets:s}=Vr();d.useEffect(()=>{s()},[s]);const a=i=>{e(`/module/staff-training/${i}`)},o=()=>{e("/module/staff-training/add")};return r?n.jsx("div",{className:"max-w-md mx-auto px-4",children:n.jsxs("div",{className:"text-center space-y-6 py-12",children:[n.jsx(Fe,{className:"h-12 w-12 animate-spin mx-auto text-muted-foreground"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Loading Staff Data"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Fetching from Google Sheets..."})]})]})}):t.length===0?n.jsx("div",{className:"max-w-md mx-auto px-4",children:n.jsxs("div",{className:"text-center space-y-6 py-12",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-2xl font-semibold",children:"No Staff Members Yet"}),n.jsx("p",{className:"text-muted-foreground text-base",children:"Get started by adding your first team member"})]}),n.jsxs(M,{size:"lg",onClick:o,className:"h-14 px-8 text-base font-medium min-h-[56px] w-full sm:w-auto",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:[n.jsx(he,{className:"h-5 w-5 mr-2"}),"Add Staff Member"]})]})}):n.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto px-4 print:max-w-full",children:[n.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Staff Training Records"}),n.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[t.length," team member",t.length!==1?"s":""]})]}),n.jsxs(M,{size:"lg",onClick:o,className:"h-12 px-6 min-h-[48px]",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:[n.jsx(he,{className:"h-4 w-4 mr-2"}),"Add Staff"]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 print:hidden",children:t.map((i,l)=>n.jsx(V,{onClick:()=>a(i.id),className:"p-6 cursor-pointer group transition-all duration-300 ease-in-out hover:scale-[1.02] hover:-translate-y-1 hover:shadow-lg hover:shadow-primary/10 hover:border-primary/50 active:scale-[0.98] active:translate-y-0 min-h-[80px] animate-in fade-in slide-in-from-bottom-4",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent",animationDelay:`${l*50}ms`},children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center transition-all duration-300 group-hover:bg-primary/20 group-hover:scale-110",children:n.jsx(Xa,{className:"h-6 w-6 text-primary transition-transform duration-300 group-hover:scale-110"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-lg truncate",children:i.name}),n.jsx("p",{className:"text-muted-foreground text-sm truncate",children:i.position}),i.trainingRecords.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[i.trainingRecords.length," training record",i.trainingRecords.length!==1?"s":""]})]})]})},i.id))}),n.jsx(J3,{})]})}const od=new Map;let t4=0;const Ri=new Set;let Rr=[];function n4(e){const t=`toast-${++t4}`,r={...e,id:t};Rr=[...Rr,r],Ri.forEach(a=>a(Rr));const s=setTimeout(()=>{Ij(t)},4e3);od.set(t,s)}function Ij(e){const t=od.get(e);t&&(clearTimeout(t),od.delete(e)),Rr=Rr.filter(r=>r.id!==e),Ri.forEach(r=>r(Rr))}function cl(){const[e,t]=d.useState(Rr),r=d.useCallback(o=>(Ri.add(o),()=>Ri.delete(o)),[]);d.useState(()=>r(t));const s=d.useCallback(o=>{n4(o)},[]),a=d.useCallback(o=>{Ij(o)},[]);return{toast:s,dismiss:a,toasts:e}}function r4({staffId:e,staffName:t,records:r}){const{deleteTrainingRecord:s}=Vr(),{toast:a}=cl(),[o,i]=d.useState(!1),[l,c]=d.useState(null),u=m=>{c(m),i(!0)},h=async()=>{if(l)try{await s(e,l.id),a({title:"Training Record Deleted",description:`Removed training record for ${t}`}),i(!1),c(null)}catch(m){console.error("Error deleting training record:",m),a({title:"Error",description:"Failed to delete training record. Please try again.",variant:"destructive"})}};return r.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground border rounded-md bg-card",children:[n.jsx("p",{className:"text-base",children:"No training records yet"}),n.jsx("p",{className:"text-sm mt-2",children:'Click "Log Training Record" to add a new entry'})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"rounded-md border overflow-hidden",children:n.jsxs(ro,{children:[n.jsx(so,{children:n.jsxs(Vt,{className:"bg-muted/50",children:[n.jsxs(ge,{className:"font-semibold",children:["Topic ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(Part of plan covered)"})]}),n.jsx(ge,{className:"font-semibold text-center w-32",children:"Trainer Initials"}),n.jsx(ge,{className:"font-semibold w-32",children:"Date"}),n.jsx(ge,{className:"font-semibold text-center w-20",children:"Actions"})]})}),n.jsx(ao,{children:r.map(m=>n.jsxs(Vt,{className:"min-h-[60px]",children:[n.jsx(me,{className:"font-medium",children:n.jsxs("div",{className:"py-2",children:[m.topic.split("(")[0].trim(),m.topic.includes("(")&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["(",m.topic.split("(")[1]]})]})}),n.jsx(me,{className:"text-center font-mono font-semibold",children:m.trainerInitials}),n.jsx(me,{children:Di(m.date)}),n.jsx(me,{className:"text-center",children:n.jsx(M,{variant:"ghost",size:"icon",onClick:()=>u(m),className:"h-10 w-10 text-destructive hover:text-destructive hover:bg-destructive/10",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:n.jsx(Ft,{className:"h-4 w-4"})})})]},m.id))})]})}),n.jsx(Ot,{open:o,onOpenChange:i,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Training Record?"}),n.jsxs(wt,{children:["Are you sure you want to delete this training record for ",n.jsx("strong",{children:t}),"?",l&&n.jsxs("div",{className:"mt-3 p-3 bg-muted rounded-md text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Topic:"})," ",l.topic]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Date:"})," ",Di(l.date)]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("strong",{children:"Trainer:"})," ",l.trainerInitials]})]}),n.jsx("p",{className:"mt-3 text-destructive font-medium",children:"This action cannot be undone."})]})]}),n.jsxs(jt,{children:[n.jsx(St,{children:"Cancel"}),n.jsx(bt,{onClick:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Record"})]})]})})]})}function s4({staffId:e,staffName:t,open:r,onClose:s}){const{addTrainingRecord:a}=Vr(),{toast:o}=cl(),[i,l]=d.useState(""),[c,u]=d.useState(""),[h,m]=d.useState(ec()),[p,g]=d.useState(!1),j=async()=>{if(!i){o({title:"Missing Information",description:"Please select a training topic",variant:"destructive"});return}if(!c||c.length<2||c.length>3){o({title:"Invalid Initials",description:"Trainer initials must be 2-3 characters",variant:"destructive"});return}if(!h){o({title:"Missing Date",description:"Please select a training date",variant:"destructive"});return}g(!0);try{await a(e,{topic:i,trainerInitials:c.toUpperCase(),date:new Date(h).toISOString()}),o({title:"Training Logged",description:`Training record added for ${t}`}),l(""),u(""),m(ec()),s()}catch(N){console.error("Error adding training record:",N),o({title:"Error",description:"Failed to save training record. Please try again.",variant:"destructive"})}finally{g(!1)}},v=()=>{l(""),u(""),m(ec()),s()};return n.jsx(Ue,{open:r,onOpenChange:v,children:n.jsxs(_e,{className:"max-w-2xl",children:[n.jsxs(Le,{children:[n.jsx(Be,{className:"text-2xl",children:"Log Training Record"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recording training for ",n.jsx("span",{className:"font-semibold",children:t})]})]}),n.jsxs("div",{className:"space-y-5 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Training Topic ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(W,{value:i,onChange:N=>l(N.target.value),placeholder:"e.g., Wash hands, Temperature monitoring, When something goes wrong",className:"h-12 text-base"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter any training topic including unexpected situations"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Trainer Initials ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(W,{value:c,onChange:N=>u(N.target.value.toUpperCase()),placeholder:"e.g., MW or MAW",maxLength:3,className:"h-12 text-base font-mono uppercase"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter 2-3 characters"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(W,{type:"date",value:h,onChange:N=>m(N.target.value),className:"h-12 text-base"})]})]}),n.jsxs(Ky,{className:"gap-3 sm:gap-2",children:[n.jsx(M,{variant:"outline",onClick:v,disabled:p,className:"h-12 px-6 min-h-[48px] text-base",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:"Cancel"}),n.jsx(M,{onClick:j,disabled:p,className:"h-12 px-8 min-h-[48px] text-base font-medium",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:p?"Saving...":"Save Training Record"})]})]})})}function a4(){const e=It(),{staffId:t}=Kx(),{getStaffMember:r,updateStaffMember:s,deleteStaffMember:a}=Vr(),{toast:o}=cl(),i=t?r(t):null,[l,c]=d.useState(!1),[u,h]=d.useState((i==null?void 0:i.name)||""),[m,p]=d.useState((i==null?void 0:i.initials)||""),[g,j]=d.useState((i==null?void 0:i.position)||""),[v,N]=d.useState((i==null?void 0:i.email)||""),[f,x]=d.useState((i==null?void 0:i.phone)||""),[y,w]=d.useState(!1),[C,R]=d.useState(!1),[k,D]=d.useState(!1);if(!i||!t)return n.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Staff Member Not Found"}),n.jsxs(M,{onClick:()=>e("/module/staff-training"),children:[n.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Back to Staff List"]})]});const b=async()=>{if(!u.trim()||!g.trim()){o({title:"Missing Information",description:"Name and position are required",variant:"destructive"});return}if(!m.trim()||m.trim().length!==2){o({title:"Invalid Initials",description:"Staff initials must be exactly 2 letters",variant:"destructive"});return}try{await s(t,{name:u.trim(),initials:m.trim().toUpperCase(),position:g.trim(),email:v.trim()||void 0,phone:f.trim()||void 0}),o({title:"Saved",description:"Staff information updated successfully"}),c(!1)}catch(E){console.error("Error updating staff:",E),o({title:"Error",description:"Failed to update staff information",variant:"destructive"})}},S=()=>{h(i.name),p(i.initials),j(i.position),N(i.email||""),x(i.phone||""),c(!1)},T=async()=>{D(!0);try{await a(t),o({title:"Deleted",description:`${i.name} has been removed`}),e("/module/staff-training")}catch(E){console.error("Error deleting staff:",E),o({title:"Error",description:"Failed to delete staff member",variant:"destructive"}),D(!1)}};return n.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto px-4 pb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(M,{variant:"ghost",size:"icon",onClick:()=>e("/module/staff-training"),className:"h-10 w-10",children:n.jsx(Ds,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",children:i.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i.position})]})]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(J,{children:"Staff Information"}),l?null:n.jsxs(M,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"h-10 px-4",children:[n.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),n.jsxs(q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),l?n.jsx(W,{value:u,onChange:E=>h(E.target.value),placeholder:"Staff member name",className:"h-11"}):n.jsx("div",{className:"h-11 px-3 py-2 border rounded-md bg-muted/30",children:i.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Staff Initials ",n.jsx("span",{className:"text-destructive",children:"*"})]}),l?n.jsx(W,{value:m,onChange:E=>p(E.target.value.toUpperCase()),placeholder:"e.g., HV",maxLength:2,className:"h-11 font-mono uppercase"}):n.jsx("div",{className:"h-11 px-3 py-2 border rounded-md bg-muted/30 font-mono font-bold text-lg",children:i.initials})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:["Position ",n.jsx("span",{className:"text-destructive",children:"*"})]}),l?n.jsx(W,{value:g,onChange:E=>j(E.target.value),placeholder:"e.g., Kitchen Hand",className:"h-11"}):n.jsx("div",{className:"h-11 px-3 py-2 border rounded-md bg-muted/30",children:i.position})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Email (optional)"}),l?n.jsx(W,{type:"email",value:v,onChange:E=>N(E.target.value),placeholder:"email@example.com",className:"h-11"}):n.jsx("div",{className:"h-11 px-3 py-2 border rounded-md bg-muted/30",children:i.email||n.jsx("span",{className:"text-muted-foreground",children:"Not set"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Phone (optional)"}),l?n.jsx(W,{type:"tel",value:f,onChange:E=>x(E.target.value),placeholder:"+64 21 XXX XXXX",className:"h-11"}):n.jsx("div",{className:"h-11 px-3 py-2 border rounded-md bg-muted/30",children:i.phone||n.jsx("span",{className:"text-muted-foreground",children:"Not set"})})]})]}),l&&n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(M,{onClick:b,className:"h-12 px-6 min-h-[48px] flex-1",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:"Save Changes"}),n.jsx(M,{variant:"outline",onClick:S,className:"h-12 px-6 min-h-[48px]",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:"Cancel"})]}),!l&&n.jsx("div",{className:"pt-4 border-t",children:n.jsxs(M,{variant:"destructive",onClick:()=>R(!0),className:"h-11 px-6",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:[n.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Delete Staff Member"]})})]})]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[n.jsx(J,{children:"Training History"}),n.jsxs(M,{onClick:()=>w(!0),className:"h-11 px-5 min-h-[44px]",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:[n.jsx(he,{className:"h-4 w-4 mr-2"}),"Log Training"]})]})}),n.jsx(q,{children:n.jsx(r4,{staffId:t,staffName:i.name,records:i.trainingRecords})})]}),n.jsx(s4,{staffId:t,staffName:i.name,open:y,onClose:()=>w(!1)}),n.jsx(Ot,{open:C,onOpenChange:R,children:n.jsxs(vt,{children:[n.jsxs(yt,{children:[n.jsx(Nt,{children:"Delete Staff Member?"}),n.jsxs(wt,{children:["This will permanently delete ",n.jsx("strong",{children:i.name})," and all their training records (",i.trainingRecords.length," record",i.trainingRecords.length!==1?"s":"","). This action cannot be undone."]})]}),n.jsxs(jt,{children:[n.jsx(St,{disabled:k,children:"Cancel"}),n.jsx(bt,{onClick:T,disabled:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:k?"Deleting...":"Delete"})]})]})})]})}function o4(){const e=It(),{addStaffMember:t,staffMembers:r}=Vr(),{toast:s}=cl(),[a,o]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(""),[h,m]=d.useState(""),[p,g]=d.useState(""),[j,v]=d.useState(!1),N=async f=>{if(f.preventDefault(),!a.trim()||!c.trim()){s({title:"Missing Information",description:"Name and position are required",variant:"destructive"});return}if(!i.trim()||i.trim().length!==2){s({title:"Invalid Initials",description:"Staff initials must be exactly 2 letters",variant:"destructive"});return}v(!0);try{await t({name:a.trim(),initials:i.trim().toUpperCase(),position:c.trim(),email:h.trim()||void 0,phone:p.trim()||void 0}),s({title:"Staff Member Added",description:`${a} has been added to the team`}),setTimeout(()=>{const x=r.find(y=>y.name===a.trim());e(x?`/module/staff-training/${x.id}`:"/module/staff-training")},100)}catch(x){console.error("Error adding staff:",x),s({title:"Error",description:"Failed to add staff member. Please try again.",variant:"destructive"}),v(!1)}};return n.jsxs("div",{className:"max-w-2xl mx-auto px-4 pb-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx(M,{variant:"ghost",size:"icon",onClick:()=>e("/module/staff-training"),className:"h-10 w-10",children:n.jsx(Ds,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold",children:"Add Staff Member"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new team member profile"})]})]}),n.jsxs(V,{children:[n.jsx(X,{children:n.jsx(J,{children:"Staff Information"})}),n.jsx(q,{children:n.jsxs("form",{onSubmit:N,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{htmlFor:"name",className:"text-sm font-medium",children:["Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(W,{id:"name",value:a,onChange:f=>o(f.target.value),placeholder:"Enter staff member's full name",className:"h-12 text-base",disabled:j,autoFocus:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{htmlFor:"initials",className:"text-sm font-medium",children:["Staff Initials ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(W,{id:"initials",value:i,onChange:f=>l(f.target.value.toUpperCase()),placeholder:"e.g., HV",maxLength:2,className:"h-12 text-base font-mono uppercase",disabled:j}),n.jsx("p",{className:"text-xs text-muted-foreground",children:'Enter 2 letters (e.g., "HV" for Hugo Verdes)'})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{htmlFor:"position",className:"text-sm font-medium",children:["Position ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(W,{id:"position",value:c,onChange:f=>u(f.target.value),placeholder:"e.g., Kitchen Hand, Chef, Manager",className:"h-12 text-base",disabled:j})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email (optional)"}),n.jsx(W,{id:"email",type:"email",value:h,onChange:f=>m(f.target.value),placeholder:"email@example.com",className:"h-12 text-base",disabled:j})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"phone",className:"text-sm font-medium",children:"Phone (optional)"}),n.jsx(W,{id:"phone",type:"tel",value:p,onChange:f=>g(f.target.value),placeholder:"+64 21 XXX XXXX",className:"h-12 text-base",disabled:j})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(M,{type:"submit",disabled:j,className:"h-14 px-8 min-h-[56px] text-base font-medium flex-1",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:j?"Adding...":"Add Staff Member"}),n.jsx(M,{type:"button",variant:"outline",onClick:()=>e("/module/staff-training"),disabled:j,className:"h-14 px-6 min-h-[56px] text-base",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},children:"Cancel"})]})]})})]})]})}function i4(){const{staffId:e}=Kx(),t=It(),{getStaffMember:r}=Vr(),s=e?r(e):null;if(!s||!e)return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Staff Member Not Found"}),n.jsxs(M,{onClick:()=>t("/module/staff-training"),children:[n.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Back to Staff List"]})]});const a=()=>{window.print()},o=s.createdAt?yn(new Date(s.createdAt),"dd/MM/yyyy"):yn(new Date,"dd/MM/yyyy");return n.jsxs("div",{className:"min-h-screen",children:[n.jsxs("div",{className:"print:hidden max-w-6xl mx-auto px-4 py-4 flex items-center justify-between bg-background sticky top-0 z-10 border-b",children:[n.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>t(`/module/staff-training/${e}`),children:[n.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Back to Staff Detail"]}),n.jsxs(M,{onClick:a,size:"sm",children:[n.jsx(xg,{className:"h-4 w-4 mr-2"}),"Print Record"]})]}),n.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-8 print:px-12 print:py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold print:bg-blue-700",children:"MPI"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 print:text-black",style:{fontFamily:"Tw Cen MT, sans-serif"},children:"Staff training records"}),n.jsx("p",{className:"text-lg text-gray-700 mt-1",children:s.name})]})]}),n.jsxs("div",{className:"text-right text-sm",children:[n.jsx("p",{className:"text-gray-600",children:'See the "Training and'}),n.jsx("p",{className:"text-gray-600",children:'competency" dark blue'}),n.jsx("p",{className:"text-gray-600",children:"card in SS&S"})]})]}),n.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 mb-6 print:bg-gray-100 print:border-gray-800",children:n.jsxs("p",{className:"text-sm text-gray-800 print:text-black",children:[n.jsx("strong",{children:"Staff"})," could include volunteers, family, friends, owner/operators, and managers, who may carry out food related tasks in your business or operation. You do not need to keep training records if you are a sole operator and do not need to keep training records."]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Position*"}),n.jsx("div",{className:"border-2 border-gray-300 rounded px-3 py-2 bg-white print:bg-white",children:s.position})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Start date*"}),n.jsx("div",{className:"border-2 border-gray-300 rounded px-3 py-2 bg-white print:bg-white",children:o})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email*"}),n.jsx("div",{className:"border-2 border-gray-300 rounded px-3 py-2 bg-white print:bg-white",children:s.email||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone number*"}),n.jsx("div",{className:"border-2 border-gray-300 rounded px-3 py-2 bg-white print:bg-white",children:s.phone||"Not provided"})]})]})]}),n.jsxs("div",{className:"border-2 border-gray-800 print:border-black",children:[n.jsxs("div",{className:"grid grid-cols-12 bg-blue-700 text-white print:bg-blue-800 print:text-white",children:[n.jsx("div",{className:"col-span-6 p-3 border-r-2 border-white print:border-white font-semibold",children:"Topic (Part of the plan that has been covered)"}),n.jsx("div",{className:"col-span-2 p-3 border-r-2 border-white print:border-white font-semibold text-center",children:"Staff's name"}),n.jsx("div",{className:"col-span-2 p-3 border-r-2 border-white print:border-white font-semibold text-center",children:"Trainer initials"}),n.jsx("div",{className:"col-span-2 p-3 font-semibold text-center",children:"Date"})]}),s.trainingRecords.map((i,l)=>n.jsxs("div",{className:`grid grid-cols-12 border-t-2 border-gray-800 print:border-black ${l%2===0?"bg-blue-50 print:bg-gray-50":"bg-white print:bg-white"}`,children:[n.jsxs("div",{className:"col-span-6 p-3 border-r-2 border-gray-300 print:border-gray-400",children:[n.jsx("div",{className:"font-semibold text-gray-900 print:text-black mb-1",children:i.topic.split("(")[0].trim()}),i.topic.includes("(")&&n.jsxs("div",{className:"text-sm text-gray-600 print:text-gray-700 italic",children:["(",i.topic.split("(")[1]]})]}),n.jsx("div",{className:"col-span-2 p-3 border-r-2 border-gray-300 print:border-gray-400 text-center flex items-center justify-center",children:n.jsx("span",{className:"font-medium",children:s.name})}),n.jsx("div",{className:"col-span-2 p-3 border-r-2 border-gray-300 print:border-gray-400 text-center flex items-center justify-center",children:n.jsx("span",{className:"font-mono font-bold text-lg",children:i.trainerInitials})}),n.jsx("div",{className:"col-span-2 p-3 text-center flex items-center justify-center",children:n.jsx("span",{children:yn(new Date(i.date),"dd/MM/yyyy")})})]},i.id)),Array.from({length:Math.max(8-s.trainingRecords.length,0)}).map((i,l)=>n.jsxs("div",{className:`grid grid-cols-12 border-t-2 border-gray-800 print:border-black ${(s.trainingRecords.length+l)%2===0?"bg-blue-50 print:bg-gray-50":"bg-white print:bg-white"}`,children:[n.jsx("div",{className:"col-span-6 p-3 border-r-2 border-gray-300 print:border-gray-400 h-16",children:""}),n.jsx("div",{className:"col-span-2 p-3 border-r-2 border-gray-300 print:border-gray-400 h-16",children:""}),n.jsx("div",{className:"col-span-2 p-3 border-r-2 border-gray-300 print:border-gray-400 h-16",children:""}),n.jsx("div",{className:"col-span-2 p-3 h-16",children:""})]},`empty-${l}`))]}),n.jsxs("div",{className:"mt-8 text-xs text-gray-500 print:text-gray-600",children:[n.jsx("p",{children:"Generated by Taquero - Food Safety Management System"}),n.jsxs("p",{children:["Printed: ",yn(new Date,"dd MMMM yyyy, HH:mm")]}),n.jsx("p",{className:"mt-2",children:"This document complies with MPI Food Control Plan requirements for staff training record keeping."})]})]}),n.jsx("style",{children:`
        @media print {
          body {
            background: white !important;
          }
          @page {
            margin: 1.5cm;
            size: A4;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:bg-white {
            background: white !important;
          }
          .print\\:bg-gray-50 {
            background: #f9fafb !important;
          }
          .print\\:bg-gray-100 {
            background: #f3f4f6 !important;
          }
          .print\\:bg-blue-800 {
            background: #1e40af !important;
          }
          .print\\:text-black {
            color: black !important;
          }
          .print\\:text-white {
            color: white !important;
          }
          .print\\:text-gray-700 {
            color: #374151 !important;
          }
          .print\\:text-gray-600 {
            color: #4b5563 !important;
          }
          .print\\:border-black {
            border-color: black !important;
          }
          .print\\:border-white {
            border-color: white !important;
          }
          .print\\:border-gray-400 {
            border-color: #9ca3af !important;
          }
          .print\\:border-gray-800 {
            border-color: #1f2937 !important;
          }
        }
      `})]})}function l4(){const{isAuthenticated:e,login:t}=We(),[r,s]=d.useState(!1),[a,o]=d.useState([]),i=(h,m="info")=>{const p=Date.now();o(g=>[...g,{id:p,message:h,type:m}])},l=h=>{o(m=>m.filter(p=>p.id!==h))},c=()=>{s(!0)},u=h=>{t(h),i(`Welcome, ${h}!`,"success")};return e?n.jsxs(s1,{children:[n.jsx(aE,{children:n.jsxs(t1,{children:[n.jsx(ae,{path:"/",element:n.jsx(lE,{})}),n.jsx(ae,{path:"/restaurant",element:n.jsx(cE,{})}),n.jsx(ae,{path:"/restaurant/fcp",element:n.jsx(uE,{})}),n.jsx(ae,{path:"/restaurant/inventory",element:n.jsx(yr,{title:"Inventory Management",description:"Stocktaking & shopping lists"})}),n.jsx(ae,{path:"/restaurant/financial",element:n.jsx(yr,{title:"Financial Data",description:"CSV intake & data visualization"})}),n.jsx(ae,{path:"/restaurant/events",element:n.jsx(yr,{title:"Caravan Events",description:"Event management & scheduling"})}),n.jsx(ae,{path:"/manufacturing",element:n.jsx(dE,{})}),n.jsx(ae,{path:"/manufacturing/fcp",element:n.jsx(mE,{})}),n.jsx(ae,{path:"/manufacturing/traceability",element:n.jsx(E3,{})}),n.jsx(ae,{path:"/manufacturing/b2b",element:n.jsx(yr,{title:"B2B Sales Tracking",description:"Business-to-business orders"})}),n.jsx(ae,{path:"/module/fridge-temps",element:n.jsx(HT,{})}),n.jsx(ae,{path:"/module/staff-training",element:n.jsx(e4,{})}),n.jsx(ae,{path:"/module/staff-training/add",element:n.jsx(o4,{})}),n.jsx(ae,{path:"/module/staff-training/:staffId",element:n.jsx(a4,{})}),n.jsx(ae,{path:"/module/staff-training/:staffId/mpi-record",element:n.jsx(i4,{})}),n.jsx(ae,{path:"/module/personal-hygiene",element:n.jsx(LD,{})}),n.jsx(ae,{path:"/module/cleaning-closing",element:n.jsx(h3,{})}),n.jsx(ae,{path:"/module/equipment-maintenance",element:n.jsx(g3,{})}),n.jsx(ae,{path:"/module/cooking-poultry-batch",element:n.jsx(kD,{})}),n.jsx(ae,{path:"/module/proving-method",element:n.jsx(yr,{title:"Proving the Method",description:"Method validation records"})}),n.jsx(ae,{path:"/module/proving-reheating",element:n.jsx(ID,{})}),n.jsx(ae,{path:"/module/proving-time-temp",element:n.jsx(DD,{})}),n.jsx(ae,{path:"/module/proving-cooling",element:n.jsx(PD,{})}),n.jsx(ae,{path:"/module/cooling-batch",element:n.jsx($D,{})}),n.jsx(ae,{path:"/module/something-wrong",element:n.jsx(N3,{})}),n.jsx(ae,{path:"/module/customer-complaints",element:n.jsx(M3,{})}),n.jsx(ae,{path:"/module/allergens",element:n.jsx(KD,{})}),n.jsx(ae,{path:"/module/suppliers",element:n.jsx(XD,{})}),n.jsx(ae,{path:"/module/supplier-deliveries",element:n.jsx(n3,{})}),n.jsx(ae,{path:"/module/transport-temp-checks",element:n.jsx(a3,{})}),n.jsx(ae,{path:"/module/b2b-sales",element:n.jsx(c3,{})}),n.jsx(ae,{path:"/module/processes-controls",element:n.jsx(yr,{title:"Processes & Controls",description:"Knowing your processes and controls"})}),n.jsx(ae,{path:"/module/selling-to-businesses",element:n.jsx(yr,{title:"Selling to Businesses",description:"B2B sales documentation"})}),n.jsx(ae,{path:"*",element:n.jsx(J0,{to:"/",replace:!0})})]})}),n.jsx(mn,{children:a.map(h=>n.jsx(un,{message:h.message,type:h.type,onClose:()=>l(h.id)},h.id))})]}):r?n.jsx(Ub,{onUserSelect:u}):n.jsx($b,{onPasswordCorrect:c,onError:h=>i(h,"error")})}document.documentElement.classList.add("dark");tc.createRoot(document.getElementById("root")).render(n.jsx(en.StrictMode,{children:n.jsx(l4,{})}));
