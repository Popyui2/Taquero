=================================================================================
                    TAQUERO CODEBASE - VISUAL SUMMARY
=================================================================================

TECH STACK AT A GLANCE
=================================================================================

Frontend:           Vanilla HTML5 + CSS3 + ES6+ JavaScript
Backend:            Google Sheets API + Google Apps Script
Auth:               Google Sign-In SDK
Storage:            Google Sheets + localStorage
PWA:                Service Worker + Web App Manifest
Hosting:            Traditional HTTP (Apache with .htaccess)
Build System:       NONE - Zero dependencies!

Frameworks:         None (React, Vue, Angular - NOT used)
Package Manager:    None (npm, yarn - NOT used)
Build Tools:        None (webpack, Vite - NOT used)


DIRECTORY TREE
=================================================================================

/home/martin/Taquero/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ index.html               ‚Üê MAIN APP (single-page)
‚îú‚îÄ‚îÄ üìÑ manifest.json            ‚Üê PWA manifest
‚îú‚îÄ‚îÄ üìÑ sw.js                    ‚Üê Service Worker
‚îú‚îÄ‚îÄ üìÑ .htaccess                ‚Üê Server config
‚îú‚îÄ‚îÄ üìÑ icon-generator.html      ‚Üê Icon creation tool
‚îÇ
‚îú‚îÄ‚îÄ üìÅ css/
‚îÇ   ‚îî‚îÄ‚îÄ styles.css              (14,983 bytes - all styling)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js                  (7,377 bytes - core logic)
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                 (4,912 bytes - authentication)
‚îÇ   ‚îî‚îÄ‚îÄ sheets.js               (4,962 bytes - Google Sheets)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Proyecto_Compliance/     (copy of above for deployment)
‚îÇ
‚îî‚îÄ‚îÄ üìÅ Documentation/
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ QUICKSTART.md
    ‚îú‚îÄ‚îÄ SETUP_GUIDE.md
    ‚îú‚îÄ‚îÄ DEPLOYMENT_CHECKLIST.md
    ‚îî‚îÄ‚îÄ ICON_GUIDE.md


COLOR PALETTE (Stripe-inspired)
=================================================================================

Primary:        #635BFF (Purple)         Secondary:      #0A2540 (Dark Blue)
Success:        #00C48C (Green)          Warning:        #FFB23F (Orange)
Danger:         #FF5A5F (Red)

Background:     #F6F9FC (Light)          Surface:        #FFFFFF (White)
Text:           #0A2540 (Dark)           Muted:          #697386 (Gray)


COMPONENT INVENTORY
=================================================================================

CARDS
  .record-card
    ‚Ä¢ Grid layout: auto-fit, minmax(280px, 1fr)
    ‚Ä¢ Icon emoji + title + description
    ‚Ä¢ Hover: lift effect + shadow + top border
    ‚Ä¢ Data attribute: data-type="record_type"
    ‚Ä¢ Click triggers: showView(type)

BUTTONS
  .btn-primary      (gradient blue)
  .btn-secondary    (outlined)
  .btn-back         (text/transparent)
  .btn-logout       (danger red)
  ‚Ä¢ Min height: 44px (touch-friendly)
  ‚Ä¢ Hover: lift + shadow
  ‚Ä¢ Active: return to normal

FORMS
  .record-form
    ‚Ä¢ Input, select, textarea all styled
    ‚Ä¢ Min height: 44px
    ‚Ä¢ Focus: colored border + glow
    ‚Ä¢ Custom select dropdown
    ‚Ä¢ Validation feedback

NOTIFICATIONS
  .toast-container (fixed bottom-right)
    ‚Ä¢ Auto-dismiss: 3 seconds
    ‚Ä¢ Variants: success (green), error (red), warning (orange)
    ‚Ä¢ Slide-in animation
    ‚Ä¢ Left border colored

OVERLAYS
  .loading-overlay  (full-screen backdrop blur)
    ‚Ä¢ Spinner animation
    ‚Ä¢ Message text
    ‚Ä¢ Semi-transparent dark background

HEADER
  .app-header       (sticky)
    ‚Ä¢ Title on left
    ‚Ä¢ User info + logout on right
    ‚Ä¢ Box-shadow, border-bottom


ROUTING & NAVIGATION FLOW
=================================================================================

                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ  LOGIN SCREEN   ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    User signs in (Google or test)
                                 ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ  APP SCREEN     ‚îÇ
                        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                        ‚îÇ  Header         ‚îÇ  ‚Üê Sticky
                        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                        ‚îÇ DASHBOARD VIEW  ‚îÇ  ‚Üê Default active
                        ‚îÇ (Card Grid)     ‚îÇ
                        ‚îÇ  ‚îú‚îÄ Temp Logs   ‚îÇ
                        ‚îÇ  ‚îú‚îÄ Cleaning    ‚îÇ
                        ‚îÇ  ‚îú‚îÄ Delivery    ‚îÇ
                        ‚îÇ  ‚îú‚îÄ Incidents   ‚îÇ
                        ‚îÇ  ‚îú‚îÄ Staff       ‚îÇ
                        ‚îÇ  ‚îî‚îÄ Reports     ‚îÇ
                        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                        ‚îÇ FORM VIEWS      ‚îÇ  ‚Üê Hidden until clicked
                        ‚îÇ (5 templates)   ‚îÇ
                        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                        ‚îÇ OVERLAYS        ‚îÇ
                        ‚îÇ ‚îú‚îÄ Loading      ‚îÇ
                        ‚îÇ ‚îî‚îÄ Toasts       ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

NAVIGATION METHOD:
  .record-card.click ‚Üí data-type attribute ‚Üí App.showView(type)
  .btn-back.click ‚Üí App.showView('dashboard')
  .btn-logout.click ‚Üí Auth.logout()

VIEW SWITCHING:
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'))
  document.getElementById(`${viewName}-view`).classList.add('active')


STATE MANAGEMENT ARCHITECTURE
=================================================================================

Global Objects (Modules):

  Auth {
    currentUser:   { name, email, picture }
    accessToken:   JWT token
    
    Methods:
    ‚Ä¢ init()              Check localStorage for existing session
    ‚Ä¢ testLogin()         Demo login (password: "123456")
    ‚Ä¢ saveSession()       Store user + token in localStorage
    ‚Ä¢ logout()            Clear session, show login screen
    ‚Ä¢ showApp()           Transition login ‚Üí app screen
    ‚Ä¢ showLogin()         Transition app ‚Üí login screen
  }

  App {
    currentView:   'dashboard' | 'temperature' | etc.
    
    Methods:
    ‚Ä¢ init()              Register SW, setup navigation, init sheets
    ‚Ä¢ setupNavigation()   Wire up card + button clicks
    ‚Ä¢ showView()          Switch active view
    ‚Ä¢ setupForms()        Attach form submission handlers
    ‚Ä¢ validateTemperature() Check temp ranges
    ‚Ä¢ simulateSave()      Save to localStorage
  }

  SheetsAPI {
    SPREADSHEET_ID: ''   (needs setup)
    API_KEY: ''          (needs setup)
    SHEETS: { temperature, cleaning, delivery, incident, staff }
    
    Methods:
    ‚Ä¢ init()              Load Google Sheets API
    ‚Ä¢ appendRow()         Add row to sheet
    ‚Ä¢ getSheetData()      Read from sheet
    ‚Ä¢ saveTemperatureLog() Save temp record
  }

  SimpleSheetsAPI {
    WEB_APP_URL: ''      (needs setup)
    
    Methods:
    ‚Ä¢ saveRecord()        Generic save via Google Apps Script
    ‚Ä¢ saveTemperatureLog() Save temp record
  }

PERSISTENCE:
  localStorage:
    ‚Ä¢ 'mpi_user'         User object (JSON)
    ‚Ä¢ 'mpi_token'        Auth token (string)
    ‚Ä¢ 'mpi_temp_records' Temperature records (JSON array)


FORM HANDLING EXAMPLE (Temperature Log)
=================================================================================

HTML:
  <form id="temperature-form">
    <select id="temp-type">              ‚Üê Equipment type
    <input id="temp-location">           ‚Üê Location name
    <input id="temp-value" type="number">‚Üê Temperature value
    <textarea id="temp-notes">           ‚Üê Optional notes
    <button type="submit">Save Record</button>
  </form>

SUBMISSION FLOW:
  1. User fills form ‚Üí clicks Save
  2. Form submit event fired
  3. Extract form values
  4. validateTemperature() checks range
     ‚îú‚îÄ If out of range: warn user (confirm dialog)
     ‚îî‚îÄ If user cancels: stop
  5. showLoading(true)           ‚Üê Full-screen overlay + spinner
  6. simulateSave(data)          ‚Üê Save to localStorage
     (later: SimpleSheetsAPI.saveTemperatureLog(data))
  7. showLoading(false)          ‚Üê Hide overlay
  8. showToast('Success', 'success')   ‚Üê Green notification
  9. form.reset()                ‚Üê Clear inputs
  10. showView('dashboard')      ‚Üê Back to dashboard

VALIDATION RULES:
  Fridge:       -2¬∞C  to  8¬∞C
  Freezer:     -25¬∞C  to -15¬∞C
  Hot Holding:  60¬∞C  to 100¬∞C
  Cooling:      0¬∞C  to  21¬∞C
  Delivery:     (same as fridge)


RESPONSIVE DESIGN
=================================================================================

BREAKPOINTS:

  Mobile (default)
  ‚îú‚îÄ Full width
  ‚îú‚îÄ Single column dashboard
  ‚îú‚îÄ 44px min button height
  ‚îî‚îÄ Touch-optimized

  Tablet (768px - 1024px)
  ‚îú‚îÄ 2-column dashboard grid
  ‚îú‚îÄ Larger touch targets
  ‚îú‚îÄ Bigger icons (3rem)
  ‚îî‚îÄ Increased padding

  Desktop (1024px+)
  ‚îú‚îÄ Auto-fit grid (default)
  ‚îú‚îÄ Normal padding
  ‚îî‚îÄ Hover effects enabled

TOUCH DEVICE DETECTION:
  @media (hover: none) and (pointer: coarse)
  ‚Ä¢ Min height 48px for touch targets
  ‚Ä¢ Font size 1rem (vs 0.9375rem)
  ‚Ä¢ No hover effects


CSS ORGANIZATION (styles.css - 719 lines)
=================================================================================

1. Reset & Base Styles       (lines 1-80)
2. CSS Custom Properties     (lines 8-46)
3. Typography                (lines 60-78)
4. Login Screen              (lines 92-250)
5. App Header                (lines 251-288)
6. Buttons                   (lines 289-366)
7. Main Content              (lines 368-372)
8. View Management           (lines 374-381)
9. Dashboard Grid            (lines 383-458)
10. Form Header              (lines 460-473)
11. Forms                    (lines 475-569)
12. Notifications            (lines 612-661)
13. Loading Overlay          (lines 571-610)
14. Responsive Queries       (lines 663-707)
15. Accessibility            (lines 710-718)


PWA FEATURES
=================================================================================

SERVICE WORKER (sw.js):
  ‚úì Install event    ‚Üí Cache critical files
  ‚úì Activate event   ‚Üí Clean old caches
  ‚úì Fetch event      ‚Üí Serve from cache (fallback to network)
  ‚úì Version control  ‚Üí 'mpi-compliance-v1'
  
  CACHED RESOURCES:
  ‚Ä¢ index.html
  ‚Ä¢ css/styles.css
  ‚Ä¢ js/{app, auth, sheets}.js
  ‚Ä¢ manifest.json

WEB APP MANIFEST (manifest.json):
  ‚úì Name: "MPI Compliance Records"
  ‚úì Display: "standalone" (full-screen)
  ‚úì Theme color: #635BFF
  ‚úì Icons: 192x192 + 512x512 PNG
  ‚úì Start URL: /index.html


CURRENT IMPLEMENTATION STATUS
=================================================================================

FULLY IMPLEMENTED ‚úÖ
  ‚úì Google Sign-In authentication
  ‚úì Test login (password: 123456)
  ‚úì Dashboard card layout
  ‚úì View switching/navigation
  ‚úì Temperature Log form + validation
  ‚úì Toast notifications
  ‚úì Loading overlay
  ‚úì Service Worker + PWA manifest
  ‚úì Responsive design
  ‚úì localStorage persistence
  ‚úì Logout functionality

PARTIALLY IMPLEMENTED ‚ö†Ô∏è
  ~ Google Sheets API (code ready, needs Google Cloud setup)
  ~ Google Apps Script (code ready, needs deployment)

NOT YET IMPLEMENTED ‚ùå
  ‚úó Cleaning Checklist form
  ‚úó Delivery Log form
  ‚úó Incident Report form
  ‚úó Staff Records form
  ‚úó Reports/Search view
  ‚úó Data export functionality
  ‚úó Multi-user permissions
  ‚úó Offline data sync


FILES YOU NEED TO UNDERSTAND FOR DUAL-DASHBOARD
=================================================================================

CRITICAL FILES (must understand):
  1. index.html         How to add new screens
  2. js/app.js          Navigation logic (showView method)
  3. css/styles.css     Card styling (.record-card)
  4. js/auth.js         Authentication flow

CODE PATTERNS TO REUSE:

  # Pattern 1: Card Grid
  .dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.25rem;
  }

  # Pattern 2: View Switching
  showView(viewName) {
    document.querySelectorAll('.view').forEach(v => 
      v.classList.remove('active')
    );
    document.getElementById(`${viewName}-view`).classList.add('active');
    this.currentView = viewName;
  }

  # Pattern 3: Form Submission
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    showLoading(true);
    try {
      // validation
      // api call
      showToast('Success', 'success');
    } catch (error) {
      showToast('Error: ' + error.message, 'error');
    } finally {
      showLoading(false);
      showView('dashboard');
    }
  });


DEPLOYMENT READY CHECKLIST
=================================================================================

BEFORE DEPLOYING:
  ‚òê Create icons (192x192 and 512x512 PNG)
  ‚òê Set Google Client ID in index.html
  ‚òê Set Google Apps Script Web App URL in sheets.js
  ‚òê Configure Google Sheets (create sheets for each record type)
  ‚òê Test locally with Python HTTP server
  ‚òê Test all forms
  ‚òê Test data saving to Google Sheets
  ‚òê Test PWA install on tablet
  ‚òê Verify HTTPS is enabled
  ‚òê Clear browser cache before testing
  ‚òê Test on actual tablet device

HOSTING REQUIREMENTS:
  ‚úì HTTPS required (for PWA)
  ‚úì Apache with .htaccess support
  ‚úì Static file serving only (no server-side code needed)
  ‚úì CORS enabled for Google APIs


KEY METRICS
=================================================================================

App Size:
  ‚Ä¢ index.html:      8,691 bytes
  ‚Ä¢ styles.css:     14,983 bytes
  ‚Ä¢ app.js:          7,377 bytes
  ‚Ä¢ auth.js:         4,912 bytes
  ‚Ä¢ sheets.js:       4,962 bytes
  TOTAL:            40,925 bytes (~40 KB)

Performance:
  ‚Ä¢ Zero JavaScript dependencies
  ‚Ä¢ Loads in <1 second on modern connection
  ‚Ä¢ Optimized for 2018 tablet hardware
  ‚Ä¢ Service Worker enables offline use

Browser Support:
  ‚úì Chrome 90+
  ‚úì Edge 90+
  ‚úì Firefox 88+
  ‚úì Safari 13+


=================================================================================
               READY FOR DUAL-DASHBOARD IMPLEMENTATION
=================================================================================

Current state: Solid foundation with excellent patterns
Next step: Create Restaurant + Manufacturing dashboards
Strategy: Add alongside existing MPI dashboard, share infrastructure

